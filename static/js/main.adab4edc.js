(function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='/',t(t.s=9)})([function(e,t,n){'use strict';e.exports=n(16)},function(e,t,n){'use strict';function o(e){function t(t,n,o,a,r,i){for(var s=arguments.length,d=Array(6<s?s-6:0),l=6;l<s;l++)d[l-6]=arguments[l];return Object(v.l)(function(){if(a=a||'<<anonymous>>',i=i||o,null==n[o]){if(t){var s=null===n[o]?'null':'undefined';return new Error('The '+r+' `'+i+'` is marked as required in `'+a+'`, but its value is `'+s+'`.')}return null}return e.apply(void 0,[n,o,a,r,i].concat(d))})}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function a(e,t){return!('symbol'!==e)||!('Symbol'!==t['@@toStringTag'])||!!('function'==typeof Symbol&&t instanceof Symbol)}function r(e){var t='undefined'==typeof e?'undefined':S(e);return Array.isArray(e)?'array':e instanceof RegExp?'object':a(t,e)?'symbol':t}function i(e){var t=r(e);if('object'===t){if(e instanceof Date)return'date';if(e instanceof RegExp)return'regexp'}return t}function s(e,t){return o(function(n,o,a,s,d){return Object(v.l)(function(){if(e&&r(n[o])===t.toLowerCase())return null;var s;switch(t){case'Array':s=v.g;break;case'Object':s=v.i;break;case'Map':s=v.h;break;default:throw new Error('Unexpected mobxType: '+t);}var l=n[o];if(!s(l)){var c=i(l),u=e?' or javascript `'+t.toLowerCase()+'`':'';return new Error('Invalid prop `'+d+'` of type `'+c+'` supplied to `'+a+'`, expected `mobx.Observable'+t+'`'+u+'.')}return null})})}function d(e,t){return o(function(n,o,a,r,d){for(var i=arguments.length,l=Array(5<i?i-5:0),c=5;c<i;c++)l[c-5]=arguments[c];return Object(v.l)(function(){if('function'!=typeof t)return new Error('Property `'+d+'` of component `'+a+'` has invalid PropType notation.');var c=s(e,'Array')(n,o,a);if(c instanceof Error)return c;for(var u=n[o],p=0;p<u.length;p++)if(c=t.apply(void 0,[u,p,a,r,d+'['+p+']'].concat(l)),c instanceof Error)return c;return null})})}function l(e){return!(e.prototype&&e.prototype.render)}function c(e,t,n){var o='inject-'+(t.displayName||t.name||t.constructor&&t.constructor.name||'Unknown'),a,r;n&&(o+='-with-'+n);var i=(r=a=function(n){function o(){var e,t,n,a;E(this,o);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=(t=(n=I(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(i))),n),n.storeRef=function(e){n.wrappedInstance=e},t),I(n,a)}return O(o,n),A(o,[{key:'render',value:function(){var n={};for(var o in this.props)this.props.hasOwnProperty(o)&&(n[o]=this.props[o]);var a=e(this.context.mobxStores||{},n,this.context)||{};for(var r in a)n[r]=a[r];return l(t)||(n.ref=this.storeRef),Object(w.createElement)(t,n)}}]),o}(w.Component),a.displayName=o,r);return z(i,t),i.wrappedComponent=t,Object.defineProperties(i,Z),i}function u(e){return function(t,n){return e.forEach(function(e){if(!(e in n)){if(!(e in t))throw new Error('MobX injector: Store \''+e+'\' is not available! Make sure it is provided by some Provider');n[e]=t[e]}}),n}}function p(){var e;if('function'==typeof arguments[0])return e=arguments[0],function(t){var n=c(e,t);return n.isMobxInjector=!1,n=_(n),n.isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=u(t),function(n){return c(e,n,t.join('-'))}}function m(e){if(C.findDOMNode)try{return Object(C.findDOMNode)(e)}catch(t){return null}return null}function f(e){var t=m(e);t&&ne&&ne.set(t,e),oe.emit({event:'render',renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function g(){if('undefined'==typeof WeakMap)throw new Error('[mobx-react] tracking components is not supported in this browser.');X||(X=!0)}function h(e,t){var n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2],o=e[t],a=re[t],r=o?!0===n?function(){a.apply(this,arguments),o.apply(this,arguments)}:function(){o.apply(this,arguments),a.apply(this,arguments)}:a;e[t]=r}function b(e,t){if(y(e,t))return!0;if('object'!==('undefined'==typeof e?'undefined':S(e))||null===e||'object'!==('undefined'==typeof t?'undefined':S(t))||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!hasOwnProperty.call(t,n[a])||!y(e[n[a]],t[n[a]]))return!1;return!0}function y(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function _(e,t){if('string'==typeof e)throw new Error('Store names should be provided as array');if(Array.isArray(e))return te||(te=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?p.apply(null,e)(_(t)):function(t){return _(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn('Mobx observer: You are trying to use \'observer\' on a component that already has \'inject\'. Please apply \'observer\' before applying \'inject\''),'function'==typeof n&&(!n.prototype||!n.prototype.render)&&!n.isReactClass&&!w.Component.isPrototypeOf(n)){var o,a;return _((a=o=function(e){function t(){return E(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),A(t,[{key:'render',value:function(){return n.call(this,this.props,this.context)}}]),t}(w.Component),o.displayName=n.displayName||n.name,o.contextTypes=n.contextTypes,o.propTypes=n.propTypes,o.defaultProps=n.defaultProps,a))}if(!n)throw new Error('Please pass a valid component to \'observer\'');var r=n.prototype||n;return k(r),n.isMobXReactObserver=!0,n}function k(e){h(e,'componentWillMount',!0),['componentDidMount','componentWillUnmount','componentDidUpdate'].forEach(function(t){h(e,t)}),e.shouldComponentUpdate||(e.shouldComponentUpdate=re.shouldComponentUpdate)}n.d(t,'c',function(){return _}),n.d(t,'a',function(){return le}),n.d(t,'b',function(){return p});var v=n(8),w=n(0),x=n.n(w),C=n(7),T=n.n(C),S='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},P=function(){function e(e){this.value=e}function t(t){function n(a,r){try{var i=t[a](r),s=i.value;s instanceof e?Promise.resolve(s.value).then(function(e){n('next',e)},function(e){n('throw',e)}):o(i.done?'return':'normal',i.value)}catch(e){o('throw',e)}}function o(e,t){'return'===e?a.resolve({value:t,done:!0}):'throw'===e?a.reject(t):a.resolve({value:t,done:!1});a=a.next,a?n(a.key,a.arg):r=null}var a,r;this._invoke=function(e,t){return new Promise(function(o,i){var s={key:e,arg:t,resolve:o,reject:i,next:null};r?r=r.next=s:(a=r=s,n(e,t))})},'function'!=typeof t.return&&(this.return=void 0)}return'function'==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke('next',e)},t.prototype.throw=function(e){return this._invoke('throw',e)},t.prototype.return=function(e){return this._invoke('return',e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),E=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},A=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),O=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},I=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e},R=function(){function e(){E(this,e),this.listeners=[]}return A(e,[{key:'on',value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:'emit',value:function(e){this.listeners.forEach(function(t){return t(e)})}}]),e}(),M;var D={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},N={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},V=Object.defineProperty,F=Object.getOwnPropertyNames,L=Object.getOwnPropertySymbols,B=Object.getOwnPropertyDescriptor,U=Object.getPrototypeOf,j=U&&U(Object),z=function e(t,n,o){if('string'!=typeof n){if(j){var a=U(n);a&&a!==j&&e(t,a,o)}var r=F(n);L&&(r=r.concat(L(n)));for(var s=0,i;s<r.length;++s)if(i=r[s],!D[i]&&!N[i]&&(!o||!o[i])){var d=B(n,i);try{V(t,i,d)}catch(t){}}return t}return t},H=s(!1,'Array'),W=d.bind(null,!1),Y=s(!1,'Map'),q=s(!1,'Object'),$=s(!0,'Array'),K=d.bind(null,!0),G=s(!0,'Object'),Q=Object.freeze({observableArray:H,observableArrayOf:W,observableMap:Y,observableObject:q,arrayOrObservableArray:$,arrayOrObservableArrayOf:K,objectOrObservableObject:G}),J={mobxStores:G};Object.seal(J);var Z={contextTypes:{get:function(){return J},set:function(){console.warn('Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`')},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}},X=!1,ee=!1,te=!1,ne='undefined'==typeof WeakMap?void 0:new WeakMap,oe=new R,ae=new R,re={componentWillMount:function(){function e(e){var t=this[e],n=Object(v.e)('reactive '+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return n.reportObserved(),t},set:function(e){r||b(t,e)?t=e:(t=e,a=!0,n.reportChanged(),a=!1)}})}var t=this;if(!0!==ee){var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||'<component>',o=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalFiber&&this._reactInternalFiber._debugID,a=!1,r=!1;e.call(this,'props'),e.call(this,'state');var i=this.render.bind(this),s=null,d=!1,l=function(){return s=new v.a(n+'#'+o+'.render()',function(){if(!d&&(d=!0,'function'==typeof t.componentWillReact&&t.componentWillReact(),!0!==t.__$mobxIsUnmounted)){var e=!0;try{r=!0,a||w.Component.prototype.forceUpdate.call(t),e=!1}finally{r=!1,e&&s.dispose()}}}),s.reactComponent=t,c.$mobx=s,t.render=c,c()},c=function(){d=!1;var n,e;if(s.track(function(){X&&(t.__$mobRenderStart=Date.now());try{e=Object(v.b)(!1,i)}catch(t){n=t}X&&(t.__$mobRenderEnd=Date.now())}),n)throw ae.emit(n),n;return e};this.render=l}},componentWillUnmount:function(){if(!0!==ee&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,X)){var e=m(this);e&&ne&&ne.delete(e),oe.emit({event:'destroy',component:this,node:e})}},componentDidMount:function(){X&&f(this)},componentDidUpdate:function(){X&&f(this)},shouldComponentUpdate:function(e,t){return ee&&console.warn('[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side.'),this.state!==t||!b(this.props,e)}},ie=_(function(e){var t=e.children,n=e.inject,o=e.render,a=t||o;if('undefined'==typeof a)return null;if(!n)return a();var r=p(n)(a);return x.a.createElement(r,null)});ie.displayName='Observer';var se=function(e,t,n,o,a){var r='children'===t?'render':'children';return'function'==typeof e[t]&&'function'==typeof e[r]?new Error('Invalid prop,do not use children and render in the same time in`'+n):'function'==typeof e[t]||'function'==typeof e[r]?void 0:new Error('Invalid prop `'+a+'` of type `'+S(e[t])+'` supplied to `'+n+'`, expected `function`.')};ie.propTypes={render:se,children:se};var de={children:!0,key:!0,ref:!0},le=(ue=ce=function(e){function t(){return E(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),A(t,[{key:'render',value:function(){return w.Children.only(this.props.children)}},{key:'getChildContext',value:function(){var e={},t=this.context.mobxStores;if(t)for(var n in t)e[n]=t[n];for(var o in this.props)de[o]||'suppressChangedStoreWarning'===o||(e[o]=this.props[o]);return{mobxStores:e}}},{key:'componentWillReceiveProps',value:function(e){if(Object.keys(e).length!==Object.keys(this.props).length&&console.warn('MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children'),!e.suppressChangedStoreWarning)for(var t in e)de[t]||this.props[t]===e[t]||console.warn('MobX Provider: Provided store \''+t+'\' has changed. Please avoid replacing stores as the change might not propagate to all children')}}]),t}(w.Component),ce.contextTypes={mobxStores:G},ce.childContextTypes={mobxStores:G.isRequired},ue),ce,ue;if(!w.Component)throw new Error('mobx-react requires React to be available');if(!v.k)throw new Error('mobx-react requires mobx to be available');'function'==typeof C.unstable_batchedUpdates?Object(v.d)({reactionScheduler:C.unstable_batchedUpdates}):'function'==typeof M&&Object(v.d)({reactionScheduler:M});if('object'===('undefined'==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?'undefined':S(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var pe={spy:v.k,extras:{getDebugName:v.f}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact({renderReporter:oe,componentByNodeRegistery:ne,trackComponents:g},pe)}},function(e){'use strict';/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function t(e){if(null===e||e===void 0)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(e)}var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String('abc');if(e[5]='de','5'===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t['_'+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if('0123456789'!==o.join(''))return!1;var a={};return['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t'].forEach(function(e){a[e]=e}),'abcdefghijklmnopqrst'===Object.keys(Object.assign({},a)).join('')}catch(e){return!1}}()?Object.assign:function(e){for(var r=t(e),d=1,s,l;d<arguments.length;d++){for(var c in s=Object(arguments[d]),s)o.call(s,c)&&(r[c]=s[c]);if(n){l=n(s);for(var u=0;u<l.length;u++)a.call(s,l[u])&&(r[l[u]]=s[l[u]])}}return r}},function(e){'use strict';function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){'use strict';function o(){}function a(e){try{return e.then}catch(e){return b=e,y}}function r(e,t){try{return e(t)}catch(e){return b=e,y}}function i(e,t,n){try{e(t,n)}catch(e){return b=e,y}}function s(e){if('object'!=typeof this)throw new TypeError('Promises must be constructed via new');if('function'!=typeof e)throw new TypeError('Promise constructor\'s argument is not a function');this._75=0,this._83=0,this._18=null,this._38=null;e===o||g(e,this)}function d(e,t,n){return new e.constructor(function(a,r){var i=new s(o);i.then(a,r),l(e,new f(t,n,i))})}function l(e,t){for(;3===e._83;)e=e._18;return(s._47&&s._47(e),0===e._83)?0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t):void c(e,t)}function c(e,t){h(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?u(t.promise,e._18):p(t.promise,e._18));var o=r(n,e._18);o===y?p(t.promise,b):u(t.promise,o)})}function u(e,t){if(t===e)return p(e,new TypeError('A promise cannot be resolved with itself.'));if(t&&('object'==typeof t||'function'==typeof t)){var n=a(t);if(n===y)return p(e,b);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void m(e);if('function'==typeof n)return void g(n.bind(t),e)}e._83=1,e._18=t,m(e)}function p(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),m(e)}function m(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function f(e,t,n){this.onFulfilled='function'==typeof e?e:null,this.onRejected='function'==typeof t?t:null,this.promise=n}function g(e,t){var n=!1,o=i(e,function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,p(t,e))});n||o!==y||(n=!0,p(t,b))}var h=n(12),b=null,y={};e.exports=s,s._47=null,s._71=null,s._44=o,s.prototype.then=function(e,t){if(this.constructor!==s)return d(this,e,t);var n=new s(o);return l(this,new f(e,t,n)),n}},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(n){'object'==typeof window&&(t=window)}e.exports=t},function(e){'use strict';!1,e.exports={}},function(e,t,n){'use strict';function o(){if('undefined'!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&'function'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}o(),e.exports=n(17)},function(e,t,n){'use strict';var o=Math.max;(function(e,a){function r(e,t){function n(){this.constructor=e}yt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(t,o){var n='function'==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var a=n.call(t),i=[],s,r;try{for(;(void 0===o||0<o--)&&!(s=a.next()).done;)i.push(s.value)}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a['return'])&&n.call(a)}finally{if(r)throw r.error}}return i}function i(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}function d(e,t){var n=t?kt:vt;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return l(this),this[e]},set:function(t){l(this),this[e]=t}})}function l(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in Re(e,'__mobxDidRunLazyInitializers',!0),t){var o=t[n];o.propertyCreator(e,o.prop,o.descriptor,o.decoratorTarget,o.decoratorArguments)}}}function c(e,t){return function(){var n=function(n,a,r,i){if(!0===i)return t(n,a,r,n,o),null;if(!1,!Object.prototype.hasOwnProperty.call(n,'__mobxDecorators')){var s=n.__mobxDecorators;Re(n,'__mobxDecorators',_t({},s))}return n.__mobxDecorators[a]={prop:a,propertyCreator:t,descriptor:r,decoratorTarget:n,decoratorArguments:o},d(a,e)},o;return u(arguments)?(o=rn,n.apply(null,arguments)):(o=Array.prototype.slice.call(arguments),n)}}function u(e){return(2===e.length||3===e.length)&&'string'==typeof e[1]||4===e.length&&!0===e[3]}function p(){return!!pn.spyListeners.length}function m(e){if(pn.spyListeners.length)for(var t=pn.spyListeners,n=0,o=t.length;n<o;n++)t[n](e)}function f(e){var t=_t({},e,{spyReportStart:!0});m(t)}function h(e){e?m(_t({},e,{spyReportEnd:!0})):m(wt)}function b(e){return pn.spyListeners.push(e),Ee(function(){pn.spyListeners=pn.spyListeners.filter(function(t){return t!==e})})}function y(e,t){var n=function(){return _(e,t,this,arguments)};return n.isMobxAction=!0,n}function _(e,t,n,o){var a=k(e,t,n,o);try{return t.apply(n,o)}finally{v(a)}}function k(e,t,n,o){var a=p()&&!!e,r=0;if(a){r=Date.now();var s=o&&o.length||0,d=Array(s);if(0<s)for(var l=0;l<s;l++)d[l]=o[l];f({type:'action',name:e,object:n,arguments:d})}var i=lt();Ke();var c=x(!0);return{prevDerivation:i,prevAllowStateChanges:c,notifySpy:a,startTime:r}}function v(e){C(e.prevAllowStateChanges),Ge(),ct(e.prevDerivation),e.notifySpy&&h({time:Date.now()-e.startTime})}function w(e,t){var n=x(e),o;try{o=t()}finally{C(n)}return o}function x(e){var t=pn.allowStateChanges;return pn.allowStateChanges=e,t}function C(e){pn.allowStateChanges=e}function T(){Te(!1)}function S(e){return function(t,n,o){if(o){if(o.value)return{value:y(e,o.value),enumerable:!1,configurable:!1,writable:!0};var a=o.initializer;return{enumerable:!1,configurable:!1,writable:!1,initializer:function(){return y(e,a.call(this))}}}return P(e).apply(this,arguments)}}function P(e){return function(t,n){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){Me(this,n,xt(e,t))}})}}function E(e,t,n){Re(e,t,y(t,n.bind(e)))}function A(e,t){return O(e,t)}function O(e,t,n,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var r=typeof e;return('function'==r||'object'==r||'object'==typeof t)&&I(e,t,n,o)}function I(e,t,n,o){e=R(e),t=R(t);var r=Ct.call(e);if(r!==Ct.call(t))return!1;switch(r){case'[object RegExp]':case'[object String]':return''+e==''+t;case'[object Number]':return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case'[object Date]':case'[object Boolean]':return+e==+t;case'[object Symbol]':return'undefined'!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);}var i='[object Array]'===r;if(!i){if('object'!=typeof e||'object'!=typeof t)return!1;var s=e.constructor,d=t.constructor;if(s!==d&&!('function'==typeof s&&s instanceof s&&'function'==typeof d&&d instanceof d)&&'constructor'in e&&'constructor'in t)return!1}n=n||[],o=o||[];for(var l=n.length;l--;)if(n[l]===e)return o[l]===t;if(n.push(e),o.push(t),i){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!O(e[l],t[l],n,o))return!1}else{var c=Object.keys(e),u;if(l=c.length,Object.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!(M(t,u)&&O(e[u],t[u],n,o)))return!1}return n.pop(),o.pop(),!0}function R(e){return we(e)?e.peek():Fe(e)||Kt(e)?Be(e.entries()):e}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){return e===t}function N(e,t){function n(){e(r)}void 0===t&&(t=sn),!1;var o=t&&t.name||e.name||'Autorun@'+Ce(),a=!t.scheduler&&!t.delay,r;if(a)r=new yn(o,function(){this.track(n)},t.onError);else{var i=V(t),s=!1;r=new yn(o,function(){s||(s=!0,i(function(){s=!1,r.isDisposed||r.track(n)}))},t.onError)}return r.schedule(),r.getDisposer()}function V(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:St}function F(e){return e.interceptors!==void 0&&0<e.interceptors.length}function L(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),Ee(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function B(e,t){var n=lt();try{var o=e.interceptors;if(o)for(var a=0,r=o.length;a<r&&(t=o[a](t),Se(!t||t.type,'Intercept handlers should return nothing or a change object'),!!t);a++);return t}finally{ct(n)}}function U(e){return e.changeListeners!==void 0&&0<e.changeListeners.length}function j(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),Ee(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function z(e,t){var n=lt(),o=e.changeListeners;if(o){o=o.slice();for(var a=0,r=o.length;a<r;a++)o[a](t);ct(n)}}function H(e,t,n){void 0===t&&(t=''),void 0===n&&(n=ae);var o=e.$mobx;return o?o:(!1,Ie(e)||(t=(e.constructor.name||'ObservableObject')+'@'+Ce()),t||(t='ObservableObject@'+Ce()),o=new Rt(e,t,n),Me(e,'$mobx',o),o)}function W(e,t,n,o){var a=H(e);if(De(e,t),F(a)){var r=B(a,{object:e,name:t,type:'add',newValue:n});if(!r)return;n=r.newValue}var i=a.values[t]=new Ot(n,o,a.name+'.'+t,!1);n=i.value,Object.defineProperty(e,t,q(t)),a.keys&&a.keys.push(t),G(a,e,t,n)}function Y(e,t,n){var o=H(e);n.name=o.name+'.'+t,n.context=e,o.values[t]=new Pt(n),Object.defineProperty(e,t,K(t))}function q(e){return Mt[e]||(Mt[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}function $(e){var t=e.$mobx;return t?t:(l(e),e.$mobx)}function K(e){return Dt[e]||(Dt[e]={configurable:!0,enumerable:!1,get:function(){return $(this).read(this,e)},set:function(t){$(this).write(this,e,t)}})}function G(e,t,n,o){var a=U(e),r=p(),i=a||r?{type:'add',object:t,name:n,newValue:o}:null;r&&f(_t({},i,{name:e.name,key:n})),a&&z(e,i),r&&h()}function Q(e){return!!Oe(e)&&(l(e),Nt(e.$mobx))}function J(e){var t=c(!0,function(t,n,o){var a=o?o.initializer?o.initializer.call(t):o.value:void 0;W(t,n,a,e)}),n=t;return n.enhancer=e,n}function Z(e,t){if(null===e||e===void 0)return!1;if(void 0!==t){if(Q(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return Q(e)||!!e.$mobx||Xt(e)||vn(e)||Et(e)}function X(e){return 1!==arguments.length&&Te(!1),Z(e)}function ee(e,t,n,o){var a;o=te(o);var r=o.defaultDecorator||(!1===o.deep?zt:Ut);H(e,o.name,r.enhancer),Ke();try{for(var a in t){var i=Object.getOwnPropertyDescriptor(t,a);var s=n&&a in n?n[a]:i.get?Vt:r;var d=s(e,a,i,!0);d&&Object.defineProperty(e,a,d)}}finally{Ge()}return e}function te(e){return null===e||void 0===e?Lt:'string'==typeof e?{name:e,deep:!0}:e}function ne(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?re:ae}function oe(e){Te('Expected one or two arguments to observable.'+e+'. Did you accidentally try to use observable.'+e+' as decorator?')}function ae(e,t,n){return X(e)?e:Array.isArray(e)?Yt.array(e,{name:n}):Ie(e)?Yt.object(e,void 0,{name:n}):Fe(e)?Yt.map(e,{name:n}):e}function re(e){return e}function ie(){return'function'==typeof Symbol&&Symbol.iterator||'@@iterator'}function se(e,t){Me(e,ie(),t)}function de(e){return e[ie()]=le,e}function le(){return this}function ce(e,t){void 0===t&&(t=void 0),Ke();try{return e.apply(t)}finally{Ge()}}function ue(e,t){if('object'==typeof e&&null!==e){if(we(e))return void 0!==t&&Te(!1),e.$mobx.atom;if(Kt(e)){var n=e;if(void 0===t)return ue(n._keys);var o=n._data.get(t)||n._hasMap.get(t);return o||Te(!1),o}if(l(e),t&&!e.$mobx&&e[t],Q(e)){if(!t)return Te(!1);var o=e.$mobx.values[t];return o||Te(!1),o}if(Xt(e)||Et(e)||vn(e))return e}else if('function'==typeof e&&vn(e.$mobx))return e.$mobx;return Te(!1)}function pe(e,t){return(e||Te('Expecting some object'),void 0!==t)?pe(ue(e,t)):Xt(e)||Et(e)||vn(e)?e:Kt(e)?e:(l(e),e.$mobx?e.$mobx:void Te(!1))}function me(e,t){var n;return n=void 0===t?Q(e)||Kt(e)?pe(e):ue(e):ue(e,t),n.name}function fe(e,t,n){return he('onBecomeObserved',e,t,n)}function ge(e,t,n){return he('onBecomeUnobserved',e,t,n)}function he(e,t,n,o){var a='string'==typeof n?ue(t,n):ue(t),r='string'==typeof n?o:n,i=a[e];return'function'==typeof i?(a[e]=function(){i.call(this),r.call(this)},function(){a[e]=i}):Te(!1)}function be(){Zt||(Zt=function(){function e(e){void 0===e&&(e='Atom@'+Ce()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=gn.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return Qe(this)},e.prototype.reportChanged=function(){Ke(),Je(this),Ge()},e.prototype.toString=function(){return this.name},e}(),Xt=Ne('Atom',Zt))}function ye(e,t,n){void 0===t&&(t=ln),void 0===n&&(n=ln);var o=new Zt(e);return fe(o,t),ge(o,n),o}function _e(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function ke(e){Object.defineProperty(tn.prototype,''+e,_e(e))}function ve(e){for(var t=Qt;t<e;t++)ke(t);Qt=e}function we(e){return Oe(e)&&on(e.$mobx)}function xe(){return'undefined'==typeof window?a:window}function Ce(){return++pn.mobxGuid}function Te(e){throw Se(!1,e),'X'}function Se(e,t){if(!e)throw new Error('[mobx] '+(t||an))}function Pe(e,t){return!1}function Ee(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}function Ae(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}function Oe(e){return null!==e&&'object'==typeof e}function Ie(e){if(null===e||'object'!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function Re(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Me(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function De(){}function Ne(e,t){var n='isMobX'+e;return t.prototype[n]=!0,function(e){return Oe(e)&&!0===e[n]}}function Ve(e,t){return'number'==typeof e&&'number'==typeof t&&isNaN(e)&&isNaN(t)}function Fe(e){return!!(void 0!==xe().Map&&e instanceof xe().Map)}function Le(e){return Ie(e)?Object.keys(e):Array.isArray(e)?e.map(function(e){var t=s(e,1),n=t[0];return n}):Fe(e)||Kt(e)?Be(e.keys()):Te('Cannot get keys from \''+e+'\'')}function Be(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function Ue(){return'function'==typeof Symbol&&Symbol.toPrimitive||'@@toPrimitive'}function je(e){return null===e?null:'object'==typeof e?''+e:e}function ze(){mn=!0,xe().__mobxInstanceCount--}function He(e,t){return We(ue(e,t))}function We(e){var t={name:e.name};return e.observing&&0<e.observing.length&&(t.dependencies=Ae(e.observing).map(We)),t}function Ye(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function qe(e,t){if(1===e.observers.length)e.observers.length=0,$e(e);else{var n=e.observers,o=e.observersIndexes,a=n.pop();if(a!==t){var r=o[t.__mapid]||0;r?o[a.__mapid]=r:delete o[a.__mapid],n[r]=a}delete o[t.__mapid]}}function $e(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,pn.pendingUnobservations.push(e))}function Ke(){pn.inBatch++}function Ge(){if(0==--pn.inBatch){ft();for(var e=pn.pendingUnobservations,t=0,n;t<e.length;t++)n=e[t],n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Pt&&n.suspend());pn.pendingUnobservations=[]}}function Qe(e){var t=pn.trackingDerivation;return null===t?(0===e.observers.length&&0<pn.inBatch&&$e(e),!1):(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,!e.isBeingObserved&&(e.isBeingObserved=!0,e.onBecomeObserved())),!0)}function Je(e){if(e.lowestObserverState!==gn.STALE){e.lowestObserverState=gn.STALE;for(var t=e.observers,n=t.length,o;n--;)o=t[n],o.dependenciesState===gn.UP_TO_DATE&&(o.isTracing!==hn.NONE&&et(o,e),o.onBecomeStale()),o.dependenciesState=gn.STALE}}function Ze(e){if(e.lowestObserverState!==gn.STALE){e.lowestObserverState=gn.STALE;for(var t=e.observers,n=t.length,o;n--;)o=t[n],o.dependenciesState===gn.POSSIBLY_STALE?o.dependenciesState=gn.STALE:o.dependenciesState===gn.UP_TO_DATE&&(e.lowestObserverState=gn.UP_TO_DATE)}}function Xe(e){if(e.lowestObserverState===gn.UP_TO_DATE){e.lowestObserverState=gn.POSSIBLY_STALE;for(var t=e.observers,n=t.length,o;n--;)o=t[n],o.dependenciesState===gn.UP_TO_DATE&&(o.dependenciesState=gn.POSSIBLY_STALE,o.isTracing!==hn.NONE&&et(o,e),o.onBecomeStale())}}function et(e,t){if(console.log('[mobx.trace] \''+e.name+'\' is invalidated due to a change in: \''+t.name+'\''),e.isTracing===hn.BREAK){var n=[];tt(He(e),n,1),new Function('debugger;\n/*\nTracing \''+e.name+'\'\n\nYou are entering this break point because derivation \''+e.name+'\' is being traced and \''+t.name+'\' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n'+(e instanceof Pt?e.derivation.toString():'')+'\n\nThe dependencies for this derivation are:\n\n'+n.join('\n')+'\n*/\n    ')()}}function tt(e,t,n){return 1e3<=t.length?void t.push('(and many more)'):void(t.push(''+Array(n).join('\t')+e.name),e.dependencies&&e.dependencies.forEach(function(e){return tt(e,t,n+1)}))}function nt(t){return t instanceof bn}function ot(e){switch(e.dependenciesState){case gn.UP_TO_DATE:return!1;case gn.NOT_TRACKING:case gn.STALE:return!0;case gn.POSSIBLY_STALE:{for(var t=lt(),n=e.observing,o=n.length,a=0,r;a<o;a++)if(r=n[a],Et(r)){if(pn.disableErrorBoundaries)r.get();else try{r.get()}catch(n){return ct(t),!0}if(e.dependenciesState===gn.STALE)return ct(t),!0}return ut(e),ct(t),!1}}}function at(e){var t=0<e.observers.length;0<pn.computationDepth&&t&&Te(!1),!pn.allowStateChanges&&t&&Te(!1)}function rt(e,t,n){ut(e),e.newObserving=Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++pn.runId;var o=pn.trackingDerivation;pn.trackingDerivation=e;var a;if(!0===pn.disableErrorBoundaries)a=t.call(n);else try{a=t.call(n)}catch(t){a=new bn(t)}return pn.trackingDerivation=o,it(e),a}function it(e){for(var t=e.observing,n=e.observing=e.newObserving,o=gn.UP_TO_DATE,a=0,r=e.unboundDepsCount,s=0,i;s<r;s++)i=n[s],0===i.diffValue&&(i.diffValue=1,a!==s&&(n[a]=i),a++),i.dependenciesState>o&&(o=i.dependenciesState);for(n.length=a,e.newObserving=null,r=t.length;r--;){var i=t[r];0===i.diffValue&&qe(i,e),i.diffValue=0}for(;a--;){var i=n[a];1===i.diffValue&&(i.diffValue=0,Ye(i,e))}o!==gn.UP_TO_DATE&&(e.dependenciesState=o,e.onBecomeStale())}function st(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)qe(t[n],e);e.dependenciesState=gn.NOT_TRACKING}function dt(e){var t=lt(),n=e();return ct(t),n}function lt(){var e=pn.trackingDerivation;return pn.trackingDerivation=null,e}function ct(e){pn.trackingDerivation=e}function ut(e){if(e.dependenciesState!==gn.UP_TO_DATE){e.dependenciesState=gn.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=gn.UP_TO_DATE}}function pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;'boolean'==typeof e[e.length-1]&&(n=e.pop());var o=mt(e);return o?void(o.isTracing===hn.NONE&&console.log('[mobx.trace] \''+o.name+'\' tracing enabled'),o.isTracing=n?hn.BREAK:hn.LOG):Te(!1)}function mt(e){switch(e.length){case 0:return pn.trackingDerivation;case 1:return ue(e[0]);case 2:return ue(e[0],e[1]);}}function ft(){0<pn.inBatch||pn.isRunningReactions||kn(gt)}function gt(){pn.isRunningReactions=!0;for(var e=pn.pendingReactions,t=0;0<e.length;){++t===_n&&(console.error('Reaction doesn\'t converge to a stable state after '+_n+' iterations.'+(' Probably there is a cycle in the reactive function: '+e[0])),e.splice(0));for(var n=e.splice(0),o=0,a=n.length;o<a;o++)n[o].runReaction()}pn.isRunningReactions=!1}function ht(e){var t=kn;kn=function(n){return e(function(){return t(n)})}}function bt(e){e.enforceActions!==void 0&&(pn.enforceActions=!!e.enforceActions,pn.allowStateChanges=!e.enforceActions),e.computedRequiresReaction!==void 0&&(pn.computedRequiresReaction=!!e.computedRequiresReaction),!0===e.isolateGlobalState&&ze(),e.disableErrorBoundaries!==void 0&&(!0===e.disableErrorBoundaries&&console.warn('WARNING: Debug feature only. MobX will NOT recover from errors if this is on.'),pn.disableErrorBoundaries=!!e.disableErrorBoundaries),'number'==typeof e.arrayBuffer&&ve(e.arrayBuffer),e.reactionScheduler&&ht(e.reactionScheduler)}n.d(t,'a',function(){return yn}),n.d(t,'l',function(){return dt}),n.d(t,'e',function(){return ye}),n.d(t,'k',function(){return b}),n.d(t,'i',function(){return Q}),n.d(t,'g',function(){return we}),n.d(t,'h',function(){return Kt}),n.d(t,'j',function(){return Yt}),n.d(t,'c',function(){return xt}),n.d(t,'d',function(){return bt}),n.d(t,'f',function(){return me}),n.d(t,'b',function(){return w});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},_t=Object.assign||function(e){for(var t=1,o=arguments.length,n;t<o;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},kt={},vt={},wt={spyReportEnd:!0},xt=function(e,t,n,o){return 1===arguments.length&&'function'==typeof e?y(e.name||'<unnamed action>',e):2===arguments.length&&'function'==typeof t?y(e,t):1===arguments.length&&'string'==typeof e?S(e):!0===o?void(e[t]=y(e.name||t,n.value)):S(t).apply(null,arguments)};xt.bound=function(e,t,n,o){return!0===o?(E(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return E(this,t,n.value||n.initializer.call(this)),this[t]},set:T}:{enumerable:!1,configurable:!0,set:function(e){E(this,t,e)},get:function(){}}};var Ct=Object.prototype.toString,Tt={identity:D,structural:function(e,t){return A(e,t)},default:function(e,t){return Ve(e,t)||D(e,t)}},St=function(e){return e()},Pt=function(){function e(e){var t=this;return this.dependenciesState=gn.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=gn.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid='#'+Ce(),this.value=new bn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=hn.NONE,e.get?void(this.derivation=e.get,this.name=e.name||'ComputedValue@'+Ce(),e.set&&(this.setter=y(this.name+'-setter',e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Tt.structural:Tt.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,!0===e.keepAlive&&N(function(){return t.get()})):Te('missing option for computed: get')}return e.prototype.onBecomeStale=function(){Xe(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&Te('Cycle detected in computation '+this.name+': '+this.derivation),0===pn.inBatch?ot(this)&&(this.warnAboutUntrackedRead(),Ke(),this.value=this.computeValue(!1),Ge()):(Qe(this),ot(this)&&this.trackAndCompute()&&Ze(this));var e=this.value;if(nt(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(nt(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){Se(!this.isRunningSetter,'The setter of computed value \''+this.name+'\' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?'),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else Se(!1,!1)},e.prototype.trackAndCompute=function(){p()&&m({object:this.scope,type:'compute',name:this.name});var e=this.value,t=this.dependenciesState===gn.NOT_TRACKING,n=this.value=this.computeValue(!0);return t||nt(e)||nt(n)||!this.equals(e,n)},e.prototype.computeValue=function(e){this.isComputing=!0,pn.computationDepth++;var t;if(e)t=rt(this,this.derivation,this.scope);else if(!0===pn.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(n){t=new bn(n)}return pn.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){st(this),this.value=void 0},e.prototype.observe=function(e,t){var n=this,o=!0,a;return N(function(){var r=n.get();if(!o||t){var i=lt();e({type:'update',object:n,newValue:r,oldValue:a}),ct(i)}o=!1,a=r})},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+'['+this.derivation.toString()+']'},e.prototype.valueOf=function(){return je(this.get())},e}();Pt.prototype[Ue()]=Pt.prototype.valueOf;var Et=Ne('ComputedValue',Pt),At={};be();var Ot=function(e){function t(t,n,o,a){void 0===o&&(o='ObservableValue@'+Ce()),void 0===a&&(a=!0);var r=e.call(this,o)||this;return r.enhancer=n,r.hasUnreportedChange=!1,r.value=n(t,void 0,o),a&&p()&&m({type:'create',name:r.name,newValue:''+r.value}),r}return r(t,e),t.prototype.dehanceValue=function(e){return void 0===this.dehancer?e:this.dehancer(e)},t.prototype.set=function(e){var t=this.value;if(e=this.prepareNewValue(e),e!==At){var n=p();n&&f({type:'update',name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&h()}},t.prototype.prepareNewValue=function(e){if(at(this),F(this)){var t=B(this,{object:this,type:'update',newValue:e});if(!t)return At;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.value===e?At:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),U(this)&&z(this,{type:'update',object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return L(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:'update',newValue:this.value,oldValue:void 0}),j(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+'['+this.value+']'},t.prototype.valueOf=function(){return je(this.get())},t}(Zt);Ot.prototype[Ue()]=Ot.prototype.valueOf;var It=Ne('ObservableValue',Ot),Rt=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){return this.target===e?this.values[t].get():void this.illegalAccess(e,t)},e.prototype.write=function(e,t,n){var o=this.target;if(o!==e)return void this.illegalAccess(e,t);var a=this.values[t];if(a instanceof Pt)return void a.set(n);if(F(this)){var r=B(this,{type:'update',object:o,name:t,newValue:n});if(!r)return;n=r.newValue}if(n=a.prepareNewValue(n),n!==At){var i=U(this),s=p(),r=i||s?{type:'update',object:o,oldValue:a.value,name:t,newValue:n}:null;s&&f(_t({},r,{name:this.name,key:t})),a.setNewValue(n),i&&z(this,r),s&&h()}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(F(this)){var n=B(this,{object:t,name:e,type:'remove'});if(!n)return}try{Ke();var o=U(this),a=p(),r=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var n=o||a?{type:'remove',object:t,oldValue:r,name:e}:null;a&&f(_t({},n,{name:this.name,key:e})),o&&z(this,n),a&&h()}finally{Ge()}}},e.prototype.illegalAccess=function(e,t){return Te('Property \''+t+'\' of \''+e+'\' was accessed through the prototype chain. Use \'decorate\' instead to declare the prop or access it statically through it\'s owner')},e.prototype.observe=function(e){return!1,j(this,e)},e.prototype.intercept=function(e){return L(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new tn(Object.keys(this.values).filter(function(t){return e.values[t]instanceof Ot}),re,'keys('+this.name+')',!0)),this.keys.slice()},e}(),Mt={},Dt={},Nt=Ne('ObservableObjectAdministration',Rt),Vt=c(!1,function(e,t,n,o,a){var r=n.get,i=n.set,s=a[0]||{};Y(e,t,_t({},s,{get:r,set:i}))}),Ft=Vt({equals:Tt.structural});(function(e,t){if('string'==typeof t)return Vt.apply(null,arguments);if(null!==e&&'object'==typeof e&&1===arguments.length)return Vt.apply(null,arguments);var n='object'==typeof t?t:{};return n.get=e,n.set='function'==typeof t?t:n.set,n.name=n.name||e.name||'',new Pt(n)}).struct=Ft;var Lt={deep:!0,name:void 0,defaultDecorator:void 0},Bt={deep:!1,name:void 0,defaultDecorator:void 0};Object.freeze(Lt),Object.freeze(Bt);var Ut=J(ae),jt=J(function(e,t,n){return void 0===e||null===e?e:Q(e)||we(e)||Kt(e)?e:Array.isArray(e)?Yt.array(e,{name:n,deep:!1}):Ie(e)?Yt.object(e,void 0,{name:n,deep:!1}):Fe(e)?Yt.map(e,{name:n,deep:!1}):Te(!1)}),zt=J(re),Ht=J(function(e,t){return A(e,t)?t:e}),Wt={box:function(e,t){2<arguments.length&&oe('box');var n=te(t);return new Ot(e,ne(n),n.name)},shallowBox:function(e,t){return 2<arguments.length&&oe('shallowBox'),Pe('observable.shallowBox','observable.box(value, { deep: false })'),Yt.box(e,{name:t,deep:!1})},array:function(e,t){2<arguments.length&&oe('array');var n=te(t);return new tn(e,ne(n),n.name)},shallowArray:function(e,t){return 2<arguments.length&&oe('shallowArray'),Pe('observable.shallowArray','observable.array(values, { deep: false })'),Yt.array(e,{name:t,deep:!1})},map:function(e,t){2<arguments.length&&oe('map');var n=te(t);return new $t(e,ne(n),n.name)},shallowMap:function(e,t){return 2<arguments.length&&oe('shallowMap'),Pe('observable.shallowMap','observable.map(values, { deep: false })'),Yt.map(e,{name:t,deep:!1})},object:function(e,t,n){'string'==typeof arguments[1]&&oe('object');var a=te(n);return ee({},e,t,a)},shallowObject:function(e,t){return'string'==typeof arguments[1]&&oe('shallowObject'),Pe('observable.shallowObject','observable.object(values, {}, { deep: false })'),Yt.object(e,{},{name:t,deep:!1})},ref:zt,shallow:jt,deep:Ut,struct:Ht},Yt=function(e,t,n){if('string'==typeof arguments[1])return Ut.apply(null,arguments);if(X(e))return e;var o=Ie(e)?Yt.object(e,t,n):Array.isArray(e)?Yt.array(e,t):Fe(e)?Yt.map(e,t):e;return o===e?void Te(!1):o};Object.keys(Wt).forEach(function(e){return Yt[e]=Wt[e]});var qt={},$t=function(){function e(e,t,n){if(void 0===t&&(t=ae),void 0===n&&(n='ObservableMap@'+Ce()),this.enhancer=t,this.name=n,this.$mobx=qt,this._keys=new tn(void 0,re,this.name+'.keys()',!0),'function'!=typeof Map)throw new Error('mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js');this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){return this._hasMap.has(e)?this._hasMap.get(e).get():this._updateHasMapEntry(e,!1).get()},e.prototype.set=function(e,t){var n=this._has(e);if(F(this)){var o=B(this,{type:n?'update':'add',object:this,newValue:t,name:e});if(!o)return this;t=o.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(F(this)){var n=B(this,{type:'delete',object:this,name:e});if(!n)return!1}if(this._has(e)){var o=p(),a=U(this),n=a||o?{type:'delete',object:this,oldValue:this._data.get(e).value,name:e}:null;return o&&f(_t({},n,{name:this.name,key:e})),ce(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1);var n=t._data.get(e);n.setNewValue(void 0),t._data.delete(e)}),a&&z(this,n),o&&h(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);return n?n.setNewValue(t):(n=new Ot(t,re,this.name+'.'+e+'?',!1),this._hasMap.set(e,n)),n},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if(t=n.prepareNewValue(t),t!==At){var o=p(),a=U(this),r=a||o?{type:'update',object:this,oldValue:n.value,name:e,newValue:t}:null;o&&f(_t({},r,{name:this.name,key:e})),n.setNewValue(t),a&&z(this,r),o&&h()}},e.prototype._addValue=function(e,t){var n=this;ce(function(){var o=new Ot(t,n.enhancer,n.name+'.'+e,!1);n._data.set(e,o),t=o.value,n._updateHasMapEntry(e,!0),n._keys.push(e)});var o=p(),a=U(this),r=a||o?{type:'add',object:this,name:e,newValue:t}:null;o&&f(_t({},r,{name:this.name,key:e})),a&&z(this,r),o&&h()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0===this.dehancer?e:this.dehancer(e)},e.prototype.keys=function(){return this._keys[ie()]()},e.prototype.values=function(){var e=this,t=0;return de({next:function(){return t<e._keys.length?{value:e.get(e._keys[t++]),done:!1}:{value:void 0,done:!0}}})},e.prototype.entries=function(){var e=this,t=0;return de({next:function(){if(t<e._keys.length){var n=e._keys[t++];return{value:[n,e.get(n)],done:!1}}return{done:!0}}})},e.prototype.forEach=function(e,t){var n=this;this._keys.forEach(function(o){return e.call(t,n.get(o),o,n)})},e.prototype.merge=function(e){var t=this;return Kt(e)&&(e=e.toJS()),ce(function(){Ie(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=s(e,2),o=n[0],a=n[1];return t.set(o,a)}):Fe(e)?e.forEach(function(e,n){return t.set(n,e)}):null!==e&&void 0!==e&&Te('Cannot initialize map from '+e)}),this},e.prototype.clear=function(){var e=this;ce(function(){dt(function(){e._keys.slice().forEach(function(t){return e.delete(t)})})})},e.prototype.replace=function(e){var t=this;return ce(function(){var n=Le(e),o=t._keys,a=o.filter(function(e){return-1===n.indexOf(e)});a.forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,'size',{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this._keys.forEach(function(n){return t[''+n]=e.get(n)}),t},e.prototype.toJS=function(){var e=this,t=new Map;return this._keys.forEach(function(n){return t.set(n,e.get(n))}),t},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+'[{ '+this._keys.map(function(t){return t+': '+(''+e.get(t))}).join(', ')+' }]'},e.prototype.observe=function(e){return!1,j(this,e)},e.prototype.intercept=function(e){return L(this,e)},e}();se($t.prototype,function(){return this.entries()}),Me($t.prototype,'undefined'==typeof Symbol?'@@toStringTag':Symbol.toStringTag,'Map');var Kt=Ne('ObservableMap',$t),Gt=function(){var e=!1,t={};return Object.defineProperty(t,'0',{set:function(){e=!0}}),Object.create(t)[0]=1,!1==e}(),Qt=0,Jt=function(){return function(){}}(),Zt,Xt;(function(e,t){'undefined'==typeof Object.setPrototypeOf?'undefined'==typeof e.prototype.__proto__?e.prototype=t:e.prototype.__proto__=t:Object.setPrototypeOf(e.prototype,t)})(Jt,Array.prototype),Object.isFrozen(Array)&&['constructor','push','shift','concat','pop','unshift','replace','find','findIndex','splice','reverse','sort'].forEach(function(e){Object.defineProperty(Jt.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})});var en=function(){function e(e,t,n,o){this.array=n,this.owned=o,this.values=[],this.lastKnownLength=0,this.atom=new Zt(e||'ObservableArray@'+Ce()),this.enhancer=function(n,o){return t(n,o,e+'[..]')}}return e.prototype.dehanceValue=function(e){return void 0===this.dehancer?e:this.dehancer(e)},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&0<this.values.length?e.map(this.dehancer):e},e.prototype.intercept=function(e){return L(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:'splice',index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),j(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if('number'!=typeof e||0>e)throw new Error('[mobx.array] Out of range: '+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=Array(e-t),o=0;o<e-t;o++)n[o]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error('[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?');this.lastKnownLength+=t,0<t&&e+t+1>Qt&&ve(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var a=this;at(this.atom);var r=this.values.length;if(void 0===e?e=0:e>r?e=r:0>e&&(e=o(0,r+e)),t=1===arguments.length?r-e:void 0===t||null===t?0:o(0,Math.min(t,r-e)),void 0===n&&(n=rn),F(this)){var i=B(this,{object:this.array,type:'splice',index:e,removedCount:t,added:n});if(!i)return rn;t=i.removedCount,n=i.added}n=0===n.length?n:n.map(function(e){return a.enhancer(e,void 0)});var s=n.length-t;this.updateArrayLength(r,s);var d=this.spliceItemsIntoValues(e,t,n);return(0!==t||0!==n.length)&&this.notifyArraySplice(e,n,d),this.dehanceValues(d)},e.prototype.spliceItemsIntoValues=function(e,t,n){if(n.length<1e4)return(a=this.values).splice.apply(a,i([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o;var a},e.prototype.notifyArrayChildUpdate=function(e,t,n){var o=!this.owned&&p(),a=U(this),r=a||o?{object:this.array,type:'update',index:e,newValue:t,oldValue:n}:null;o&&f(_t({},r,{name:this.atom.name})),this.atom.reportChanged(),a&&z(this,r),o&&h()},e.prototype.notifyArraySplice=function(e,t,n){var o=!this.owned&&p(),a=U(this),r=a||o?{object:this.array,type:'splice',index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;o&&f(_t({},r,{name:this.atom.name})),this.atom.reportChanged(),a&&z(this,r),o&&h()},e}(),tn=function(e){function t(t,n,o,a){void 0===o&&(o='ObservableArray@'+Ce()),void 0===a&&(a=!1);var r=e.call(this)||this,i=new en(o,n,r,a);return Me(r,'$mobx',i),t&&t.length&&r.spliceWithArray(0,0,t),Gt&&Object.defineProperty(i.array,'0',nn),r}return r(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(e){return we(e)?e.peek():e}))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&Pe('The array.find fromIndex argument to find will not be supported anymore in the next major');var o=this.findIndex.apply(this,arguments);return-1===o?void 0:this.get(o)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&Pe('The array.findIndex fromIndex argument to find will not be supported anymore in the next major');for(var o=this.peek(),a=o.length,r=n;r<a;r++)if(e.call(t,o[r],r,this))return r;return-1},t.prototype.splice=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t);}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(o(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(){var e=this.slice();return e.sort.apply(e,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return!!(-1<t)&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(0>e)throw new Error('[mobx.array] Index out of bounds: '+e+' is negative');var t=this.$mobx.values.length;if(e>=t)throw new Error('[mobx.array] Index out of bounds: '+e+' is not smaller than '+t)}if(Pe('observableArray.move is deprecated, use .slice() & .replace() instead'),n.call(this,e),n.call(this,t),e!==t){var o=this.$mobx.values,a;a=e<t?i(o.slice(0,e),o.slice(e+1,t+1),[o[e]],o.slice(t+1)):i(o.slice(0,t),[o[e]],o.slice(t,e),o.slice(e+1)),this.replace(a)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn('[mobx.array] Attempt to read an array index ('+e+') that is out of bounds ('+t.values.length+'). Please check length first. Out of bound indices will not be tracked by MobX')}},t.prototype.set=function(e,t){var n=this.$mobx,o=n.values;if(e<o.length){at(n.atom);var a=o[e];if(F(n)){var r=B(n,{type:'update',object:this,index:e,newValue:t});if(!r)return;t=r.newValue}t=n.enhancer(t,a);var i=t!==a;i&&(o[e]=t,n.notifyArrayChildUpdate(e,t,a))}else if(e===o.length)n.spliceWithArray(e,0,[t]);else throw new Error('[mobx.array] Index out of bounds, '+e+' is larger than '+o.length)},t}(Jt);se(tn.prototype,function(){this.$mobx.atom.reportObserved();var e=this,t=0;return de({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(tn.prototype,'length',{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),['every','filter','forEach','indexOf','join','lastIndexOf','map','reduce','reduceRight','slice','some','toString','toLocaleString'].forEach(function(e){var t=Array.prototype[e];Se('function'==typeof t,'Base function not defined on Array prototype: \''+e+'\''),Re(tn.prototype,e,function(){return t.apply(this.peek(),arguments)})}),function(e,t){for(var n=0;n<t.length;n++)Re(e,t[n],e[t[n]])}(tn.prototype,['constructor','intercept','observe','clear','concat','get','replace','toJS','toJSON','peek','find','findIndex','splice','spliceWithArray','push','pop','set','shift','unshift','reverse','sort','remove','move','toString','toLocaleString']);var nn=_e(0);ve(1e3);var on=Ne('ObservableArrayAdministration',en),an='An invariant failed, however the error is obfuscated because this is an production build.',rn=[];Object.freeze(rn);var sn={};Object.freeze(sn);var dn=[],ln=function(){},cn=['mobxGuid','spyListeners','enforceActions','computedRequiresReaction','disableErrorBoundaries','runId'],un=function(){return function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1}}(),pn=new un,mn=!1;{var fn=xe();fn.__mobxInstanceCount?(fn.__mobxInstanceCount++,setTimeout(function(){mn||Te(!1)},1)):fn.__mobxInstanceCount=1}var gn;(function(e){e[e.NOT_TRACKING=-1]='NOT_TRACKING',e[e.UP_TO_DATE=0]='UP_TO_DATE',e[e.POSSIBLY_STALE=1]='POSSIBLY_STALE',e[e.STALE=2]='STALE'})(gn||(gn={}));var hn;(function(e){e[e.NONE=0]='NONE',e[e.LOG=1]='LOG',e[e.BREAK=2]='BREAK'})(hn||(hn={}));var bn=function(){return function(e){this.cause=e}}(),yn=function(){function e(e,t,n){void 0===e&&(e='Reaction@'+Ce()),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.observing=[],this.newObserving=[],this.dependenciesState=gn.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid='#'+Ce(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=hn.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,pn.pendingReactions.push(this),ft())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){this.isDisposed||(Ke(),this._isScheduled=!1,ot(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&p()&&m({name:this.name,type:'scheduled-reaction'})),Ge())},e.prototype.track=function(e){Ke();var t=p(),n;t&&(n=Date.now(),f({name:this.name,type:'reaction'})),this._isRunning=!0;var o=rt(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&st(this),nt(o)&&this.reportExceptionInDerivation(o.cause),t&&h({time:Date.now()-n}),Ge()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)return void this.errorHandler(e,this);var n='[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: \''+this;console.error(n,e),p()&&m({type:'error',name:this.name,message:n,error:''+e}),pn.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,!this._isRunning&&(Ke(),st(this),Ge()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return'Reaction['+this.name+']'},e.prototype.trace=function(e){void 0===e&&(e=!1),pt(this,e)},e}(),_n=100,kn=function(e){return e()},vn=Ne('Reaction',yn),wn=0;try{}catch(t){var xn='undefined'==typeof window?a:window;'undefined'==typeof e&&(xn.process={}),xn.process.env={}}(function(){'testCodeMinification'!==function(){}.name})(),'object'==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:b,extras:{getDebugName:me}})}).call(t,n(31),n(5))},function(e,t,n){n(10),e.exports=n(15)},function(e,t,n){'use strict';'undefined'==typeof Promise&&(n(11).enable(),window.Promise=n(13)),n(14),Object.assign=n(2),!1},function(e,t,n){'use strict';function o(){l=!1,s._47=null,s._71=null}function a(e){function t(t){(e.allRejections||i(u[t].error,e.whitelist||d))&&(u[t].displayId=c++,e.onUnhandled?(u[t].logged=!0,e.onUnhandled(u[t].displayId,u[t].error)):(u[t].logged=!0,r(u[t].displayId,u[t].error)))}function n(t){u[t].logged&&(e.onHandled?e.onHandled(u[t].displayId,u[t].error):!u[t].onUnhandled&&(console.warn('Promise Rejection Handled (id: '+u[t].displayId+'):'),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[t].displayId+'.')))}e=e||{},l&&o(),l=!0;var a=0,c=0,u={};s._47=function(e){2===e._83&&u[e._56]&&(u[e._56].logged?n(e._56):clearTimeout(u[e._56].timeout),delete u[e._56])},s._71=function(e,n){0===e._75&&(e._56=a++,u[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),i(n,d)?100:2e3),logged:!1})}}function r(e,t){console.warn('Possible Unhandled Promise Rejection (id: '+e+'):');var n=(t&&(t.stack||t))+'';n.split('\n').forEach(function(e){console.warn('  '+e)})}function i(e,t){return t.some(function(t){return e instanceof t})}var s=n(4),d=[ReferenceError,TypeError,RangeError],l=!1;t.disable=o,t.enable=a},function(e,t,n){'use strict';(function(t){function n(e){r.length||(u(),i=!0),r[r.length]=e}function o(){for(;s<r.length;){var e=s;if(++s,r[e].call(),s>d){for(var t=0,n=r.length-s;t<n;t++)r[t]=r[t+s];r.length-=s,s=0}}r.length=0,s=0,i=!1}function a(e){return function(){function t(){clearTimeout(n),clearInterval(o),e()}var n=setTimeout(t,0),o=setInterval(t,50)}}e.exports=n;var r=[],i=!1,s=0,d=1024,l='undefined'==typeof t?self:t,c=l.MutationObserver||l.WebKitMutationObserver,u;u='function'==typeof c?function(e){var t=1,n=new c(e),o=document.createTextNode('');return n.observe(o,{characterData:!0}),function(){t=-t,o.data=t}}(o):a(o),n.requestFlush=u,n.makeRequestCallFromTimer=a}).call(t,n(5))},function(e,t,n){'use strict';function o(e){var t=new a(a._44);return t._83=1,t._18=e,t}var a=n(4);e.exports=a;var r=o(!0),i=o(!1),s=o(null),d=o(void 0),l=o(0),c=o('');a.resolve=function(e){if(e instanceof a)return e;if(null===e)return s;if(void 0===e)return d;if(!0===e)return r;if(!1===e)return i;if(0===e)return l;if(''===e)return c;if('object'==typeof e||'function'==typeof e)try{var t=e.then;if('function'==typeof t)return new a(t.bind(e))}catch(e){return new a(function(t,n){n(e)})}return o(e)},a.all=function(e){var t=Array.prototype.slice.call(e);return new a(function(e,n){function o(s,i){if(i&&('object'==typeof i||'function'==typeof i)){if(i instanceof a&&i.then===a.prototype.then){for(;3===i._83;)i=i._18;return 1===i._83?o(s,i._18):(2===i._83&&n(i._18),void i.then(function(e){o(s,e)},n))}var d=i.then;if('function'==typeof d){var l=new a(d.bind(i));return void l.then(function(e){o(s,e)},n)}}t[s]=i,0==--r&&e(t)}if(0===t.length)return e([]);for(var r=t.length,s=0;s<t.length;s++)o(s,t[s])})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){e.forEach(function(e){a.resolve(e).then(t,n)})})},a.prototype['catch']=function(e){return this.then(null,e)}},function(){(function(e){'use strict';function t(e){if('string'!=typeof e&&(e+=''),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError('Invalid character in header field name');return e.toLowerCase()}function n(e){return'string'!=typeof e&&(e+=''),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return b.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function r(e){return e.bodyUsed?Promise.reject(new TypeError('Already read')):void(e.bodyUsed=!0)}function i(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=i(t);return t.readAsArrayBuffer(e),n}function d(e){var t=new FileReader,n=i(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join('')}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,!e)this._bodyText='';else if('string'==typeof e)this._bodyText=e;else if(b.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(b.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(b.arrayBuffer&&b.blob&&_(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else if(b.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||k(e)))this._bodyArrayBuffer=c(e);else throw new Error('unsupported BodyInit type');this.headers.get('content-type')||('string'==typeof e?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},b.blob&&(this.blob=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error('could not read FormData body as blob');else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?r(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error('could not read FormData body as text');else return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(e){var t=e.toUpperCase();return-1<v.indexOf(t)?t:e}function m(e,t){t=t||{};var n=t.body;if(e instanceof m){if(e.bodyUsed)throw new TypeError('Already read');this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e+'';if(this.credentials=t.credentials||this.credentials||'omit',(t.headers||!this.headers)&&(this.headers=new a(t.headers)),this.method=p(t.method||this.method||'GET'),this.mode=t.mode||this.mode||null,this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&n)throw new TypeError('Body not allowed for GET or HEAD requests');this._initBody(n)}function f(e){var t=new FormData;return e.trim().split('&').forEach(function(e){if(e){var n=e.split('='),o=n.shift().replace(/\+/g,' '),a=n.join('=').replace(/\+/g,' ');t.append(decodeURIComponent(o),decodeURIComponent(a))}}),t}function g(e){var t=new a;return e.split(/\r?\n/).forEach(function(e){var n=e.split(':'),o=n.shift().trim();if(o){var a=n.join(':').trim();t.append(o,a)}}),t}function h(e,t){t||(t={}),this.type='default',this.status='status'in t?t.status:200,this.ok=200<=this.status&&300>this.status,this.statusText='statusText'in t?t.statusText:'OK',this.headers=new a(t.headers),this.url=t.url||'',this._initBody(e)}if(!e.fetch){var b={searchParams:'URLSearchParams'in e,iterable:'Symbol'in e&&'iterator'in Symbol,blob:'FileReader'in e&&'Blob'in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:'FormData'in e,arrayBuffer:'ArrayBuffer'in e};if(b.arrayBuffer)var y=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],_=function(e){return e&&DataView.prototype.isPrototypeOf(e)},k=ArrayBuffer.isView||function(e){return e&&-1<y.indexOf(Object.prototype.toString.call(e))};a.prototype.append=function(e,o){e=t(e),o=n(o);var a=this.map[e];this.map[e]=a?a+','+o:o},a.prototype['delete']=function(e){delete this.map[t(e)]},a.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},a.prototype.set=function(e,o){this.map[t(e)]=n(o)},a.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),o(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),o(e)},b.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var v=['DELETE','GET','HEAD','OPTIONS','POST','PUT'];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},u.call(m.prototype),u.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:''});return e.type='error',e};var w=[301,302,303,307,308];h.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError('Invalid status code');return new h(null,{status:t,headers:{location:e}})},e.Headers=a,e.Request=m,e.Response=h,e.fetch=function(e,t){return new Promise(function(n,o){var a=new m(e,t),r=new XMLHttpRequest;r.onload=function(){var e={status:r.status,statusText:r.statusText,headers:g(r.getAllResponseHeaders()||'')};e.url='responseURL'in r?r.responseURL:e.headers.get('X-Request-URL');var t='response'in r?r.response:r.responseText;n(new h(t,e))},r.onerror=function(){o(new TypeError('Network request failed'))},r.ontimeout=function(){o(new TypeError('Network request failed'))},r.open(a.method,a.url,!0),'include'===a.credentials&&(r.withCredentials=!0),'responseType'in r&&b.blob&&(r.responseType='blob'),a.headers.forEach(function(e,t){r.setRequestHeader(t,e)}),r.send('undefined'==typeof a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}})('undefined'==typeof self?this:self)},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=n(0),a=n.n(o),r=n(7),i=n.n(r),s=n(26),d=n.n(s),l=n(27),c=n(43);i.a.render(a.a.createElement(l.a,null),document.getElementById('root')),Object(c.a)()},function(e,o,a){'use strict';/** @license React v16.2.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function i(t){for(var n=arguments.length-1,o='Minified React error #'+t+'; visit http://facebook.github.io/react/docs/error-decoder.html?invariant='+t,e=0;e<n;e++)o+='&args[]='+encodeURIComponent(arguments[e+1]);throw n=Error(o+' for the full message or use the non-minified dev environment for full errors and additional helpful warnings.'),n.name='Invariant Violation',n.framesToPop=1,n}function s(t,n,o){this.props=t,this.context=n,this.refs=R,this.updater=o||x}function d(t,n,o){this.props=t,this.context=n,this.refs=R,this.updater=o||x}function l(){}function c(t,n,o){this.props=t,this.context=n,this.refs=R,this.updater=o||x}function f(t,n,o){var e={},i=null,s=null,u;if(null!=n)for(u in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(i=''+n.key),n)Y.call(n,u)&&!H.hasOwnProperty(u)&&(e[u]=n[u]);var c=arguments.length-2;if(1===c)e.children=o;else if(1<c){for(var p=Array(c),m=0;m<c;m++)p[m]=arguments[m+2];e.children=p}if(t&&t.defaultProps)for(u in c=t.defaultProps,c)void 0===e[u]&&(e[u]=c[u]);return{$$typeof:N,type:t,key:i,ref:s,props:e,_owner:F.current}}function g(e){return'object'==typeof e&&null!==e&&e.$$typeof===N}function h(e){var t={"=":'=0',":":'=2'};return'$'+(''+e).replace(/[=:]/g,function(e){return t[e]})}function y(t,n,o,r){if(L.length){var i=L.pop();return i.result=t,i.keyPrefix=n,i.func=o,i.context=r,i.count=0,i}return{result:t,keyPrefix:n,func:o,context:r,count:0}}function _(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function C(n,o,r,e){var s=typeof n;('undefined'===s||'boolean'===s)&&(n=null);var d=!1;if(null===n)d=!0;else switch(s){case'string':case'number':d=!0;break;case'object':switch(n.$$typeof){case N:case b:case t:case u:d=!0;}}if(d)return r(e,n,''===o?'.'+P(n,0):o),1;if(d=0,o=''===o?'.':o+':',Array.isArray(n))for(var l=0;l<n.length;l++){s=n[l];var c=o+P(s,l);d+=C(s,c,r,e)}else if(null===n||'undefined'==typeof n?c=null:(c=j&&n[j]||n['@@iterator'],c='function'==typeof c?c:null),'function'==typeof c)for(n=c.call(n),l=0;!(s=n.next()).done;)s=s.value,c=o+P(s,l++),d+=C(s,c,r,e);else'object'===s&&(r=''+n,i('31','[object Object]'===r?'object with keys {'+Object.keys(n).join(', ')+'}':r,''));return d}function P(e,t){return'object'==typeof e&&null!==e&&null!=e.key?h(e.key):t.toString(36)}function k(e,t){e.func.call(e.context,t,e.count++)}function O(t,o,a){var e=t.result,i=t.keyPrefix;t=t.func.call(t.context,o,t.count++),Array.isArray(t)?S(t,e,a,n.thatReturnsArgument):null!=t&&(g(t)&&(o=i+(!t.key||o&&o.key===t.key?'':(''+t.key).replace(I,'$&/')+'/')+a,t={$$typeof:N,type:t.type,key:o,ref:t.ref,props:t.props,_owner:t._owner}),e.push(t))}function S(t,n,o,e,a){var r='';null!=o&&(r=(''+o).replace(I,'$&/')+'/'),n=y(n,r,e,a),null==t||C(t,'',O,n),_(n)}var T=a(2),R=a(6),n=a(3),p='function'==typeof Symbol&&Symbol['for'],N=p?Symbol['for']('react.element'):60103,b=p?Symbol['for']('react.call'):60104,t=p?Symbol['for']('react.return'):60105,u=p?Symbol['for']('react.portal'):60106,v=p?Symbol['for']('react.fragment'):60107,j='function'==typeof Symbol&&Symbol.iterator,x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};s.prototype.isReactComponent={},s.prototype.setState=function(e,t){'object'!=typeof e&&'function'!=typeof e&&null!=e?i('85'):void 0,this.updater.enqueueSetState(this,e,t,'setState')},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,'forceUpdate')},l.prototype=s.prototype;var z=d.prototype=new l;z.constructor=d,T(z,s.prototype),z.isPureReactComponent=!0;var D=c.prototype=new l;D.constructor=c,T(D,s.prototype),D.unstable_isAsyncReactComponent=!0,D.render=function(){return this.props.children};var F={current:null},Y=Object.prototype.hasOwnProperty,H={key:!0,ref:!0,__self:!0,__source:!0},I=/\/+/g,L=[],M={Children:{map:function(t,n,o){if(null==t)return t;var e=[];return S(t,e,null,n,o),e},forEach:function(t,n,o){return null==t?t:void(n=y(null,null,n,o),null==t||C(t,'',k,n),_(n))},count:function(e){return null==e?0:C(e,'',n.thatReturnsNull,null)},toArray:function(e){var t=[];return S(e,t,null,n.thatReturnsArgument),t},only:function(e){return g(e)?void 0:i('143'),e}},Component:s,PureComponent:d,unstable_AsyncComponent:c,Fragment:v,createElement:f,cloneElement:function(t,n,o){var e=T({},t.props),a=t.key,i=t.ref,s=t._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,s=F.current),void 0!==n.key&&(a=''+n.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(p in n)Y.call(n,p)&&!H.hasOwnProperty(p)&&(e[p]=void 0===n[p]&&void 0!==u?u[p]:n[p])}var p=arguments.length-2;if(1===p)e.children=o;else if(1<p){u=Array(p);for(var m=0;m<p;m++)u[m]=arguments[m+2];e.children=u}return{$$typeof:N,type:t.type,key:a,ref:i,props:e,_owner:s}},createFactory:function(e){var t=f.bind(null,e);return t.type=e,t},isValidElement:g,version:'16.2.0',__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:F,assign:T}},q=Object.freeze({default:M}),V=q&&M||q;e.exports=V['default']?V['default']:V},function(e,t,n){'use strict';/** @license React v16.2.0
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function o(e){for(var t=arguments.length-1,n='Minified React error #'+e+'; visit http://facebook.github.io/react/docs/error-decoder.html?invariant='+e,o=0;o<t;o++)n+='&args[]='+encodeURIComponent(arguments[o+1]);throw t=Error(n+' for the full message or use the non-minified dev environment for full errors and additional helpful warnings.'),t.name='Invariant Violation',t.framesToPop=1,t}function r(e,t){return(e&t)===t}function i(e,t){if(ao.hasOwnProperty(e)||2<e.length&&('o'===e[0]||'O'===e[0])&&('n'===e[1]||'N'===e[1]))return!1;if(null===t)return!0;switch(typeof t){case'boolean':return ao.hasOwnProperty(e)?e=!0:(t=s(e))?e=t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:(e=e.toLowerCase().slice(0,5),e='data-'===e||'aria-'===e),e;case'undefined':case'number':case'string':case'object':return!0;default:return!1;}}function s(e){return io.hasOwnProperty(e)?io[e]:null}function d(e){return e[1].toUpperCase()}function c(e,t,n){yo._hasCaughtError=!1,yo._caughtError=null;var o=Array.prototype.slice.call(arguments,3);try{t.apply(n,o)}catch(e){yo._caughtError=e,yo._hasCaughtError=!0}}function a(){if(yo._hasRethrowError){var e=yo._rethrowError;throw yo._rethrowError=null,yo._hasRethrowError=!1,e}}function u(){if(P)for(var t in _o){var n=_o[t],a=P.indexOf(t);if(-1<a?void 0:o('96',t),!ko[a])for(var r in n.extractEvents?void 0:o('97',t),ko[a]=n,a=n.eventTypes,a){var i=void 0,e=a[r],s=n,d=r;vo.hasOwnProperty(d)?o('99',d):void 0,vo[d]=e;var l=e.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&p(l[i],s,d);i=!0}else e.registrationName?(p(e.registrationName,s,d),i=!0):i=!1;i?void 0:o('98',r,t)}}}function p(e,t,n){wo[e]?o('100',e):void 0,wo[e]=t,xo[e]=t.eventTypes[n].dependencies}function m(e){P?o('101'):void 0,P=Array.prototype.slice.call(e),u()}function f(e){var t=!1,n;for(n in e)if(e.hasOwnProperty(n)){var a=e[n];_o.hasOwnProperty(n)&&_o[n]===a||(_o[n]?o('102',n):void 0,_o[n]=a,t=!0)}t&&u()}function g(e,t,n,o){t=e.type||'unknown-event',e.currentTarget=Po(o),yo.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function h(e,t){return null==t?o('30'):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function y(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function b(t,n){if(t){var o=t._dispatchListeners,a=t._dispatchInstances;if(Array.isArray(o))for(var r=0;r<o.length&&!t.isPropagationStopped();r++)g(t,n,o[r],a[r]);else o&&g(t,n,o,a);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function _(e){return b(e,!0)}function k(e){return b(e,!1)}function v(e,t){var n=e.stateNode;if(!n)return null;var a=To(n);if(!a)return null;n=a[t];a:'onClick'===t||'onClickCapture'===t||'onDoubleClick'===t||'onDoubleClickCapture'===t||'onMouseDown'===t||'onMouseDownCapture'===t||'onMouseMove'===t||'onMouseMoveCapture'===t||'onMouseUp'===t||'onMouseUpCapture'===t?((a=!a.disabled)||(e=e.type,a='button'!==e&&'input'!==e&&'select'!==e&&'textarea'!==e),e=!a):e=!1;return e?null:(n&&'function'!=typeof n?o('231',t,typeof n):void 0,n)}function w(t,n,o,a){for(var r=0,i,e;r<ko.length;r++)e=ko[r],e&&(e=e.extractEvents(t,n,o,a))&&(i=h(i,e));return i}function x(e){e&&(Eo=h(Eo,e))}function E(e){var t=Eo;Eo=null,t&&(e?y(t,_):y(t,k),Eo?o('95'):void 0,yo.rethrowCaughtError())}function A(e){if(e[Ro])return e[Ro];for(var t=[];!e[Ro];)if(t.push(e),e.parentNode)e=e.parentNode;else return null;var n=e[Ro],o;if(5===n.tag||6===n.tag)return n;for(;e&&(n=e[Ro]);e=t.pop())o=n;return o}function O(e){return 5===e.tag||6===e.tag?e.stateNode:void o('33')}function I(e){return e[Q]||null}function R(e){do e=e['return'];while(e&&5!==e.tag);return e?e:null}function N(e,t,n){for(var o=[];e;)o.push(e),e=R(e);for(e=o.length;0<e--;)t(o[e],'captured',n);for(e=0;e<o.length;e++)t(o[e],'bubbled',n)}function F(e,t,n){(t=v(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=h(n._dispatchListeners,t),n._dispatchInstances=h(n._dispatchInstances,e))}function L(e){e&&e.dispatchConfig.phasedRegistrationNames&&N(e._targetInst,F,e)}function j(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?R(t):null,N(t,F,e)}}function z(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=v(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=h(n._dispatchListeners,t),n._dispatchInstances=h(n._dispatchInstances,e))}function H(e){e&&e.dispatchConfig.registrationName&&z(e._targetInst,null,e)}function q(e){y(e,L)}function $(t,n,o,a){if(o&&a)a:{for(var r=o,e=a,i=0,s=r;s;s=R(s))i++;s=0;for(var d=e;d;d=R(d))s++;for(;0<i-s;)r=R(r),i--;for(;0<s-i;)e=R(e),s--;for(;i--;){if(r===e||r===e.alternate)break a;r=R(r),e=R(e)}r=null}else r=null;for(e=r,r=[];o&&o!==e&&(i=o.alternate,null===i||i!==e);)r.push(o),o=R(o);for(o=[];a&&a!==e&&(i=a.alternate,null===i||i!==e);)o.push(a),a=R(a);for(a=0;a<r.length;a++)z(r[a],'bubbled',t);for(t=o.length;0<t--;)z(o[t],'captured',n)}function G(){return!No&&Zn.canUseDOM&&(No='textContent'in document.documentElement?'textContent':'innerText'),No}function J(){if(Vo._fallbackText)return Vo._fallbackText;var t=Vo._startText,n=t.length,o=fe(),e=o.length,r,a;for(r=0;r<n&&t[r]===o[r];r++);var i=n-r;for(a=1;a<=i&&t[n-a]===o[e-a];a++);return Vo._fallbackText=o.slice(r,1<a?1-a:void 0),Vo._fallbackText}function fe(){return'value'in Vo._root?Vo._root.value:Vo._root[G()]}function _e(t,n,o,a){for(var r in this.dispatchConfig=t,this._targetInst=n,this.nativeEvent=o,t=this.constructor.Interface,t)t.hasOwnProperty(r)&&((n=t[r])?this[r]=n(o):'target'===r?this.target=a:this[r]=o[r]);return this.isDefaultPrevented=(null==o.defaultPrevented?!1===o.returnValue:o.defaultPrevented)?B.thatReturnsTrue:B.thatReturnsFalse,this.isPropagationStopped=B.thatReturnsFalse,this}function T(t,n,o,a){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,n,o,a),r}return new this(t,n,o,a)}function Pe(e){e instanceof this?void 0:o('223'),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Oe(e){e.eventPool=[],e.getPooled=T,e.release=Pe}function Me(e,t,n,o){return _e.call(this,e,t,n,o)}function Ne(e,t,n,o){return _e.call(this,e,t,n,o)}function et(e,t){return'topKeyUp'===e?-1!==Lo.indexOf(t.keyCode):'topKeyDown'===e?229!==t.keyCode:!('topKeyPress'!=e&&'topMouseDown'!=e&&'topBlur'!=e)}function tt(e){return e=e.detail,'object'==typeof e&&'data'in e?e.data:null}function nt(e,t){return'topCompositionEnd'===e?tt(t):'topKeyPress'===e?32===t.which?($o=!0,Yo):null:'topTextInput'===e?(e=t.data,e===Yo&&$o?null:e):null}function ot(e,t){if(Ko)return'topCompositionEnd'===e||!Bo&&et(e,t)?(e=J(),Vo._root=null,Vo._startText=null,Vo._fallbackText=null,Ko=!1,e):null;switch(e){case'topPaste':return null;case'topKeyPress':if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return Qn(t.which)}return null;case'topCompositionEnd':return Wo?null:t.data;default:return null;}}function at(e){if(e=So(e)){Go&&'function'==typeof Go.restoreControlledState?void 0:o('194');var t=To(e.stateNode);Go.restoreControlledState(e.stateNode,e.type,t)}}function rt(e){Qo?Jo?Jo.push(e):Jo=[e]:Qo=e}function it(){if(Qo){var e=Qo,t=Jo;if(Jo=Qo=null,at(e),t)for(e=0;e<t.length;e++)at(t[e])}}function st(e,t){return e(t)}function dt(e,t){if(ea)return st(e,t);ea=!0;try{return st(e,t)}finally{ea=!1,it()}}function lt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return'input'===t?!!ta[e.type]:!('textarea'!==t)}function ct(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e,t){if(!Zn.canUseDOM||t&&!('addEventListener'in document))return!1;t='on'+e;var n=t in document;return n||(n=document.createElement('div'),n.setAttribute(t,'return;'),n='function'==typeof n[t]),!n&&na&&'wheel'===e&&(n=document.implementation.hasFeature('Events.wheel','3.0')),n}function pt(e){var t=e.type;return(e=e.nodeName)&&'input'===e.toLowerCase()&&('checkbox'===t||'radio'===t)}function mt(e){var t=pt(e)?'checked':'value',n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=''+e[t];if(!e.hasOwnProperty(t)&&'function'==typeof n.get&&'function'==typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){o=''+e,n.set.call(this,e)}}),{getValue:function(){return o},setValue:function(e){o=''+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function ft(e){e._valueTracker||(e._valueTracker=mt(e))}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o='';return e&&(o=pt(e)?e.checked?'true':'false':e.value),e=o,e!==n&&(t.setValue(e),!0)}function ht(e,t,n){return e=_e.getPooled(oa.change,e,t,n),e.type='change',rt(n),q(e),e}function bt(e){x(e),E(!1)}function yt(e){var t=O(e);if(gt(t))return e}function _t(e,t){if('topChange'===e)return t}function kt(){aa&&(aa.detachEvent('onpropertychange',vt),ra=aa=null)}function vt(e){'value'===e.propertyName&&yt(ra)&&(e=ht(ra,e,ct(e)),dt(bt,e))}function wt(e,t,n){'topFocus'===e?(kt(),aa=t,ra=n,aa.attachEvent('onpropertychange',vt)):'topBlur'==e&&kt()}function xt(e){if('topSelectionChange'===e||'topKeyUp'===e||'topKeyDown'===e)return yt(ra)}function Ct(e,t){if('topClick'===e)return yt(t)}function Tt(e,t){if('topInput'===e||'topChange'===e)return yt(t)}function St(e,t,n,o){return _e.call(this,e,t,n,o)}function Pt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=da[e])&&!!t[e]}function Et(){return Pt}function At(e,t,n,o){return _e.call(this,e,t,n,o)}function Ot(e){return e=e.type,'string'==typeof e?e:'function'==typeof e?e.displayName||e.name:null}function It(e){var t=e;if(e.alternate)for(;t['return'];)t=t['return'];else{if(0!=(2&t.effectTag))return 1;for(;t['return'];)if(t=t['return'],0!=(2&t.effectTag))return 1}return 3===t.tag?2:3}function Rt(e){return!!(e=e._reactInternalFiber)&&2===It(e)}function Mt(e){2===It(e)?void 0:o('188')}function Dt(t){var n=t.alternate;if(!n)return n=It(t),3===n?o('188'):void 0,1===n?null:t;for(var a=t,r=n;;){var i=a['return'],s=i?i.alternate:null;if(!i||!s)break;if(i.child===s.child){for(var d=i.child;d;){if(d===a)return Mt(i),t;if(d===r)return Mt(i),n;d=d.sibling}o('188')}if(a['return']!==r['return'])a=i,r=s;else{d=!1;for(var l=i.child;l;){if(l===a){d=!0,a=i,r=s;break}if(l===r){d=!0,r=i,a=s;break}l=l.sibling}if(!d){for(l=s.child;l;){if(l===a){d=!0,a=s,r=i;break}if(l===r){d=!0,r=s,a=i;break}l=l.sibling}d?void 0:o('189')}}a.alternate===r?void 0:o('190')}return 3===a.tag?void 0:o('188'),a.stateNode.current===a?t:n}function Nt(e){if(e=Dt(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child['return']=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t['return']||t['return']===e)return null;t=t['return']}t.sibling['return']=t['return'],t=t.sibling}}return null}function Vt(e){if(e=Dt(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child['return']=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t['return']||t['return']===e)return null;t=t['return']}t.sibling['return']=t['return'],t=t.sibling}}return null}function Ft(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n['return'];)n=n['return'];if(n=3===n.tag?n.stateNode.containerInfo:null,!n)break;e.ancestors.push(t),t=A(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],ba(e.topLevelType,t,e.nativeEvent,ct(e.nativeEvent))}function Lt(e){pa=!!e}function Bt(e,t,n){return n?C.listen(n,t,jt.bind(null,e)):null}function Ut(e,t,n){return n?C.capture(n,t,jt.bind(null,e)):null}function jt(e,t){if(pa){var n=ct(t);if(n=A(n),null===n||'number'!=typeof n.tag||2===It(n)||(n=null),ca.length){var o=ca.pop();o.topLevelType=e,o.nativeEvent=t,o.targetInst=n,e=o}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{dt(Ft,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ca.length&&ca.push(e)}}}function zt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n['Webkit'+e]='webkit'+t,n['Moz'+e]='moz'+t,n['ms'+e]='MS'+t,n['O'+e]='o'+t.toLowerCase(),n}function Ht(e){if(ga[e])return ga[e];if(!fa[e])return e;var t=fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ha)return ga[e]=t[n];return''}function Wt(e){return Object.prototype.hasOwnProperty.call(e,va)||(e[va]=ka++,_a[e[va]]={}),_a[e[va]]}function Yt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qt(e,t){var n=Yt(e);e=0;for(var o;n;){if(3===n.nodeType){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Yt(n)}}function $t(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&('input'===t&&'text'===e.type||'textarea'===t||'true'===e.contentEditable)}function Kt(e,t){if(Na||null==Ia||Ia!==Xn())return null;var n=Ia;return'selectionStart'in n&&$t(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,Da&&eo(Da,n)?null:(Da=n,e=_e.getPooled(xa.select,Ma,e,t),e.type='select',e.target=Ia,q(e),e)}function Gt(e,t,n,o){return _e.call(this,e,t,n,o)}function Qt(e,t,n,o){return _e.call(this,e,t,n,o)}function Jt(e,t,n,o){return _e.call(this,e,t,n,o)}function Zt(e){var t=e.keyCode;return'charCode'in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,32<=e||13===e?e:0}function Xt(e,t,n,o){return _e.call(this,e,t,n,o)}function en(e,t,n,o){return _e.call(this,e,t,n,o)}function tn(e,t,n,o){return _e.call(this,e,t,n,o)}function ae(e,t,n,o){return _e.call(this,e,t,n,o)}function be(e,t,n,o){return _e.call(this,e,t,n,o)}function ce(e){0>ge||(e.current=ee[ge],ee[ge]=null,ge--)}function V(e,t){ge++,ee[ge]=e.current,e.current=t}function W(e){return me(e)?X:he.current}function ke(t,n){var o=t.type.contextTypes;if(!o)return oo;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var r={},e;for(e in o)r[e]=n[e];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=r),r}function me(e){return 2===e.tag&&null!=e.type.childContextTypes}function le(e){me(e)&&(ce(ie,e),ce(he,e))}function ne(e,t,n){null==he.cursor?void 0:o('168'),V(he,t,e),V(ie,n,e)}function oe(t,n){var a=t.stateNode,r=t.type.childContextTypes;if('function'!=typeof a.getChildContext)return n;for(var i in a=a.getChildContext(),a)i in r?void 0:o('108',Ot(t)||'Unknown',i);return l({},n,a)}function pe(e){if(!me(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||oo,X=he.current,V(he,t,e),V(ie,ie.current,e),!0}function qe(e,t){var n=e.stateNode;if(n?void 0:o('169'),t){var a=oe(e,X);n.__reactInternalMemoizedMergedChildContext=a,ce(ie,e),ce(he,e),V(he,a,e)}else ce(ie,e);V(ie,t,e)}function re(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this['return']=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Y(e,t,n){var o=e.alternate;return null===o?(o=new re(e.tag,e.key,e.internalContextTag),o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.effectTag=0,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null),o.expirationTime=n,o.pendingProps=t,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function se(t,n,a){var r=t.type,i=t.key,s;return'function'==typeof r?(s=r.prototype&&r.prototype.isReactComponent?new re(2,i,n):new re(0,i,n),s.type=r,s.pendingProps=t.props):'string'==typeof r?(s=new re(5,i,n),s.type=r,s.pendingProps=t.props):'object'==typeof r&&null!==r&&'number'==typeof r.tag?(s=r,s.pendingProps=t.props):o('130',null==r?r:typeof r,''),s.expirationTime=a,s}function te(e,t,n,o){return t=new re(10,o,t),t.pendingProps=e,t.expirationTime=n,t}function ue(e,t,n){return t=new re(6,null,t),t.pendingProps=e,t.expirationTime=n,t}function ve(e,t,n){return t=new re(7,e.key,t),t.type=e.handler,t.pendingProps=e,t.expirationTime=n,t}function we(e,t,n){return e=new re(9,null,t),e.expirationTime=n,e}function xe(e,t,n){return t=new re(4,e.key,t),t.pendingProps=e.children||[],t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ye(e){return function(t){try{return e(t)}catch(e){}}}function Be(e){if('undefined'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);je=ye(function(e){return t.onCommitFiberRoot(n,e)}),Wa=ye(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function Ce(e){'function'==typeof je&&je(e)}function nn(e){'function'==typeof Wa&&Wa(e)}function on(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function Fe(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function Ge(e,t){var n=e.alternate,o=e.updateQueue;null===o&&(o=e.updateQueue=on(null)),null===n?e=null:(e=n.updateQueue,null===e&&(e=n.updateQueue=on(null))),e=e===o?null:e,null===e?Fe(o,t):null===o.last||null===e.last?(Fe(o,t),Fe(e,t)):(Fe(o,t),e.last=t)}function He(e,t,n,o){return e=e.partialState,'function'==typeof e?e.call(t,n,o):e}function Ie(t,n,o,a,r,e){null!==t&&t.updateQueue===o&&(o=n.updateQueue={baseState:o.baseState,expirationTime:o.expirationTime,first:o.first,last:o.last,isInitialized:o.isInitialized,callbackList:null,hasForceUpdate:!1}),o.expirationTime=0,o.isInitialized?t=o.baseState:(t=o.baseState=n.memoizedState,o.isInitialized=!0);for(var i=!0,s=o.first,d=!1,c;null!==s;){if(c=s.expirationTime,c>e){var u=o.expirationTime;(0===u||u>c)&&(o.expirationTime=c),d||(d=!0,o.baseState=t)}else d||(o.first=s.next,null===o.first&&(o.last=null)),s.isReplace?(t=He(s,a,t,r),i=!0):(c=He(s,a,t,r))&&(t=i?l({},t,c):l(t,c),i=!1),s.isForced&&(o.hasForceUpdate=!0),null!==s.callback&&(c=o.callbackList,null===c&&(c=o.callbackList=[]),c.push(s));s=s.next}return null===o.callbackList?null!==o.first||o.hasForceUpdate||(n.updateQueue=null):n.effectTag|=32,d||(o.baseState=t),t}function Je(t,n){var a=t.callbackList;if(null!==a)for(t.callbackList=null,t=0;t<a.length;t++){var r=a[t],i=r.callback;r.callback=null,'function'==typeof i?void 0:o('191',i),i.call(n)}}function Ke(t,n,r,i){function s(e,t){t.updater=l,e.stateNode=t,t._reactInternalFiber=e}var l={isMounted:Rt,enqueueSetState:function(o,a,r){o=o._reactInternalFiber,r=void 0===r?null:r;var i=n(o);Ge(o,{expirationTime:i,partialState:a,callback:r,isReplace:!1,isForced:!1,nextCallback:null,next:null}),t(o,i)},enqueueReplaceState:function(o,a,r){o=o._reactInternalFiber,r=void 0===r?null:r;var i=n(o);Ge(o,{expirationTime:i,partialState:a,callback:r,isReplace:!0,isForced:!1,nextCallback:null,next:null}),t(o,i)},enqueueForceUpdate:function(o,a){o=o._reactInternalFiber,a=void 0===a?null:a;var r=n(o);Ge(o,{expirationTime:r,partialState:null,callback:a,isReplace:!1,isForced:!0,nextCallback:null,next:null}),t(o,r)}};return{adoptClassInstance:s,constructClassInstance:function(e,t){var n=e.type,o=W(e),a=2===e.tag&&null!=e.type.contextTypes,r=a?ke(e,o):oo;return t=new n(t,r),s(e,t),a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t},mountClassInstance:function(t,n){var a=t.alternate,r=t.stateNode,i=r.state||null,e=t.pendingProps;e?void 0:o('158');var s=W(t);r.props=e,r.state=t.memoizedState=i,r.refs=oo,r.context=ke(t,s),null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent&&(t.internalContextTag|=1),'function'==typeof r.componentWillMount&&(i=r.state,r.componentWillMount(),i!==r.state&&l.enqueueReplaceState(r,r.state,null),i=t.updateQueue,null!==i&&(r.state=Ie(a,t,i,r,e,n))),'function'==typeof r.componentDidMount&&(t.effectTag|=4)},updateClassInstance:function(t,n,a){var e=n.stateNode;e.props=n.memoizedProps,e.state=n.memoizedState;var s=n.memoizedProps,d=n.pendingProps;d||(d=s,null==d?o('159'):void 0);var c=e.context,u=W(n);if(u=ke(n,u),'function'!=typeof e.componentWillReceiveProps||s===d&&c===u||(c=e.state,e.componentWillReceiveProps(d,u),e.state!==c&&l.enqueueReplaceState(e,e.state,null)),c=n.memoizedState,a=null===n.updateQueue?c:Ie(t,n,n.updateQueue,e,d,a),!(s!==d||c!==a||ie.current||null!==n.updateQueue&&n.updateQueue.hasForceUpdate))return'function'!=typeof e.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(n.effectTag|=4),!1;var p=d;if(null===s||null!==n.updateQueue&&n.updateQueue.hasForceUpdate)p=!0;else{var m=n.stateNode,f=n.type;p='function'==typeof m.shouldComponentUpdate?m.shouldComponentUpdate(p,a,u):!(f.prototype&&f.prototype.isPureReactComponent)||!eo(s,p)||!eo(c,a)}return p?('function'==typeof e.componentWillUpdate&&e.componentWillUpdate(d,a,u),'function'==typeof e.componentDidUpdate&&(n.effectTag|=4)):('function'!=typeof e.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(n.effectTag|=4),r(n,d),i(n,a)),e.props=d,e.state=a,e.context=u,p}}}function Le(e){return null===e||'undefined'==typeof e?null:(e=Ve&&e[Ve]||e['@@iterator'],'function'==typeof e?e:null)}function Xe(t,n){var a=n.ref;if(null!==a&&'function'!=typeof a){if(n._owner){n=n._owner;var r;n&&(2===n.tag?void 0:o('110'),r=n.stateNode),r?void 0:o('147',a);var i=''+a;return null!==t&&null!==t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs===oo?r.refs={}:r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}'string'==typeof a?void 0:o('148'),n._owner?void 0:o('149',a)}return a}function Ze(e,t){'textarea'!==e.type&&o('31','[object Object]'===Object.prototype.toString.call(t)?'object with keys {'+Object.keys(t).join(', ')+'}':t,'')}function $e(t){function i(e,n){if(t){var o=e.lastEffect;null===o?e.firstEffect=e.lastEffect=n:(o.nextEffect=n,e.lastEffect=n),n.nextEffect=null,n.effectTag=8}}function s(e,n){if(!t)return null;for(;null!==n;)i(e,n),n=n.sibling;return null}function l(e,t){for(e=new Map;null!==t;)null===t.key?e.set(t.index,t):e.set(t.key,t),t=t.sibling;return e}function n(e,t,n){return e=Y(e,t,n),e.index=0,e.sibling=null,e}function d(e,n,o){return(e.index=o,!t)?n:(o=e.alternate,null!==o)?(o=o.index,o<n?(e.effectTag=2,n):o):(e.effectTag=2,n)}function e(e){return t&&null===e.alternate&&(e.effectTag=2),e}function r(e,t,o,a){return null===t||6!==t.tag?(t=ue(o,e.internalContextTag,a),t['return']=e,t):(t=n(t,o,a),t['return']=e,t)}function p(e,t,o,a){return null!==t&&t.type===o.type?(a=n(t,o.props,a),a.ref=Xe(t,o),a['return']=e,a):(a=se(o,e.internalContextTag,a),a.ref=Xe(t,o),a['return']=e,a)}function m(e,t,o,a){return null===t||7!==t.tag?(t=ve(o,e.internalContextTag,a),t['return']=e,t):(t=n(t,o,a),t['return']=e,t)}function f(e,t,o,a){return null===t||9!==t.tag?(t=we(o,e.internalContextTag,a),t.type=o.value,t['return']=e,t):(t=n(t,null,a),t.type=o.value,t['return']=e,t)}function g(e,t,o,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==o.containerInfo||t.stateNode.implementation!==o.implementation?(t=xe(o,e.internalContextTag,a),t['return']=e,t):(t=n(t,o.children||[],a),t['return']=e,t)}function h(e,t,o,a,r){return null===t||10!==t.tag?(t=te(o,e.internalContextTag,a,r),t['return']=e,t):(t=n(t,o,a),t['return']=e,t)}function c(e,t,n){if('string'==typeof t||'number'==typeof t)return t=ue(''+t,e.internalContextTag,n),t['return']=e,t;if('object'==typeof t&&null!==t){switch(t.$$typeof){case Qe:return t.type===qa?(t=te(t.props.children,e.internalContextTag,n,t.key),t['return']=e,t):(n=se(t,e.internalContextTag,n),n.ref=Xe(null,t),n['return']=e,n);case Re:return t=ve(t,e.internalContextTag,n),t['return']=e,t;case Se:return n=we(t,e.internalContextTag,n),n.type=t.value,n['return']=e,n;case Te:return t=xe(t,e.internalContextTag,n),t['return']=e,t;}if(We(t)||Le(t))return t=te(t,e.internalContextTag,n,null),t['return']=e,t;Ze(e,t)}return null}function u(t,n,o,a){var i=null===n?null:n.key;if('string'==typeof o||'number'==typeof o)return null===i?r(t,n,''+o,a):null;if('object'==typeof o&&null!==o){switch(o.$$typeof){case Qe:return o.key===i?o.type===qa?h(t,n,o.props.children,a,i):p(t,n,o,a):null;case Re:return o.key===i?m(t,n,o,a):null;case Se:return null===i?f(t,n,o,a):null;case Te:return o.key===i?g(t,n,o,a):null;}if(We(o)||Le(o))return null===i?h(t,n,o,a,null):null;Ze(t,o)}return null}function b(t,n,o,a,i){if('string'==typeof a||'number'==typeof a)return t=t.get(o)||null,r(n,t,''+a,i);if('object'==typeof a&&null!==a){switch(a.$$typeof){case Qe:return t=t.get(null===a.key?o:a.key)||null,a.type===qa?h(n,t,a.props.children,i,a.key):p(n,t,a,i);case Re:return t=t.get(null===a.key?o:a.key)||null,m(n,t,a,i);case Se:return t=t.get(o)||null,f(n,t,a,i);case Te:return t=t.get(null===a.key?o:a.key)||null,g(n,t,a,i);}if(We(a)||Le(a))return t=t.get(o)||null,h(n,t,a,i,null);Ze(n,a)}return null}function y(o,e,a,p){for(var m=null,f=null,r=e,n=e=0,g=null;null!==r&&n<a.length;n++){r.index>n?(g=r,r=null):g=r.sibling;var h=u(o,r,a[n],p);if(null===h){null===r&&(r=g);break}t&&r&&null===h.alternate&&i(o,r),e=d(h,e,n),null===f?m=h:f.sibling=h,f=h,r=g}if(n===a.length)return s(o,r),m;if(null===r){for(;n<a.length;n++)(r=c(o,a[n],p))&&(e=d(r,e,n),null===f?m=r:f.sibling=r,f=r);return m}for(r=l(o,r);n<a.length;n++)(g=b(r,o,n,a[n],p))&&(t&&null!==g.alternate&&r['delete'](null===g.key?n:g.key),e=d(g,e,n),null===f?m=g:f.sibling=g,f=g);return t&&r.forEach(function(e){return i(o,e)}),m}function _(p,e,a,m){var f=Le(a);'function'==typeof f?void 0:o('150'),a=f.call(a),null==a?o('151'):void 0;for(var g=f=null,r=e,n=e=0,y=null,_=a.next();null!==r&&!_.done;n++,_=a.next()){r.index>n?(y=r,r=null):y=r.sibling;var k=u(p,r,_.value,m);if(null===k){r||(r=y);break}t&&r&&null===k.alternate&&i(p,r),e=d(k,e,n),null===g?f=k:g.sibling=k,g=k,r=y}if(_.done)return s(p,r),f;if(null===r){for(;!_.done;n++,_=a.next())_=c(p,_.value,m),null!==_&&(e=d(_,e,n),null===g?f=_:g.sibling=_,g=_);return f}for(r=l(p,r);!_.done;n++,_=a.next())(_=b(r,p,n,_.value,m),null!==_)&&(t&&null!==_.alternate&&r['delete'](null===_.key?n:_.key),e=d(_,e,n),null===g?f=_:g.sibling=_,g=_);return t&&r.forEach(function(e){return i(p,e)}),f}return function(t,a,d,l){'object'==typeof d&&null!==d&&d.type===qa&&null===d.key&&(d=d.props.children);var c='object'==typeof d&&null!==d;if(c)switch(d.$$typeof){case Qe:a:{var u=d.key;for(c=a;null!==c;){if(c.key!==u)i(t,c);else if(10===c.tag?d.type===qa:c.type===d.type){s(t,c.sibling),a=n(c,d.type===qa?d.props.children:d.props,l),a.ref=Xe(c,d),a['return']=t,t=a;break a}else{s(t,c);break}c=c.sibling}d.type===qa?(a=te(d.props.children,t.internalContextTag,l,d.key),a['return']=t,t=a):(l=se(d,t.internalContextTag,l),l.ref=Xe(a,d),l['return']=t,t=l)}return e(t);case Re:a:{for(c=d.key;null!==a;){if(a.key!==c)i(t,a);else if(7===a.tag){s(t,a.sibling),a=n(a,d,l),a['return']=t,t=a;break a}else{s(t,a);break}a=a.sibling}a=ve(d,t.internalContextTag,l),a['return']=t,t=a}return e(t);case Se:a:{if(null!==a)if(9===a.tag){s(t,a.sibling),a=n(a,null,l),a.type=d.value,a['return']=t,t=a;break a}else s(t,a);a=we(d,t.internalContextTag,l),a.type=d.value,a['return']=t,t=a}return e(t);case Te:a:{for(c=d.key;null!==a;){if(a.key!==c)i(t,a);else if(4===a.tag&&a.stateNode.containerInfo===d.containerInfo&&a.stateNode.implementation===d.implementation){s(t,a.sibling),a=n(a,d.children||[],l),a['return']=t,t=a;break a}else{s(t,a);break}a=a.sibling}a=xe(d,t.internalContextTag,l),a['return']=t,t=a}return e(t);}if('string'==typeof d||'number'==typeof d)return d=''+d,null!==a&&6===a.tag?(s(t,a.sibling),a=n(a,d,l)):(s(t,a),a=ue(d,t.internalContextTag,l)),a['return']=t,t=a,e(t);if(We(d))return y(t,a,d,l);if(Le(d))return _(t,a,d,l);if(c&&Ze(t,d),'undefined'==typeof d)switch(t.tag){case 2:case 1:l=t.type,o('152',l.displayName||l.name||'Component');}return s(t,a)}}function an(t,n,a,r,i){function s(e,t,n){var o=t.expirationTime;t.child=null===e?$a(t,null,n,o):Ye(t,e.child,n,o)}function l(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=128)}function p(t,n,o,a){if(l(t,n),!o)return a&&qe(n,!1),g(t,n);o=n.stateNode,ua.current=n;var r=o.render();return n.effectTag|=1,s(t,n,r),n.memoizedState=o.state,n.memoizedProps=o.props,a&&qe(n,!0),n.child}function f(e){var t=e.stateNode;t.pendingContext?ne(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ne(e,t.context,!1),d(e,t.containerInfo)}function g(e,t){if(null!==e&&t.child!==e.child?o('153'):void 0,null!==t.child){e=t.child;var n=Y(e,e.pendingProps,e.expirationTime);for(t.child=n,n['return']=t;null!==e.sibling;)e=e.sibling,n=n.sibling=Y(e,e.pendingProps,e.expirationTime),n['return']=t;n.sibling=null}return t.child}function h(e,t){switch(t.tag){case 3:f(t);break;case 2:pe(t);break;case 4:d(t,t.stateNode.containerInfo);}return null}var _=t.shouldSetTextContent,y=t.useSyncScheduling,k=t.shouldDeprioritizeSubtree,v=n.pushHostContext,d=n.pushHostContainer,x=a.enterHydrationState,C=a.resetHydrationState,T=a.tryToClaimNextHydratableInstance;t=Ke(r,i,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var S=t.adoptClassInstance,w=t.constructClassInstance,m=t.mountClassInstance,P=t.updateClassInstance;return{beginWork:function(t,a,i){if(0===a.expirationTime||a.expirationTime>i)return h(t,a);switch(a.tag){case 0:null===t?void 0:o('155');var c=a.type,b=a.pendingProps,e=W(a);return e=ke(a,e),c=c(b,e),a.effectTag|=1,'object'==typeof c&&null!==c&&'function'==typeof c.render?(a.tag=2,b=pe(a),S(a,c),m(a,i),a=p(t,a,!0,b)):(a.tag=1,s(t,a,c),a.memoizedProps=b,a=a.child),a;case 1:a:{if(b=a.type,i=a.pendingProps,c=a.memoizedProps,ie.current)null===i&&(i=c);else if(null===i||c===i){a=g(t,a);break a}c=W(a),c=ke(a,c),b=b(i,c),a.effectTag|=1,s(t,a,b),a.memoizedProps=i,a=a.child}return a;case 2:return b=pe(a),c=void 0,null===t?a.stateNode?o('153'):(w(a,a.pendingProps),m(a,i),c=!0):c=P(t,a,i),p(t,a,c,b);case 3:return f(a),b=a.updateQueue,null===b?(C(),a=g(t,a)):(c=a.memoizedState,b=Ie(t,a,b,null,null,i),c===b?(C(),a=g(t,a)):(c=b.element,e=a.stateNode,(null===t||null===t.child)&&e.hydrate&&x(a)?(a.effectTag|=2,a.child=$a(a,null,c,i)):(C(),s(t,a,c)),a.memoizedState=b,a=a.child)),a;case 5:v(a),null===t&&T(a),b=a.type;var r=a.memoizedProps;return c=a.pendingProps,null===c&&(c=r,null===c?o('154'):void 0),e=null===t?null:t.memoizedProps,ie.current||null!==c&&r!==c?(r=c.children,_(b,c)?r=null:e&&_(b,e)&&(a.effectTag|=16),l(t,a),2147483647!==i&&!y&&k(b,c)?(a.expirationTime=2147483647,a=null):(s(t,a,r),a.memoizedProps=c,a=a.child)):a=g(t,a),a;case 6:return null===t&&T(a),t=a.pendingProps,null===t&&(t=a.memoizedProps),a.memoizedProps=t,null;case 8:a.tag=7;case 7:return b=a.pendingProps,ie.current?null===b&&(b=t&&t.memoizedProps,null===b?o('154'):void 0):(null===b||a.memoizedProps===b)&&(b=a.memoizedProps),c=b.children,a.stateNode=null===t?$a(a,a.stateNode,c,i):Ye(a,a.stateNode,c,i),a.memoizedProps=b,a.stateNode;case 9:return null;case 4:a:{if(d(a,a.stateNode.containerInfo),b=a.pendingProps,ie.current)null===b&&(b=t&&t.memoizedProps,null==b?o('154'):void 0);else if(null===b||a.memoizedProps===b){a=g(t,a);break a}null===t?a.child=Ye(a,null,b,i):s(t,a,b),a.memoizedProps=b,a=a.child}return a;case 10:a:{if(i=a.pendingProps,ie.current)null===i&&(i=a.memoizedProps);else if(null===i||a.memoizedProps===i){a=g(t,a);break a}s(t,a,i),a.memoizedProps=i,a=a.child}return a;default:o('156');}},beginFailedWork:function(e,t,n){switch(t.tag){case 2:pe(t);break;case 3:f(t);break;default:o('157');}return(t.effectTag|=64,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),0===t.expirationTime||t.expirationTime>n)?h(e,t):(t.firstEffect=null,t.lastEffect=null,t.child=null===e?$a(t,null,null,n):Ye(t,e.child,null,n),2===t.tag&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function rn(t,n,a){function r(e){e.effectTag|=4}var i=t.createInstance,e=t.createTextInstance,s=t.appendInitialChild,d=t.finalizeInitialChildren,l=t.prepareUpdate,c=t.persistence,f=n.getRootHostContainer,g=n.popHostContext,h=n.getHostContext,u=n.popHostContainer,y=a.prepareToHydrateHostInstance,p=a.prepareToHydrateHostTextInstance,_=a.popHydrationState,k,v,C;return t.mutation?(k=function(){},v=function(e,t,n){(t.updateQueue=n)&&r(t)},C=function(t,n,o,a){o!==a&&r(n)}):c?o('235'):o('236'),{completeWork:function(t,n,a){var c=n.pendingProps;switch(null===c?c=n.memoizedProps:(2147483647!==n.expirationTime||2147483647===a)&&(n.pendingProps=null),n.tag){case 1:return null;case 2:return le(n),null;case 3:return u(n),ce(ie,n),ce(he,n),c=n.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(null===t||null===t.child)&&(_(n),n.effectTag&=-3),k(n),null;case 5:g(n),a=f();var b=n.type;if(null!==t&&null!=n.stateNode){var w=t.memoizedProps,T=n.stateNode,S=h();T=l(T,b,w,c,a,S),v(t,n,T,b,w,c,a),t.ref!==n.ref&&(n.effectTag|=128)}else{if(!c)return null===n.stateNode?o('166'):void 0,null;if(t=h(),_(n))y(n,a,t)&&r(n);else{t=i(b,c,a,t,n);a:for(w=n.child;null!==w;){if(5===w.tag||6===w.tag)s(t,w.stateNode);else if(4!==w.tag&&null!==w.child){w.child['return']=w,w=w.child;continue}if(w===n)break;for(;null===w.sibling;){if(null===w['return']||w['return']===n)break a;w=w['return']}w.sibling['return']=w['return'],w=w.sibling}d(t,b,c,a)&&r(n),n.stateNode=t}null!==n.ref&&(n.effectTag|=128)}return null;case 6:if(t&&null!=n.stateNode)C(t,n,t.memoizedProps,c);else{if('string'!=typeof c)return null===n.stateNode?o('166'):void 0,null;t=f(),a=h(),_(n)?p(n)&&r(n):n.stateNode=e(c,t,a,n)}return null;case 7:(c=n.memoizedProps)?void 0:o('165'),n.tag=8,b=[];a:for((w=n.stateNode)&&(w['return']=n);null!==w;){if(5===w.tag||6===w.tag||4===w.tag)o('247');else if(9===w.tag)b.push(w.type);else if(null!==w.child){w.child['return']=w,w=w.child;continue}for(;null===w.sibling;){if(null===w['return']||w['return']===n)break a;w=w['return']}w.sibling['return']=w['return'],w=w.sibling}return w=c.handler,c=w(c.props,b),n.child=Ye(n,null===t?null:t.child,c,a),n.child;case 8:return n.tag=7,null;case 9:return null;case 10:return null;case 4:return u(n),k(n),null;case 0:o('167');default:o('156');}}}}function sn(t,n){function r(e){var t=e.ref;if(null!==t)try{t(null)}catch(t){n(e,t)}}function i(e){switch('function'==typeof nn&&nn(e),e.tag){case 2:r(e);var t=e.stateNode;if('function'==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){n(e,t)}break;case 5:r(e);break;case 7:s(e.stateNode);break;case 4:c&&l(e);}}function s(e){for(var t=e;;)if(i(t),null===t.child||c&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t['return']||t['return']===e)return;t=t['return']}t.sibling['return']=t['return'],t=t.sibling}else t.child['return']=t,t=t.child}function e(e){return 5===e.tag||3===e.tag||4===e.tag}function l(e){for(var t=e,n=!1,a=void 0,r=void 0;;){if(!n){n=t['return'];a:for(;;){switch(null===n?o('160'):void 0,n.tag){case 5:a=n.stateNode,r=!1;break a;case 3:a=n.stateNode.containerInfo,r=!0;break a;case 4:a=n.stateNode.containerInfo,r=!0;break a;}n=n['return']}n=!0}if(5===t.tag||6===t.tag)s(t),r?v(a,t.stateNode):k(a,t.stateNode);else if(4===t.tag?a=t.stateNode.containerInfo:i(t),null!==t.child){t.child['return']=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t['return']||t['return']===e)return;t=t['return'],4===t.tag&&(n=!1)}t.sibling['return']=t['return'],t=t.sibling}}var d=t.getPublicInstance,c=t.mutation;t=t.persistence,c||(t?o('235'):o('236'));var p=c.commitMount,m=c.commitUpdate,f=c.resetTextContent,g=c.commitTextUpdate,u=c.appendChild,h=c.appendChildToContainer,y=c.insertBefore,_=c.insertInContainerBefore,k=c.removeChild,v=c.removeChildFromContainer;return{commitResetTextContent:function(e){f(e.stateNode)},commitPlacement:function(t){a:{for(var n=t['return'];null!==n;){if(e(n)){var a=n;break a}n=n['return']}o('160'),a=void 0}var r=n=void 0;switch(a.tag){case 5:n=a.stateNode,r=!1;break;case 3:n=a.stateNode.containerInfo,r=!0;break;case 4:n=a.stateNode.containerInfo,r=!0;break;default:o('161');}16&a.effectTag&&(f(n),a.effectTag&=-17);a:b:for(a=t;;){for(;null===a.sibling;){if(null===a['return']||e(a['return'])){a=null;break a}a=a['return']}for(a.sibling['return']=a['return'],a=a.sibling;5!==a.tag&&6!==a.tag;){if(2&a.effectTag)continue b;if(null===a.child||4===a.tag)continue b;else a.child['return']=a,a=a.child}if(!(2&a.effectTag)){a=a.stateNode;break a}}for(var i=t;;){if(5===i.tag||6===i.tag)a?r?_(n,i.stateNode,a):y(n,i.stateNode,a):r?h(n,i.stateNode):u(n,i.stateNode);else if(4!==i.tag&&null!==i.child){i.child['return']=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i['return']||i['return']===t)return;i=i['return']}i.sibling['return']=i['return'],i=i.sibling}},commitDeletion:function(e){l(e),e['return']=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate['return']=null)},commitWork:function(t,n){switch(n.tag){case 2:break;case 5:var a=n.stateNode;if(null!=a){var r=n.memoizedProps;t=null===t?r:t.memoizedProps;var i=n.type,e=n.updateQueue;n.updateQueue=null,null!==e&&m(a,e,i,t,r,n)}break;case 6:null===n.stateNode?o('162'):void 0,a=n.memoizedProps,g(n.stateNode,null===t?a:t.memoizedProps,a);break;case 3:break;default:o('163');}},commitLifeCycles:function(e,t){switch(t.tag){case 2:var n=t.stateNode;if(4&t.effectTag)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var a=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(a,e)}t=t.updateQueue,null!==t&&Je(t,n);break;case 3:n=t.updateQueue,null!==n&&Je(n,null===t.child?null:t.child.stateNode);break;case 5:n=t.stateNode,null===e&&4&t.effectTag&&p(n,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;default:o('163');}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:t(d(n));break;default:t(n);}}},commitDetachRef:function(e){e=e.ref,null!==e&&e(null)}}}function dn(t){function n(e){return e===Ka?o('174'):void 0,e}var r=t.getChildHostContext,i=t.getRootHostContext,s={current:Ka},e={current:Ka},l={current:Ka};return{getHostContext:function(){return n(s.current)},getRootHostContainer:function(){return n(l.current)},popHostContainer:function(t){ce(s,t),ce(e,t),ce(l,t)},popHostContext:function(t){e.current===t&&(ce(s,t),ce(e,t))},pushHostContainer:function(t,n){V(l,n,t),n=i(n),V(e,t,t),V(s,n,t)},pushHostContext:function(t){var o=n(l.current),a=n(s.current);o=r(a,t.type,o),a!==o&&(V(e,t,t),V(s,o,t))},resetHostContainer:function(){s.current=Ka,l.current=Ka}}}function ln(t){function n(e,t){var n=new re(5,null,0);n.type='DELETED',n.stateNode=t,n['return']=e,n.effectTag=8,null===e.lastEffect?e.firstEffect=e.lastEffect=n:(e.lastEffect.nextEffect=n,e.lastEffect=n)}function r(t,n){switch(t.tag){case 5:return n=e(n,t.type,t.pendingProps),null!==n&&(t.stateNode=n,!0);case 6:return n=d(n,t.pendingProps),null!==n&&(t.stateNode=n,!0);default:return!1;}}function i(e){for(e=e['return'];null!==e&&5!==e.tag&&3!==e.tag;)e=e['return'];f=e}var s=t.shouldSetTextContent;if(t=t.hydration,!t)return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){o('175')},prepareToHydrateHostTextInstance:function(){o('176')},popHydrationState:function(){return!1}};var e=t.canHydrateInstance,d=t.canHydrateTextInstance,l=t.getNextHydratableSibling,c=t.getFirstHydratableChild,p=t.hydrateInstance,m=t.hydrateTextInstance,f=null,g=null,u=!1;return{enterHydrationState:function(e){return g=c(e.stateNode.containerInfo),f=e,u=!0},resetHydrationState:function(){g=f=null,u=!1},tryToClaimNextHydratableInstance:function(e){if(u){var t=g;if(t){if(!r(e,t)){if(t=l(t),!t||!r(e,t))return e.effectTag|=2,u=!1,void(f=e);n(f,g)}f=e,g=c(t)}else e.effectTag|=2,u=!1,f=e}},prepareToHydrateHostInstance:function(e,t,n){return t=p(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return m(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==f)return!1;if(!u)return i(e),u=!0,!1;var t=e.type;if(5!==e.tag||'head'!==t&&'body'!==t&&!s(t,e.memoizedProps))for(t=g;t;)n(e,t),t=l(t);return i(e),g=f?l(e.stateNode):null,!0}}}function cn(i){function s(n){fe=se=!0;var a=n.stateNode;if(a.current===n?o('177'):void 0,a.isReadyForCommit=!1,ua.current=null,!(1<n.effectTag))r=n.firstEffect;else if(null!==n.lastEffect){n.lastEffect.nextEffect=n;var r=n.firstEffect}else r=n;for(te(),H=r;null!==H;){var i=!1,s=void 0;try{for(;null!==H;){var e=H.effectTag;if(16&e&&U(H),128&e){var d=H.alternate;null!==d&&K(d)}switch(-242&e){case 2:j(H),H.effectTag&=-3;break;case 6:j(H),H.effectTag&=-3,W(H.alternate,H);break;case 4:W(H.alternate,H);break;case 8:be=!0,z(H),be=!1;}H=H.nextEffect}}catch(e){i=!0,s=e}i&&(null===H?o('178'):void 0,C(H,s),null!==H&&(H=H.nextEffect))}for(ne(),a.current=n,H=r;null!==H;){r=!1,i=void 0;try{for(;null!==H;){var l=H.effectTag;if(36&l&&q(H.alternate,H),128&l&&$(H),64&l)switch(s=H,e=void 0,null!==t&&(e=t.get(s),t['delete'](s),null==e&&null!==s.alternate&&(s=s.alternate,e=t.get(s),t['delete'](s))),null==e?o('184'):void 0,s.tag){case 2:s.stateNode.componentDidCatch(e.error,{componentStack:e.componentStack});break;case 3:null===pe&&(pe=e.error);break;default:o('157');}var c=H.nextEffect;H.nextEffect=null,H=c}}catch(e){r=!0,i=e}r&&(null===H?o('178'):void 0,C(H,i),null!==H&&(H=H.nextEffect))}return se=fe=!1,'function'==typeof Ce&&Ce(n.stateNode),ue&&(ue.forEach(S),ue=null),null!==pe&&(n=pe,pe=null,A(n)),a=a.current.expirationTime,0===a&&(R=t=null),a}function l(t){for(;;){var n=B(t.alternate,t,ce),o=t['return'],a=t.sibling,r=t;if(2147483647===ce||2147483647!==r.expirationTime){if(2!==r.tag&&3!==r.tag)var e=0;else e=r.updateQueue,e=null===e?0:e.expirationTime;for(var i=r.child;null!==i;)0!==i.expirationTime&&(0===e||e>i.expirationTime)&&(e=i.expirationTime),i=i.sibling;r.expirationTime=e}if(null!==n)return n;if(null!==o&&(null===o.firstEffect&&(o.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==o.lastEffect&&(o.lastEffect.nextEffect=t.firstEffect),o.lastEffect=t.lastEffect),1<t.effectTag&&(null===o.lastEffect?o.firstEffect=t:o.lastEffect.nextEffect=t,o.lastEffect=t)),null!==a)return a;if(null!==o)t=o;else{t.stateNode.isReadyForCommit=!0;break}}return null}function a(e){var t=V(e.alternate,e,ce);return null===t&&(t=l(e)),ua.current=null,t}function _(e){var t=L(e.alternate,e,ce);return null===t&&(t=l(e)),ua.current=null,t}function e(e){if(null!==t){if(!(0===ce||ce>e))if(ce<=ae)for(;null!==de;)de=d(de)?_(de):a(de);else for(;null!==de&&!m();)de=d(de)?_(de):a(de);}else if(!(0===ce||ce>e))if(ce<=ae)for(;null!==de;)de=a(de);else for(;null!==de&&!m();)de=a(de)}function f(t,a){if(se?o('243'):void 0,se=!0,t.isReadyForCommit=!1,t!==F||a!==ce||null===de){for(;-1<ge;)ee[ge]=null,ge--;X=oo,he.current=oo,ie.current=!1,N(),F=t,ce=a,de=Y(F.current,null,a)}var r=!1,i=null;try{e(a)}catch(e){r=!0,i=e}for(;r;){if(me){pe=i;break}var s=de;if(null===s)me=!0;else{var d=C(s,i);if(null===d?o('183'):void 0,!me){try{for(r=d,i=a,d=r;null!==s;){switch(s.tag){case 2:le(s);break;case 5:p(s);break;case 3:n(s);break;case 4:n(s);}if(s===d||s.alternate===d)break;s=s['return']}de=_(r),e(i)}catch(e){r=!0,i=e;continue}break}}}return a=pe,me=se=!1,pe=null,null!==a&&A(a),t.isReadyForCommit?t.current.alternate:null}function C(o,r){var i=ua.current=null,s=!1,l=!1,c=null;if(3===o.tag)i=o,T(o)&&(me=!0);else for(var u=o['return'];null!==u&&null===i;){if(2===u.tag?'function'==typeof u.stateNode.componentDidCatch&&(s=!0,c=Ot(u),i=u,l=!0):3===u.tag&&(i=u),T(u)){if(be||null!=ue&&(ue.has(u)||null!==u.alternate&&ue.has(u.alternate)))return null;i=null,l=!1}u=u['return']}if(null!==i){null==R&&(R=new Set),R.add(i);var y='';u=o;do{a:switch(u.tag){case 0:case 1:case 2:case 5:var _=u._debugOwner,k=u._debugSource,v=Ot(u),m=null;_&&(m=Ot(_)),_=k,v='\n    in '+(v||'Unknown')+(_?' (at '+_.fileName.replace(/^.*[\\\/]/,'')+':'+_.lineNumber+')':m?' (created by '+m+')':'');break a;default:v='';}y+=v,u=u['return']}while(u);u=y,o=Ot(o),null==t&&(t=new Map),r={componentName:o,componentStack:u,error:r,errorBoundary:s?i.stateNode:null,errorBoundaryFound:s,errorBoundaryName:c,willRetry:l},t.set(i,r);try{var n=r.error;n&&n.suppressReactErrorLogging||console.error(n)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}return fe?(null==ue&&(ue=new Set),ue.add(i)):S(i),i}return null===pe&&(pe=r),null}function d(e){return null!==t&&(t.has(e)||null!==e.alternate&&t.has(e.alternate))}function T(e){return null!==R&&(R.has(e)||null!==e.alternate&&R.has(e.alternate))}function c(){return 20*((0|(b()+100)/20)+1)}function g(e){return 0===re?se?fe?1:ce:!Z||1&e.internalContextTag?c():1:re}function h(e,t){return k(e,t,!1)}function k(t,n){for(;null!==t;){if((0===t.expirationTime||t.expirationTime>n)&&(t.expirationTime=n),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>n)&&(t.alternate.expirationTime=n),null===t['return'])if(3===t.tag){var a=t.stateNode;!se&&a===F&&n<ce&&(de=F=null,ce=0);var r=a,i=n;if(Re>Ie&&o('185'),null===r.nextScheduledRoot)r.remainingExpirationTime=i,null===_e?(ye=_e=r,r.nextScheduledRoot=r):(_e=_e.nextScheduledRoot=r,_e.nextScheduledRoot=ye);else{var e=r.remainingExpirationTime;(0===e||i<e)&&(r.remainingExpirationTime=i)}ve||(Ae?Oe&&(we=r,xe=1,w(we,xe)):1===i?M(1,null):P(i)),!se&&a===F&&n<ce&&(de=F=null,ce=0)}else break;t=t['return']}}function S(e){k(e,1,!0)}function b(){return ae=(0|(G()-oe)/10)+2}function P(e){if(0!==O){if(e>O)return;J(ke)}var t=G()-oe;O=e,ke=Q(I,{timeout:10*(e-2)-t})}function E(){var t=0,n=null;if(null!==_e)for(var a=_e,r=ye,i;null!==r;)if(i=r.remainingExpirationTime,0===i){if(null===a||null===_e?o('244'):void 0,r===r.nextScheduledRoot){ye=_e=r.nextScheduledRoot=null;break}else if(r===ye)ye=i=r.nextScheduledRoot,_e.nextScheduledRoot=i,r.nextScheduledRoot=null;else if(r===_e){_e=a,_e.nextScheduledRoot=ye,r.nextScheduledRoot=null;break}else a.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null;r=a.nextScheduledRoot}else{if((0==t||i<t)&&(t=i,n=r),r===_e)break;a=r,r=r.nextScheduledRoot}a=we,null!==a&&a===n?Re++:Re=0,we=n,xe=t}function I(e){M(0,e)}function M(e,t){for(Ee=t,E();null!==we&&0!==xe&&(0===e||xe<=e)&&!Te;)w(we,xe),E();if(null!==Ee&&(O=0,ke=-1),0!==xe&&P(xe),Ee=null,Te=!1,Re=0,Se)throw e=Pe,Pe=null,Se=!1,e}function w(e,t){if(ve?o('245'):void 0,ve=!0,t<=b()){var n=e.finishedWork;null===n?(e.finishedWork=null,n=f(e,t),null!==n&&(e.remainingExpirationTime=s(n))):(e.finishedWork=null,e.remainingExpirationTime=s(n))}else n=e.finishedWork,null===n?(e.finishedWork=null,n=f(e,t),null!==n&&(m()?e.finishedWork=n:e.remainingExpirationTime=s(n))):(e.finishedWork=null,e.remainingExpirationTime=s(n));ve=!1}function m(){return!(null===Ee||Ee.timeRemaining()>Me)&&(Te=!0)}function A(e){null===we?o('246'):void 0,we.remainingExpirationTime=0,Se||(Se=!0,Pe=e)}var D=dn(i),r=ln(i),n=D.popHostContainer,p=D.popHostContext,N=D.resetHostContainer,x=an(i,D,r,h,g),V=x.beginWork,L=x.beginFailedWork,B=rn(i,D,r).completeWork;D=sn(i,C);var U=D.commitResetTextContent,j=D.commitPlacement,z=D.commitDeletion,W=D.commitWork,q=D.commitLifeCycles,$=D.commitAttachRef,K=D.commitDetachRef,G=i.now,Q=i.scheduleDeferredCallback,J=i.cancelDeferredCallback,Z=i.useSyncScheduling,te=i.prepareForCommit,ne=i.resetAfterCommit,oe=G(),ae=2,re=0,se=!1,de=null,F=null,ce=0,H=null,t=null,R=null,ue=null,pe=null,me=!1,fe=!1,be=!1,ye=null,_e=null,O=0,ke=-1,ve=!1,we=null,xe=0,Te=!1,Se=!1,Pe=null,Ee=null,Ae=!1,Oe=!1,Ie=1E3,Re=0,Me=1;return{computeAsyncExpiration:c,computeExpirationForFiber:g,scheduleWork:h,batchedUpdates:function(e,t){var n=Ae;Ae=!0;try{return e(t)}finally{(Ae=n)||ve||M(1,null)}},unbatchedUpdates:function(e){if(Ae&&!Oe){Oe=!0;try{return e()}finally{Oe=!1}}return e()},flushSync:function(e){var t=Ae;Ae=!0;try{a:{var n=re;re=1;try{var a=e();break a}finally{re=n}a=void 0}return a}finally{Ae=t,ve?o('187'):void 0,M(1,null)}},deferredUpdates:function(e){var t=re;re=c();try{return e()}finally{re=t}}}}function un(t){function n(e){return e=Nt(e),null===e?null:e.stateNode}var r=t.getPublicInstance;t=cn(t);var i=t.computeAsyncExpiration,s=t.computeExpirationForFiber,e=t.scheduleWork;return{createContainer:function(e,t){var n=new re(3,null,0);return e={current:n,containerInfo:e,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:t,nextScheduledRoot:null},n.stateNode=e},updateContainer:function(t,n,r,d){var l=n.current;if(r){r=r._reactInternalFiber;var c;b:{for(2===It(r)&&2===r.tag?void 0:o('170'),c=r;3!==c.tag;){if(me(c)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break b}(c=c['return'])?void 0:o('171')}c=c.stateNode.context}r=me(r)?oe(r,c):c}else r=oo;null===n.context?n.context=r:n.pendingContext=r,n=d,n=void 0===n?null:n,d=null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent?i():s(l),Ge(l,{expirationTime:d,partialState:{element:t},callback:n,isReplace:!1,isForced:!1,nextCallback:null,next:null}),e(l,d)},batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,flushSync:t.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return r(e.child.stateNode);default:return e.child.stateNode;}},findHostInstance:n,findHostInstanceWithNoPortals:function(e){return e=Vt(e),null===e?null:e.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return Be(l({},e,{findHostInstanceByFiber:function(e){return n(e)},findFiberByHostInstance:function(e){return t?t(e):null}}))}}}function pn(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Te,key:null==o?null:''+o,children:e,containerInfo:t,implementation:n}}function mn(e){return!!fr.hasOwnProperty(e)||!mr.hasOwnProperty(e)&&(pr.test(e)?fr[e]=!0:(mr[e]=!0,!1))}function fn(t,n,o){var a=s(n);if(a&&i(n,o)){var r=a.mutationMethod;r?r(t,o):null==o||a.hasBooleanValue&&!o||a.hasNumericValue&&isNaN(o)||a.hasPositiveNumericValue&&1>o||a.hasOverloadedBooleanValue&&!1===o?hn(t,n):a.mustUseProperty?t[a.propertyName]=o:(n=a.attributeName,(r=a.attributeNamespace)?t.setAttributeNS(r,n,''+o):a.hasBooleanValue||a.hasOverloadedBooleanValue&&!0===o?t.setAttribute(n,''):t.setAttribute(n,''+o))}else gn(t,n,i(n,o)?o:null)}function gn(e,t,n){mn(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,''+n))}function hn(e,t){var n=s(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&'':e.removeAttribute(n.attributeName):e.removeAttribute(t)}function bn(e,t){var n=t.value,o=t.checked;return l({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null==n?e._wrapperState.initialValue:n,checked:null==o?e._wrapperState.initialChecked:o})}function yn(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null==t.checked?t.defaultChecked:t.checked,initialValue:null==t.value?n:t.value,controlled:'checkbox'===t.type||'radio'===t.type?null!=t.checked:null!=t.value}}function _n(e,t){t=t.checked,null!=t&&fn(e,'checked',t)}function kn(e,t){_n(e,t);var n=t.value;null==n?(null==t.value&&null!=t.defaultValue&&e.defaultValue!==''+t.defaultValue&&(e.defaultValue=''+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)):0===n&&''===e.value?e.value='0':'number'===t.type?(t=parseFloat(e.value)||0,n!=t||n==t&&e.value!=n)&&(e.value=''+n):e.value!==''+n&&(e.value=''+n)}function vn(e,t){switch(t.type){case'submit':case'reset':break;case'color':case'date':case'datetime':case'datetime-local':case'month':case'time':case'week':e.value='',e.value=e.defaultValue;break;default:e.value=e.value;}t=e.name,''!==t&&(e.name=''),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,''!==t&&(e.name=t)}function wn(e){var t='';return Jn.Children.forEach(e,function(e){null==e||'string'!=typeof e&&'number'!=typeof e||(t+=e)}),t}function xn(e,t){return e=l({children:void 0},t),(t=wn(t.children))&&(e.children=t),e}function Cn(t,n,o,a){if(t=t.options,n){n={};for(var r=0;r<o.length;r++)n['$'+o[r]]=!0;for(o=0;o<t.length;o++)r=n.hasOwnProperty('$'+t[o].value),t[o].selected!==r&&(t[o].selected=r),r&&a&&(t[o].defaultSelected=!0)}else{for(o=''+o,n=null,r=0;r<t.length;r++){if(t[r].value===o)return t[r].selected=!0,void(a&&(t[r].defaultSelected=!0));null!==n||t[r].disabled||(n=t[r])}null!==n&&(n.selected=!0)}}function Tn(e,t){var n=t.value;e._wrapperState={initialValue:null==n?t.defaultValue:n,wasMultiple:!!t.multiple}}function Sn(e,t){return null==t.dangerouslySetInnerHTML?void 0:o('91'),l({},t,{value:void 0,defaultValue:void 0,children:''+e._wrapperState.initialValue})}function Pn(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null==n?void 0:o('92'),Array.isArray(t)&&(1>=t.length?void 0:o('93'),t=t[0]),n=''+t),null==n&&(n='')),e._wrapperState={initialValue:''+n}}function En(e,t){var n=t.value;null!=n&&(n=''+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function An(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function On(e){return'svg'===e?'http://www.w3.org/2000/svg':'math'===e?'http://www.w3.org/1998/Math/MathML':'http://www.w3.org/1999/xhtml'}function In(e,t){return null==e||'http://www.w3.org/1999/xhtml'===e?On(t):'http://www.w3.org/2000/svg'===e&&'foreignObject'===t?'http://www.w3.org/1999/xhtml':e}function Rn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Mn(t,n){for(var o in t=t.style,n)if(n.hasOwnProperty(o)){var a=0===o.indexOf('--'),r=o,e=n[o];r=null==e||'boolean'==typeof e||''===e?'':a||'number'!=typeof e||0===e||br.hasOwnProperty(r)&&br[r]?(''+e).trim():e+'px','float'===o&&(o='cssFloat'),a?t.setProperty(o,r):t[o]=r}}function Dn(e,t,n){t&&(kr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?o('137',e,n()):void 0),null!=t.dangerouslySetInnerHTML&&(null==t.children?void 0:o('60'),'object'==typeof t.dangerouslySetInnerHTML&&'__html'in t.dangerouslySetInnerHTML?void 0:o('61')),null!=t.style&&'object'!=typeof t.style?o('62',n()):void 0)}function Nn(e,t){if(-1===e.indexOf('-'))return'string'==typeof t.is;return'annotation-xml'!==e&&'color-profile'!==e&&'font-face'!==e&&'font-face-src'!==e&&'font-face-uri'!==e&&'font-face-format'!==e&&'font-face-name'!==e&&'missing-glyph'!==e}function Vn(t,n){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var o=Wt(t);n=xo[n];for(var a=0,r;a<n.length;a++)r=n[a],o.hasOwnProperty(r)&&o[r]||('topScroll'===r?Ut('topScroll','scroll',t):'topFocus'===r||'topBlur'===r?(Ut('topFocus','focus',t),Ut('topBlur','blur',t),o.topBlur=!0,o.topFocus=!0):'topCancel'===r?(ut('cancel',!0)&&Ut('topCancel','cancel',t),o.topCancel=!0):'topClose'===r?(ut('close',!0)&&Ut('topClose','close',t),o.topClose=!0):ya.hasOwnProperty(r)&&Bt(r,ya[r],t),o[r]=!0)}function Fn(e,t,n,o){return n=9===n.nodeType?n:n.ownerDocument,o===vr&&(o=On(e)),o===vr?'script'===e?(e=n.createElement('div'),e.innerHTML='<script></script>',e=e.removeChild(e.firstChild)):e='string'==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(o,e),e}function Ln(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function Bn(t,n,o,a){var r=Nn(n,o);switch(n){case'iframe':case'object':Bt('topLoad','load',t);var e=o;break;case'video':case'audio':for(e in xr)xr.hasOwnProperty(e)&&Bt(e,xr[e],t);e=o;break;case'source':Bt('topError','error',t),e=o;break;case'img':case'image':Bt('topError','error',t),Bt('topLoad','load',t),e=o;break;case'form':Bt('topReset','reset',t),Bt('topSubmit','submit',t),e=o;break;case'details':Bt('topToggle','toggle',t),e=o;break;case'input':yn(t,o),e=bn(t,o),Bt('topInvalid','invalid',t),Vn(a,'onChange');break;case'option':e=xn(t,o);break;case'select':Tn(t,o),e=l({},o,{value:void 0}),Bt('topInvalid','invalid',t),Vn(a,'onChange');break;case'textarea':Pn(t,o),e=Sn(t,o),Bt('topInvalid','invalid',t),Vn(a,'onChange');break;default:e=o;}Dn(n,e,wr);var i=e,s;for(s in i)if(i.hasOwnProperty(s)){var d=i[s];'style'===s?Mn(t,d,wr):'dangerouslySetInnerHTML'===s?(d=d?d.__html:void 0,null!=d&&hr(t,d)):'children'===s?'string'==typeof d?('textarea'!==n||''!==d)&&Rn(t,d):'number'==typeof d&&Rn(t,''+d):'suppressContentEditableWarning'!==s&&'suppressHydrationWarning'!==s&&'autoFocus'!==s&&(wo.hasOwnProperty(s)?null!=d&&Vn(a,s):r?gn(t,s,d):null!=d&&fn(t,s,d))}'input'===n?(ft(t),vn(t,o)):'textarea'===n?(ft(t),An(t,o)):'option'===n?null!=o.value&&t.setAttribute('value',o.value):'select'===n?(t.multiple=!!o.multiple,n=o.value,null==n?null!=o.defaultValue&&Cn(t,!!o.multiple,o.defaultValue,!0):Cn(t,!!o.multiple,n,!1)):'function'==typeof e.onClick&&(t.onclick=B)}function Un(t,n,o,a,r){var e=null;'input'===n?(o=bn(t,o),a=bn(t,a),e=[]):'option'===n?(o=xn(t,o),a=xn(t,a),e=[]):'select'===n?(o=l({},o,{value:void 0}),a=l({},a,{value:void 0}),e=[]):'textarea'===n?(o=Sn(t,o),a=Sn(t,a),e=[]):'function'!=typeof o.onClick&&'function'==typeof a.onClick&&(t.onclick=B),Dn(n,a,wr);var i,s;for(i in t=null,o)if(!a.hasOwnProperty(i)&&o.hasOwnProperty(i)&&null!=o[i])if('style'===i)for(s in n=o[i],n)n.hasOwnProperty(s)&&(t||(t={}),t[s]='');else'dangerouslySetInnerHTML'!=i&&'children'!=i&&'suppressContentEditableWarning'!=i&&'suppressHydrationWarning'!=i&&'autoFocus'!=i&&(wo.hasOwnProperty(i)?e||(e=[]):(e=e||[]).push(i,null));for(i in a){var d=a[i];if(n=null==o?void 0:o[i],a.hasOwnProperty(i)&&d!==n&&(null!=d||null!=n))if('style'!==i)'dangerouslySetInnerHTML'===i?(d=d?d.__html:void 0,n=n?n.__html:void 0,null!=d&&n!==d&&(e=e||[]).push(i,''+d)):'children'===i?n===d||'string'!=typeof d&&'number'!=typeof d||(e=e||[]).push(i,''+d):'suppressContentEditableWarning'!=i&&'suppressHydrationWarning'!=i&&(wo.hasOwnProperty(i)?(null!=d&&Vn(r,i),e||n===d||(e=[])):(e=e||[]).push(i,d));else if(n){for(s in n)!n.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(t||(t={}),t[s]='');for(s in d)d.hasOwnProperty(s)&&n[s]!==d[s]&&(t||(t={}),t[s]=d[s])}else t||(e||(e=[]),e.push(i,t)),t=d}return t&&(e=e||[]).push('style',t),e}function jn(t,n,o,a,r){'input'===o&&'radio'===r.type&&null!=r.name&&_n(t,r),Nn(o,a),a=Nn(o,r);for(var e=0;e<n.length;e+=2){var i=n[e],s=n[e+1];'style'===i?Mn(t,s,wr):'dangerouslySetInnerHTML'===i?hr(t,s):'children'===i?Rn(t,s):a?null==s?t.removeAttribute(i):gn(t,i,s):null==s?hn(t,i):fn(t,i,s)}'input'===o?kn(t,r):'textarea'===o?En(t,r):'select'===o?(t._wrapperState.initialValue=void 0,n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,o=r.value,null==o?n!==!!r.multiple&&(null==r.defaultValue?Cn(t,!!r.multiple,r.multiple?[]:'',!1):Cn(t,!!r.multiple,r.defaultValue,!0)):Cn(t,!!r.multiple,o,!1)):void 0}function zn(t,n,o,a,r){switch(n){case'iframe':case'object':Bt('topLoad','load',t);break;case'video':case'audio':for(var e in xr)xr.hasOwnProperty(e)&&Bt(e,xr[e],t);break;case'source':Bt('topError','error',t);break;case'img':case'image':Bt('topError','error',t),Bt('topLoad','load',t);break;case'form':Bt('topReset','reset',t),Bt('topSubmit','submit',t);break;case'details':Bt('topToggle','toggle',t);break;case'input':yn(t,o),Bt('topInvalid','invalid',t),Vn(r,'onChange');break;case'select':Tn(t,o),Bt('topInvalid','invalid',t),Vn(r,'onChange');break;case'textarea':Pn(t,o),Bt('topInvalid','invalid',t),Vn(r,'onChange');}for(var i in Dn(n,o,wr),a=null,o)o.hasOwnProperty(i)&&(e=o[i],'children'===i?'string'==typeof e?t.textContent!==e&&(a=['children',e]):'number'==typeof e&&t.textContent!==''+e&&(a=['children',''+e]):wo.hasOwnProperty(i)&&null!=e&&Vn(r,i));switch(n){case'input':ft(t),vn(t,o);break;case'textarea':ft(t),An(t,o);break;case'select':case'option':break;default:'function'==typeof o.onClick&&(t.onclick=B);}return a}function Hn(e,t){return e.nodeValue!==t}function Wn(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&' react-mount-point-unstable '===e.nodeValue)}function Yn(e){return e=e?9===e.nodeType?e.documentElement:e.firstChild:null,e&&1===e.nodeType&&e.hasAttribute('data-reactroot')}function qn(t,n,a,r,i){Wn(a)?void 0:o('200');var e=a._reactRootContainer;if(e)Pr.updateContainer(n,e,t,i);else{if(r=r||Yn(a),!r)for(e=void 0;e=a.lastChild;)a.removeChild(e);var s=Pr.createContainer(a,r);e=a._reactRootContainer=s,Pr.unbatchedUpdates(function(){Pr.updateContainer(n,s,t,i)})}return Pr.getPublicRootInstance(e)}function $n(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Wn(t)?void 0:o('200'),pn(e,t,null,n)}function Kn(e,t){this._reactRootContainer=Pr.createContainer(e,t)}var Gn=Math.min,Qn=String.fromCharCode,Jn=n(0),Zn=n(18),l=n(2),B=n(3),C=n(19),Xn=n(20),eo=n(21),to=n(22),no=n(25),oo=n(6);Jn?void 0:o('227');var ao={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},ro={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var n=ro,a=t.Properties||{},i=t.DOMAttributeNamespaces||{},s=t.DOMAttributeNames||{};for(var e in t=t.DOMMutationMethods||{},a){io.hasOwnProperty(e)?o('48',e):void 0;var d=e.toLowerCase(),l=a[e];d={attributeName:d,attributeNamespace:null,propertyName:e,mutationMethod:null,mustUseProperty:r(l,n.MUST_USE_PROPERTY),hasBooleanValue:r(l,n.HAS_BOOLEAN_VALUE),hasNumericValue:r(l,n.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(l,n.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(l,n.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:r(l,n.HAS_STRING_BOOLEAN_VALUE)},1>=d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue?void 0:o('50',e),s.hasOwnProperty(e)&&(d.attributeName=s[e]),i.hasOwnProperty(e)&&(d.attributeNamespace=i[e]),t.hasOwnProperty(e)&&(d.mutationMethod=t[e]),io[e]=d}}},io={},so=ro,lo=so.MUST_USE_PROPERTY,co=so.HAS_BOOLEAN_VALUE,uo=so.HAS_NUMERIC_VALUE,po=so.HAS_POSITIVE_NUMERIC_VALUE,mo=so.HAS_OVERLOADED_BOOLEAN_VALUE,fo=so.HAS_STRING_BOOLEAN_VALUE,go=so.HAS_STRING_BOOLEAN_VALUE,ho={xlink:'http://www.w3.org/1999/xlink',xml:'http://www.w3.org/XML/1998/namespace'},M={Properties:{autoReverse:go,externalResourcesRequired:go,preserveAlpha:go},DOMAttributeNames:{autoReverse:'autoReverse',externalResourcesRequired:'externalResourcesRequired',preserveAlpha:'preserveAlpha'},DOMAttributeNamespaces:{xlinkActuate:ho.xlink,xlinkArcrole:ho.xlink,xlinkHref:ho.xlink,xlinkRole:ho.xlink,xlinkShow:ho.xlink,xlinkTitle:ho.xlink,xlinkType:ho.xlink,xmlBase:ho.xml,xmlLang:ho.xml,xmlSpace:ho.xml}},bo=/[\-\:]([a-z])/g;['accent-height','alignment-baseline','arabic-form','baseline-shift','cap-height','clip-path','clip-rule','color-interpolation','color-interpolation-filters','color-profile','color-rendering','dominant-baseline','enable-background','fill-opacity','fill-rule','flood-color','flood-opacity','font-family','font-size','font-size-adjust','font-stretch','font-style','font-variant','font-weight','glyph-name','glyph-orientation-horizontal','glyph-orientation-vertical','horiz-adv-x','horiz-origin-x','image-rendering','letter-spacing','lighting-color','marker-end','marker-mid','marker-start','overline-position','overline-thickness','paint-order','panose-1','pointer-events','rendering-intent','shape-rendering','stop-color','stop-opacity','strikethrough-position','strikethrough-thickness','stroke-dasharray','stroke-dashoffset','stroke-linecap','stroke-linejoin','stroke-miterlimit','stroke-opacity','stroke-width','text-anchor','text-decoration','text-rendering','underline-position','underline-thickness','unicode-bidi','unicode-range','units-per-em','v-alphabetic','v-hanging','v-ideographic','v-mathematical','vector-effect','vert-adv-y','vert-origin-x','vert-origin-y','word-spacing','writing-mode','x-height','xlink:actuate','xlink:arcrole','xlink:href','xlink:role','xlink:show','xlink:title','xlink:type','xml:base','xmlns:xlink','xml:lang','xml:space'].forEach(function(e){var t=e.replace(bo,d);M.Properties[t]=0,M.DOMAttributeNames[t]=e}),so.injectDOMPropertyConfig({Properties:{allowFullScreen:co,async:co,autoFocus:co,autoPlay:co,capture:mo,checked:lo|co,cols:po,contentEditable:fo,controls:co,default:co,defer:co,disabled:co,download:mo,draggable:fo,formNoValidate:co,hidden:co,loop:co,multiple:lo|co,muted:lo|co,noValidate:co,open:co,playsInline:co,readOnly:co,required:co,reversed:co,rows:po,rowSpan:uo,scoped:co,seamless:co,selected:lo|co,size:po,start:uo,span:po,spellCheck:fo,style:0,tabIndex:0,itemScope:co,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:fo},DOMAttributeNames:{acceptCharset:'accept-charset',className:'class',htmlFor:'for',httpEquiv:'http-equiv'},DOMMutationMethods:{value:function(e,t){return null==t?e.removeAttribute('value'):void('number'!==e.type||!1===e.hasAttribute('value')?e.setAttribute('value',''+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute('value',''+t))}}}),so.injectDOMPropertyConfig(M);var yo={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){'function'==typeof e.invokeGuardedCallback?void 0:o('197'),c=e.invokeGuardedCallback}},invokeGuardedCallback:function(){c.apply(yo,arguments)},invokeGuardedCallbackAndCatchFirstError:function(){if(yo.invokeGuardedCallback.apply(this,arguments),yo.hasCaughtError()){var e=yo.clearCaughtError();yo._hasRethrowError||(yo._hasRethrowError=!0,yo._rethrowError=e)}},rethrowCaughtError:function(){return a.apply(yo,arguments)},hasCaughtError:function(){return yo._hasCaughtError},clearCaughtError:function(){if(yo._hasCaughtError){var e=yo._caughtError;return yo._caughtError=null,yo._hasCaughtError=!1,e}o('198')}},P=null,_o={},ko=[],vo={},wo={},xo={},Co=Object.freeze({plugins:ko,eventNameDispatchConfigs:vo,registrationNameModules:wo,registrationNameDependencies:xo,possibleRegistrationNames:null,injectEventPluginOrder:m,injectEventPluginsByName:f}),To=null,So=null,Po=null,Eo=null,Ao={injectEventPluginOrder:m,injectEventPluginsByName:f},Oo=Object.freeze({injection:Ao,getListener:v,extractEvents:w,enqueueEvents:x,processEventQueue:E}),Io=Math.random().toString(36).slice(2),Ro='__reactInternalInstance$'+Io,Q='__reactEventHandlers$'+Io,Mo=Object.freeze({precacheFiberNode:function(e,t){t[Ro]=e},getClosestInstanceFromNode:A,getInstanceFromNode:function(e){return e=e[Ro],e&&(5===e.tag||6===e.tag)?e:null},getNodeFromInstance:O,getFiberCurrentPropsFromNode:I,updateFiberProps:function(e,t){e[Q]=t}}),Do=Object.freeze({accumulateTwoPhaseDispatches:q,accumulateTwoPhaseDispatchesSkipTarget:function(e){y(e,j)},accumulateEnterLeaveDispatches:$,accumulateDirectDispatches:function(e){y(e,H)}}),No=null,Vo={_root:null,_startText:null,_fallbackText:null},S=['dispatchConfig','_targetInst','nativeEvent','isDefaultPrevented','isPropagationStopped','_dispatchListeners','_dispatchInstances'],Fo={type:null,target:null,currentTarget:B.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};l(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():'unknown'!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=B.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():'unknown'!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=B.thatReturnsTrue)},persist:function(){this.isPersistent=B.thatReturnsTrue},isPersistent:B.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;for(e=0;e<S.length;e++)this[S[e]]=null}}),_e.Interface=Fo,_e.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var o=new n;l(o,e.prototype),e.prototype=o,e.prototype.constructor=e,e.Interface=l({},this.Interface,t),e.augmentClass=this.augmentClass,Oe(e)},Oe(_e),_e.augmentClass(Me,{data:null}),_e.augmentClass(Ne,{data:null});var Lo=[9,13,27,32],Bo=Zn.canUseDOM&&'CompositionEvent'in window,Uo=null;Zn.canUseDOM&&'documentMode'in document&&(Uo=document.documentMode);var jo;if(jo=Zn.canUseDOM&&'TextEvent'in window&&!Uo){var zo=window.opera;jo=!('object'==typeof zo&&'function'==typeof zo.version&&12>=parseInt(zo.version(),10))}var Ho=jo,Wo=Zn.canUseDOM&&(!Bo||Uo&&8<Uo&&11>=Uo),Yo=' ',qo={beforeInput:{phasedRegistrationNames:{bubbled:'onBeforeInput',captured:'onBeforeInputCapture'},dependencies:['topCompositionEnd','topKeyPress','topTextInput','topPaste']},compositionEnd:{phasedRegistrationNames:{bubbled:'onCompositionEnd',captured:'onCompositionEndCapture'},dependencies:['topBlur','topCompositionEnd','topKeyDown','topKeyPress','topKeyUp','topMouseDown']},compositionStart:{phasedRegistrationNames:{bubbled:'onCompositionStart',captured:'onCompositionStartCapture'},dependencies:['topBlur','topCompositionStart','topKeyDown','topKeyPress','topKeyUp','topMouseDown']},compositionUpdate:{phasedRegistrationNames:{bubbled:'onCompositionUpdate',captured:'onCompositionUpdateCapture'},dependencies:['topBlur','topCompositionUpdate','topKeyDown','topKeyPress','topKeyUp','topMouseDown']}},$o=!1,Ko=!1,Go=null,Qo=null,Jo=null,Zo={injectFiberControlledHostComponent:function(e){Go=e}},Xo=Object.freeze({injection:Zo,enqueueStateRestore:rt,restoreStateIfNeeded:it}),ea=!1,ta={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},na;Zn.canUseDOM&&(na=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature('',''));var oa={change:{phasedRegistrationNames:{bubbled:'onChange',captured:'onChangeCapture'},dependencies:['topBlur','topChange','topClick','topFocus','topInput','topKeyDown','topKeyUp','topSelectionChange']}},aa=null,ra=null,ia=!1;Zn.canUseDOM&&(ia=ut('input')&&(!document.documentMode||9<document.documentMode));var sa={eventTypes:oa,_isInputEventSupported:ia,extractEvents:function(t,n,o,a){var r=n?O(n):window,e=r.nodeName&&r.nodeName.toLowerCase();if('select'===e||'input'===e&&'file'===r.type)var i=_t;else if(!lt(r))e=r.nodeName,e&&'input'===e.toLowerCase()&&('checkbox'===r.type||'radio'===r.type)&&(i=Ct);else if(ia)i=Tt;else{i=xt;var s=wt}return i&&(i=i(t,n))?ht(i,o,a):void(s&&s(t,r,n),'topBlur'===t&&null!=n&&(t=n._wrapperState||r._wrapperState)&&t.controlled&&'number'===r.type&&(t=''+r.value,r.getAttribute('value')!==t&&r.setAttribute('value',t)))}};_e.augmentClass(St,{view:null,detail:null});var da={Alt:'altKey',Control:'ctrlKey',Meta:'metaKey',Shift:'shiftKey'};St.augmentClass(At,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Et,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var la={mouseEnter:{registrationName:'onMouseEnter',dependencies:['topMouseOut','topMouseOver']},mouseLeave:{registrationName:'onMouseLeave',dependencies:['topMouseOut','topMouseOver']}},ua=Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ca=[],pa=!0,ma=Object.freeze({get _enabled(){return pa},get _handleTopLevel(){return ba},setHandleTopLevel:function(e){ba=e},setEnabled:Lt,isEnabled:function(){return pa},trapBubbledEvent:Bt,trapCapturedEvent:Ut,dispatchEvent:jt}),fa={animationend:zt('Animation','AnimationEnd'),animationiteration:zt('Animation','AnimationIteration'),animationstart:zt('Animation','AnimationStart'),transitionend:zt('Transition','TransitionEnd')},ga={},ha={},ba;Zn.canUseDOM&&(ha=document.createElement('div').style,'AnimationEvent'in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),'TransitionEvent'in window||delete fa.transitionend.transition);var ya={topAbort:'abort',topAnimationEnd:Ht('animationend')||'animationend',topAnimationIteration:Ht('animationiteration')||'animationiteration',topAnimationStart:Ht('animationstart')||'animationstart',topBlur:'blur',topCancel:'cancel',topCanPlay:'canplay',topCanPlayThrough:'canplaythrough',topChange:'change',topClick:'click',topClose:'close',topCompositionEnd:'compositionend',topCompositionStart:'compositionstart',topCompositionUpdate:'compositionupdate',topContextMenu:'contextmenu',topCopy:'copy',topCut:'cut',topDoubleClick:'dblclick',topDrag:'drag',topDragEnd:'dragend',topDragEnter:'dragenter',topDragExit:'dragexit',topDragLeave:'dragleave',topDragOver:'dragover',topDragStart:'dragstart',topDrop:'drop',topDurationChange:'durationchange',topEmptied:'emptied',topEncrypted:'encrypted',topEnded:'ended',topError:'error',topFocus:'focus',topInput:'input',topKeyDown:'keydown',topKeyPress:'keypress',topKeyUp:'keyup',topLoadedData:'loadeddata',topLoad:'load',topLoadedMetadata:'loadedmetadata',topLoadStart:'loadstart',topMouseDown:'mousedown',topMouseMove:'mousemove',topMouseOut:'mouseout',topMouseOver:'mouseover',topMouseUp:'mouseup',topPaste:'paste',topPause:'pause',topPlay:'play',topPlaying:'playing',topProgress:'progress',topRateChange:'ratechange',topScroll:'scroll',topSeeked:'seeked',topSeeking:'seeking',topSelectionChange:'selectionchange',topStalled:'stalled',topSuspend:'suspend',topTextInput:'textInput',topTimeUpdate:'timeupdate',topToggle:'toggle',topTouchCancel:'touchcancel',topTouchEnd:'touchend',topTouchMove:'touchmove',topTouchStart:'touchstart',topTransitionEnd:Ht('transitionend')||'transitionend',topVolumeChange:'volumechange',topWaiting:'waiting',topWheel:'wheel'},_a={},ka=0,va='_reactListenersID'+(''+Math.random()).slice(2),wa=Zn.canUseDOM&&'documentMode'in document&&11>=document.documentMode,xa={select:{phasedRegistrationNames:{bubbled:'onSelect',captured:'onSelectCapture'},dependencies:['topBlur','topContextMenu','topFocus','topKeyDown','topKeyUp','topMouseDown','topMouseUp','topSelectionChange']}},Ia=null,Ma=null,Da=null,Na=!1;_e.augmentClass(Gt,{animationName:null,elapsedTime:null,pseudoElement:null}),_e.augmentClass(Qt,{clipboardData:function(e){return'clipboardData'in e?e.clipboardData:window.clipboardData}}),St.augmentClass(Jt,{relatedTarget:null});var Fa={Esc:'Escape',Spacebar:' ',Left:'ArrowLeft',Up:'ArrowUp',Right:'ArrowRight',Down:'ArrowDown',Del:'Delete',Win:'OS',Menu:'ContextMenu',Apps:'ContextMenu',Scroll:'ScrollLock',MozPrintableKey:'Unidentified'},La={8:'Backspace',9:'Tab',12:'Clear',13:'Enter',16:'Shift',17:'Control',18:'Alt',19:'Pause',20:'CapsLock',27:'Escape',32:' ',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'ArrowLeft',38:'ArrowUp',39:'ArrowRight',40:'ArrowDown',45:'Insert',46:'Delete',112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7',119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'NumLock',145:'ScrollLock',224:'Meta'};St.augmentClass(Xt,{key:function(e){if(e.key){var t=Fa[e.key]||e.key;if('Unidentified'!==t)return t}return'keypress'===e.type?(e=Zt(e),13===e?'Enter':Qn(e)):'keydown'===e.type||'keyup'===e.type?La[e.keyCode]||'Unidentified':''},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Et,charCode:function(e){return'keypress'===e.type?Zt(e):0},keyCode:function(e){return'keydown'===e.type||'keyup'===e.type?e.keyCode:0},which:function(e){return'keypress'===e.type?Zt(e):'keydown'===e.type||'keyup'===e.type?e.keyCode:0}}),At.augmentClass(en,{dataTransfer:null}),St.augmentClass(tn,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Et}),_e.augmentClass(ae,{propertyName:null,elapsedTime:null,pseudoElement:null}),At.augmentClass(be,{deltaX:function(e){return'deltaX'in e?e.deltaX:'wheelDeltaX'in e?-e.wheelDeltaX:0},deltaY:function(e){return'deltaY'in e?e.deltaY:'wheelDeltaY'in e?-e.wheelDeltaY:'wheelDelta'in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var ja={},Ha={};['abort','animationEnd','animationIteration','animationStart','blur','cancel','canPlay','canPlayThrough','click','close','contextMenu','copy','cut','doubleClick','drag','dragEnd','dragEnter','dragExit','dragLeave','dragOver','dragStart','drop','durationChange','emptied','encrypted','ended','error','focus','input','invalid','keyDown','keyPress','keyUp','load','loadedData','loadedMetadata','loadStart','mouseDown','mouseMove','mouseOut','mouseOver','mouseUp','paste','pause','play','playing','progress','rateChange','reset','scroll','seeked','seeking','stalled','submit','suspend','timeUpdate','toggle','touchCancel','touchEnd','touchMove','touchStart','transitionEnd','volumeChange','waiting','wheel'].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n='on'+t;t='top'+t,n={phasedRegistrationNames:{bubbled:n,captured:n+'Capture'},dependencies:[t]},ja[e]=n,Ha[t]=n});ba=function(e,t,n,o){e=w(e,t,n,o),x(e),E(!1)},Ao.injectEventPluginOrder(['ResponderEventPlugin','SimpleEventPlugin','TapEventPlugin','EnterLeaveEventPlugin','ChangeEventPlugin','SelectEventPlugin','BeforeInputEventPlugin']),To=Mo.getFiberCurrentPropsFromNode,So=Mo.getInstanceFromNode,Po=Mo.getNodeFromInstance,Ao.injectEventPluginsByName({SimpleEventPlugin:{eventTypes:ja,extractEvents:function(t,n,o,a){var r=Ha[t];if(!r)return null;switch(t){case'topKeyPress':if(0===Zt(o))return null;case'topKeyDown':case'topKeyUp':t=Xt;break;case'topBlur':case'topFocus':t=Jt;break;case'topClick':if(2===o.button)return null;case'topDoubleClick':case'topMouseDown':case'topMouseMove':case'topMouseUp':case'topMouseOut':case'topMouseOver':case'topContextMenu':t=At;break;case'topDrag':case'topDragEnd':case'topDragEnter':case'topDragExit':case'topDragLeave':case'topDragOver':case'topDragStart':case'topDrop':t=en;break;case'topTouchCancel':case'topTouchEnd':case'topTouchMove':case'topTouchStart':t=tn;break;case'topAnimationEnd':case'topAnimationIteration':case'topAnimationStart':t=Gt;break;case'topTransitionEnd':t=ae;break;case'topScroll':t=St;break;case'topWheel':t=be;break;case'topCopy':case'topCut':case'topPaste':t=Qt;break;default:t=_e;}return n=t.getPooled(r,n,o,a),q(n),n}},EnterLeaveEventPlugin:{eventTypes:la,extractEvents:function(t,n,o,a){if('topMouseOver'===t&&(o.relatedTarget||o.fromElement)||'topMouseOut'!==t&&'topMouseOver'!==t)return null;var r=a.window===a?a:(r=a.ownerDocument)?r.defaultView||r.parentWindow:window;if('topMouseOut'===t?(t=n,n=(n=o.relatedTarget||o.toElement)?A(n):null):t=null,t===n)return null;var e=null==t?r:O(t);r=null==n?r:O(n);var i=At.getPooled(la.mouseLeave,t,o,a);return i.type='mouseleave',i.target=e,i.relatedTarget=r,o=At.getPooled(la.mouseEnter,n,o,a),o.type='mouseenter',o.target=r,o.relatedTarget=e,$(i,o,t,n),[i,o]}},ChangeEventPlugin:sa,SelectEventPlugin:{eventTypes:xa,extractEvents:function(t,n,o,a){var r=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument,i;if(!(i=!r)){a:{r=Wt(r),i=xo.onSelect;for(var s=0,d;s<i.length;s++)if(d=i[s],!r.hasOwnProperty(d)||!r[d]){r=!1;break a}r=!0}i=!r}if(i)return null;switch(r=n?O(n):window,t){case'topFocus':(lt(r)||'true'===r.contentEditable)&&(Ia=r,Ma=n,Da=null);break;case'topBlur':Da=Ma=Ia=null;break;case'topMouseDown':Na=!0;break;case'topContextMenu':case'topMouseUp':return Na=!1,Kt(o,a);case'topSelectionChange':if(wa)break;case'topKeyDown':case'topKeyUp':return Kt(o,a);}return null}},BeforeInputEventPlugin:{eventTypes:qo,extractEvents:function(t,n,o,a){var r;if(Bo)b:{switch(t){case'topCompositionStart':var e=qo.compositionStart;break b;case'topCompositionEnd':e=qo.compositionEnd;break b;case'topCompositionUpdate':e=qo.compositionUpdate;break b;}e=void 0}else Ko?et(t,o)&&(e=qo.compositionEnd):'topKeyDown'===t&&229===o.keyCode&&(e=qo.compositionStart);return e?(Wo&&(Ko||e!==qo.compositionStart?e===qo.compositionEnd&&Ko&&(r=J()):(Vo._root=a,Vo._startText=fe(),Ko=!0)),e=Me.getPooled(e,n,o,a),r?e.data=r:(r=tt(o),null!==r&&(e.data=r)),q(e),r=e):r=null,(t=Ho?nt(t,o):ot(t,o))?(n=Ne.getPooled(qo.beforeInput,n,o,a),n.data=t,q(n)):n=null,[r,n]}}});var ee=[],ge=-1;new Set;var he={current:oo},ie={current:!1},X=oo,je=null,Wa=null,Ya='function'==typeof Symbol&&Symbol['for'],Qe=Ya?Symbol['for']('react.element'):60103,Re=Ya?Symbol['for']('react.call'):60104,Se=Ya?Symbol['for']('react.return'):60105,Te=Ya?Symbol['for']('react.portal'):60106,qa=Ya?Symbol['for']('react.fragment'):60107,Ve='function'==typeof Symbol&&Symbol.iterator,We=Array.isArray,Ye=$e(!0),$a=$e(!1),Ka={},Ga=Object.freeze({default:un}),Qa=Ga&&un||Ga,Ja=Qa['default']?Qa['default']:Qa,Za='object'==typeof performance&&'function'==typeof performance.now,Xa;Xa=Za?function(){return performance.now()}:function(){return Date.now()};var er,tr;if(!Zn.canUseDOM)er=function(e){return setTimeout(function(){e({timeRemaining:function(){return Infinity}})})},tr=function(e){clearTimeout(e)};else if('function'!=typeof requestIdleCallback||'function'!=typeof cancelIdleCallback){var nr=null,or=!1,ar=-1,rr=!1,ir=0,sr=33,dr=33,lr;lr=Za?{didTimeout:!1,timeRemaining:function(){var e=ir-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=ir-Date.now();return 0<e?e:0}};var cr='__reactIdleCallback$'+Math.random().toString(36).slice(2);window.addEventListener('message',function(e){if(e.source===window&&e.data===cr){if(or=!1,e=Xa(),!(0>=ir-e))lr.didTimeout=!1;else if(-1!=ar&&ar<=e)lr.didTimeout=!0;else return void(rr||(rr=!0,requestAnimationFrame(ur)));ar=-1,e=nr,nr=null,null!==e&&e(lr)}},!1);var ur=function(e){rr=!1;var t=e-ir+dr;t<dr&&sr<dr?(8>t&&(t=8),dr=t<sr?sr:t):sr=t,ir=e+dr,or||(or=!0,window.postMessage(cr,'*'))};er=function(e,t){return nr=e,null!=t&&'number'==typeof t.timeout&&(ar=Xa()+t.timeout),rr||(rr=!0,requestAnimationFrame(ur)),0},tr=function(){nr=null,or=!1,ar=-1}}else er=window.requestIdleCallback,tr=window.cancelIdleCallback;var pr=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mr={},fr={},gr={html:'http://www.w3.org/1999/xhtml',mathml:'http://www.w3.org/1998/Math/MathML',svg:'http://www.w3.org/2000/svg'},hr=function(t){return'undefined'!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(n,o,a,r){MSApp.execUnsafeLocalFunction(function(){return t(n,o,a,r)})}:t}(function(e,t){if(e.namespaceURI!==gr.svg||'innerHTML'in e)e.innerHTML=t;else{for(_r=_r||document.createElement('div'),_r.innerHTML='<svg>'+t+'</svg>',t=_r.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),br={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yr=['Webkit','ms','Moz','O'],_r;Object.keys(br).forEach(function(e){yr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),br[t]=br[e]})});var kr=l({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),vr=gr.html,wr=B.thatReturns(''),xr={topAbort:'abort',topCanPlay:'canplay',topCanPlayThrough:'canplaythrough',topDurationChange:'durationchange',topEmptied:'emptied',topEncrypted:'encrypted',topEnded:'ended',topError:'error',topLoadedData:'loadeddata',topLoadedMetadata:'loadedmetadata',topLoadStart:'loadstart',topPause:'pause',topPlay:'play',topPlaying:'playing',topProgress:'progress',topRateChange:'ratechange',topSeeked:'seeked',topSeeking:'seeking',topStalled:'stalled',topSuspend:'suspend',topTimeUpdate:'timeupdate',topVolumeChange:'volumechange',topWaiting:'waiting'},Cr=Object.freeze({createElement:Fn,createTextNode:Ln,setInitialProperties:Bn,diffProperties:Un,updateProperties:jn,diffHydratedProperties:zn,diffHydratedText:Hn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,n,a){switch(n){case'input':if(kn(t,a),n=a.name,'radio'===a.type&&null!=n){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name='+JSON.stringify(''+n)+'][type="radio"]'),n=0;n<a.length;n++){var r=a[n];if(r!==t&&r.form===t.form){var i=I(r);i?void 0:o('90'),gt(r),kn(r,i)}}}break;case'textarea':En(t,a);break;case'select':n=a.value,null!=n&&Cn(t,!!a.multiple,n,!1);}}});Zo.injectFiberControlledHostComponent(Cr);var Tr=null,Sr=null,Pr=Ja({getRootHostContext:function(e){var t=e.nodeType;return 9===t||11===t?e=(e=e.documentElement)?e.namespaceURI:In(null,''):(t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=In(e,t)),e},getChildHostContext:function(e,t){return In(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){Tr=pa;var t=Xn();if($t(t)){if('selectionStart'in t)var n={start:t.selectionStart,end:t.selectionEnd};else a:{var o=window.getSelection&&window.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break a}var e=0,s=-1,d=-1,l=0,c=0,p=t,m=null;b:for(;;){for(var f;;){if(p!==n||0!==r&&3!==p.nodeType||(s=e+r),p!==i||0!==o&&3!==p.nodeType||(d=e+o),3===p.nodeType&&(e+=p.nodeValue.length),null===(f=p.firstChild))break;m=p,p=f}for(;;){if(p===t)break b;if(m===n&&++l===r&&(s=e),m===i&&++c===o&&(d=e),null!==(f=p.nextSibling))break;p=m,m=p.parentNode}p=f}n=-1===s||-1===d?null:{start:s,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;Sr={focusedElem:t,selectionRange:n},Lt(!1)},resetAfterCommit:function(){var t=Sr,n=Xn(),o=t.focusedElem,r=t.selectionRange;if(n!==o&&to(document.documentElement,o)){if($t(o))if(n=r.start,t=r.end,void 0===t&&(t=n),'selectionStart'in o)o.selectionStart=n,o.selectionEnd=Gn(t,o.value.length);else if(window.getSelection){n=window.getSelection();var i=o[G()].length;t=Gn(r.start,i),r=void 0===r.end?t:Gn(r.end,i),!n.extend&&t>r&&(i=r,r=t,t=i),i=qt(o,t);var e=qt(o,r);if(i&&e&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==e.node||n.focusOffset!==e.offset)){var s=document.createRange();s.setStart(i.node,i.offset),n.removeAllRanges(),t>r?(n.addRange(s),n.extend(e.node,e.offset)):(s.setEnd(e.node,e.offset),n.addRange(s))}}for(n=[],t=o;t=t.parentNode;)1===t.nodeType&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(no(o),o=0;o<n.length;o++)t=n[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}Sr=null,Lt(Tr),Tr=null},createInstance:function(t,n,o,a,r){return t=Fn(t,n,o,a),t[Ro]=r,t[Q]=n,t},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,o){Bn(e,t,n,o);a:'button'===t||'input'===t||'select'===t||'textarea'===t?e=!!n.autoFocus:void 0,e=!1;return e},prepareUpdate:function(t,n,o,a,r){return Un(t,n,o,a,r)},shouldSetTextContent:function(e,t){return'textarea'===e||'string'==typeof t.children||'number'==typeof t.children||'object'==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&'string'==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,o){return e=Ln(e,t),e[Ro]=o,e},now:Xa,mutation:{commitMount:function(e){e.focus()},commitUpdate:function(t,n,o,a,r){t[Q]=r,jn(t,n,o,a,r)},resetTextContent:function(e){e.textContent=''},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return''===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(t,n,o,a,r,e){return t[Ro]=e,t[Q]=o,zn(t,n,o,r,a)},hydrateTextInstance:function(e,t,n){return e[Ro]=n,Hn(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:er,cancelDeferredCallback:tr,useSyncScheduling:!0});st=Pr.batchedUpdates,Kn.prototype.render=function(e,t){Pr.updateContainer(e,this._reactRootContainer,null,t)},Kn.prototype.unmount=function(e){Pr.updateContainer(null,this._reactRootContainer,null,e)};var Z={createPortal:$n,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return t?Pr.findHostInstance(t):void('function'==typeof e.render?o('188'):o('213',Object.keys(e)))},hydrate:function(e,t,n){return qn(null,e,t,!0,n)},render:function(e,t,n){return qn(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,a){return null==e||void 0===e._reactInternalFiber?o('38'):void 0,qn(e,t,n,!1,a)},unmountComponentAtNode:function(e){return Wn(e)?void 0:o('40'),!!e._reactRootContainer&&(Pr.unbatchedUpdates(function(){qn(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:$n,unstable_batchedUpdates:dt,unstable_deferredUpdates:Pr.deferredUpdates,flushSync:Pr.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Oo,EventPluginRegistry:Co,EventPropagators:Do,ReactControlledComponent:Xo,ReactDOMComponentTree:Mo,ReactDOMEventListener:ma}};Pr.injectIntoDevTools({findFiberByHostInstance:A,bundleType:0,version:'16.2.0',rendererPackageName:'react-dom'});var Er=Object.freeze({default:Z}),Ar=Er&&Z||Er;e.exports=Ar['default']?Ar['default']:Ar},function(e){'use strict';var t=!!('undefined'!=typeof window&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:'undefined'!=typeof Worker,canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},function(e,t,n){'use strict';var o=n(3);e.exports={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent('on'+t,n),{remove:function(){e.detachEvent('on'+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):(!1,{remove:o})},registerDefault:function(){}}},function(e){'use strict';e.exports=function(e){if(e=e||('undefined'==typeof document?void 0:document),'undefined'==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e){'use strict';function t(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}var n=Object.prototype.hasOwnProperty;e.exports=function(e,o){if(t(e,o))return!0;if('object'!=typeof e||null===e||'object'!=typeof o||null===o)return!1;var a=Object.keys(e),r=Object.keys(o);if(a.length!==r.length)return!1;for(var s=0;s<a.length;s++)if(!n.call(o,a[s])||!t(e[a[s]],o[a[s]]))return!1;return!0}},function(e,t,n){'use strict';function o(e,t){return!!(e&&t)&&(e===t||!a(e)&&(a(t)?o(e,t.parentNode):'contains'in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var a=n(23);e.exports=o},function(e,t,n){'use strict';var o=n(24);e.exports=function(e){return o(e)&&3==e.nodeType}},function(e){'use strict';e.exports=function(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!!(e&&('function'==typeof n.Node?e instanceof n.Node:'object'==typeof e&&'number'==typeof e.nodeType&&'string'==typeof e.nodeName))}},function(e){'use strict';e.exports=function(e){try{e.focus()}catch(t){}}},function(){},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),d=n(28),l=n(1),c=n(36),u=n(41),p=n.n(u),m=n(42),f=n.n(m),g=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),g(t,[{key:'render',value:function(){return s.a.createElement(l.a,{store:c.a},s.a.createElement(d.a,null))}}]),t}(i.Component);t.a=h},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),d=n(29),l=n(30),c=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),c(t,[{key:'render',value:function(){return s.a.createElement('div',null,s.a.createElement(d.a,null),s.a.createElement(l.a,null))}}]),t}(i.Component);t.a=u},function(e,t,n){'use strict';var o=n(0),a=n.n(o);t.a=function(){return a.a.createElement('header',{className:'header bg-color-primary'},a.a.createElement('div',{className:'row'},a.a.createElement('div',{className:'columns large-12'},a.a.createElement('h6',{className:'color-white'},'SCP demo (React + MobX version)'))))}},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),d=n(1),l=n(32),c=n(33),u=n(35),p=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),m=function(e){var t=e.patient,n=e.activePatientIndex;return s.a.createElement('div',{className:'_ck-editors'},t.map(function(e,t){return s.a.createElement(c.a,{patient:e,index:t,activePatientIndex:n,key:e.id})}))},f=(g=Object(d.b)('store'),g(h=Object(d.c)(h=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),p(t,[{key:'render',value:function(){var e=this.props.store.notewriterStore,t=e.patient,n=e.activePatientIndex;return s.a.createElement('section',{className:'notewriter'},s.a.createElement('div',{className:'row'},s.a.createElement('div',{className:'large-2 columns'},s.a.createElement(u.a,null),s.a.createElement(l.a,{patient:t,activePatientIndex:n})),s.a.createElement('div',{className:'large-8 columns'},s.a.createElement(m,{patient:t,activePatientIndex:n}),s.a.createElement('br',null),s.a.createElement('br',null),s.a.createElement('pre',null,s.a.createElement('code',null,JSON.stringify(t,null,2)))),s.a.createElement('div',{className:'large-2 columns'},s.a.createElement('p',null,'Other widgets'))))}}]),t}(i.Component))||h)||h),g,h;t.a=f},function(e){function t(){throw new Error('setTimeout has not been defined')}function n(){throw new Error('clearTimeout has not been defined')}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function r(){m&&g&&(m=!1,g.length?p=g.concat(p):f=-1,p.length&&s())}function s(){if(!m){var e=o(r);m=!0;for(var t=p.length;t;){for(g=p,p=[];++f<t;)g&&g[f].run();f=-1,t=p.length}g=null,m=!1,a(e)}}function d(e,t){this.fun=e,this.array=t}function i(){}var l=e.exports={},c,u;(function(){try{c='function'==typeof setTimeout?setTimeout:t}catch(n){c=t}try{u='function'==typeof clearTimeout?clearTimeout:n}catch(t){u=n}})();var p=[],m=!1,f=-1,g;l.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new d(e,t)),1!==p.length||m||o(s)},d.prototype.run=function(){this.fun.apply(null,this.array)},l.title='browser',l.browser=!0,l.env={},l.argv=[],l.version='',l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.prependListener=i,l.prependOnceListener=i,l.listeners=function(){return[]},l.binding=function(){throw new Error('process.binding is not supported')},l.cwd=function(){return'/'},l.chdir=function(){throw new Error('process.chdir is not supported')},l.umask=function(){return 0}},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),d=n(1),l=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=(u=Object(d.b)('store'),u(p=Object(d.c)(p=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.setActive=e.setActive.bind(e),e}return r(t,e),l(t,[{key:'setActive',value:function(t,e){t.preventDefault(),this.props.store.notewriterStore.setActivePatientIndex(e)}},{key:'render',value:function(){var t=this,e=this.props,n=e.patient,o=e.index,a=e.activePatientIndex;return s.a.createElement('a',{href:'',className:a===o?'avatar active':'avatar',onClick:function(n){return t.setActive(n,o)}},s.a.createElement('figure',{className:'avatar-fig rounded'},s.a.createElement('img',{src:'https://picsum.photos/40/40?image=500',alt:''})),s.a.createElement('span',{className:'avatar-label'},n.name),s.a.createElement('div',{className:'avatar-secondary-block'},n.createdAt))}}]),t}(i.Component))||p)||p),u,p;t.a=function(e){var t=e.patient,n=e.activePatientIndex;return s.a.createElement('div',{className:'notewriter-plist'},t.map(function(e,t){return s.a.createElement(c,{patient:e,key:e.id,index:t,activePatientIndex:n})}))}},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),d=n(1),l=n(34),c=n.n(l),u=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=(m=Object(d.b)('store'),m(f=Object(d.c)(f=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleChange=e.handleChange.bind(e),e.deletePatient=e.deletePatient.bind(e),e.state={editorInstance:null},e}return r(t,e),u(t,[{key:'handleChange',value:function(t,e){var n=this.props,o=n.patient,a=n.store,r=t.target.value;a.notewriterStore.update(o.id,e,r)}},{key:'deletePatient',value:function(){var e=this.props,t=e.index,n=e.store;n.notewriterStore.delete(t)}},{key:'render',value:function(){var t=this,e=this.props,n=e.patient,o=e.index,a=e.activePatientIndex;return s.a.createElement('div',{className:a===o?'active _ck-editor':'_ck-editor'},s.a.createElement('form',{action:'',className:'form-inline'},s.a.createElement('div',{className:'form-field'},s.a.createElement('input',{type:'text',name:'patient_name',className:'form-input',placeholder:'e.g Patient name',value:n.name,onChange:function(n){return t.handleChange(n,'name')}})),s.a.createElement('div',{className:'form-field'},s.a.createElement('input',{type:'text',name:'patient_time',className:'form-input',placeholder:'e.g Time',value:n.createdAt,onChange:function(n){return t.handleChange(n,'createdAt')}}))),s.a.createElement('div',{className:'form-field'},s.a.createElement('textarea',{ref:function(e){return t.node=e},name:'message',id:'message',className:'form-textarea',placeholder:'e.g Write notes here!',value:n.notes,onChange:function(n){return t.handleChange(n,'notes')}}),s.a.createElement('small',{className:'form-text'},'Lorem ipsum dolor sit amet, consectetur adipisicing elit.')),s.a.createElement('button',{className:'button',onClick:this.deletePatient},'Remove patient'))}},{key:'createEditor',value:function(e,t){var n=this;c.a.create(e).then(function(e){n.setState({editorInstance:e}),t()})}},{key:'componentDidMount',value:function(){var e=this,t=this.props,n=t.patient,o=t.store;this.createEditor(this.node,function(){e.state.editorInstance.model.document.on('change',function(){o.notewriterStore.update(n.id,'notes',e.state.editorInstance.getData())})})}}]),t}(i.Component))||f)||f),m,f;t.a=p},function(n,p){(function(o,e){n.exports=e()})('undefined'==typeof self?this:self,function(){return function(a){function r(t){if(e[t])return e[t].exports;var o=e[t]={i:t,l:!1,exports:{}};return a[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var e={};return r.m=a,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},r.n=function(t){var e=t&&t.__esModule?function(){return t['default']}:function(){return t};return r.d(e,'a',e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p='',r(r.s=6)}([function(y,e,t){function x(s,e){for(var t=0;t<s.length;t++){var o=s[t],l=p[o.id];if(l){l.refs++;for(var i=0;i<l.parts.length;i++)l.parts[i](o.parts[i]);for(;i<o.parts.length;i++)l.parts.push(d(o.parts[i],e))}else{for(var r=[],i=0;i<o.parts.length;i++)r.push(d(o.parts[i],e));p[o.id]={id:o.id,refs:1,parts:r}}}}function n(u,e){for(var t=[],o={},n=0;n<u.length;n++){var r=u[n],p=e.base?r[0]+e.base:r[0],m=r[1],f=r[2],g=r[3],h={css:m,media:f,sourceMap:g};o[p]?o[p].parts.push(h):t.push(o[p]={id:p,parts:[h]})}return t}function o(a,e){var t=f(a.insertInto);if(!t)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var r=b[b.length-1];if('top'===a.insertAt)r?r.nextSibling?t.insertBefore(e,r.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),b.push(e);else if('bottom'===a.insertAt)t.appendChild(e);else if('object'==typeof a.insertAt&&a.insertAt.before){var n=f(a.insertInto+' '+a.insertAt.before);t.insertBefore(e,n)}else throw new Error('[Style Loader]\n\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\n Must be \'top\', \'bottom\', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n')}function r(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var e=b.indexOf(n);0<=e&&b.splice(e,1)}function a(n){var e=document.createElement('style');return n.attrs.type='text/css',i(e,n.attrs),o(n,e),e}function s(n){var e=document.createElement('link');return n.attrs.type='text/css',n.attrs.rel='stylesheet',i(e,n.attrs),o(n,e),e}function i(n,e){Object.keys(e).forEach(function(t){n.setAttribute(t,e[t])})}function d(p,e){var t,o,n,i;if(e.transform&&p.css)if(i=e.transform(p.css),i)p.css=i;else return function(){};if(e.singleton){var m=h++;t=g||(g=a(e)),o=l.bind(null,t,m,!1),n=l.bind(null,t,m,!0)}else p.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(t=s(e),o=u.bind(null,t,e),n=function(){r(t),t.href&&URL.revokeObjectURL(t.href)}):(t=a(e),o=c.bind(null,t),n=function(){r(t)});return o(p),function(e){if(e){if(e.css===p.css&&e.media===p.media&&e.sourceMap===p.sourceMap)return;o(p=e)}else n()}}function l(s,e,t,o){var n=t?'':o.css;if(s.styleSheet)s.styleSheet.cssText=k(e,n);else{var i=document.createTextNode(n),r=s.childNodes;r[e]&&s.removeChild(r[e]),r.length?s.insertBefore(i,r[e]):s.appendChild(i)}}function c(a,e){var t=e.css,o=e.media;if(o&&a.setAttribute('media',o),a.styleSheet)a.styleSheet.cssText=t;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(t))}}function u(d,e,t){var o=t.css,n=t.sourceMap,i=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||i)&&(o=_(o)),n&&(o+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+' */');var r=new Blob([o],{type:'text/css'}),a=d.href;d.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}var p={},m=function(n){var e;return function(){return'undefined'==typeof e&&(e=n.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),f=function(a){var e={};return function(t){if('undefined'==typeof e[t]){var o=a.call(this,t);if(o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(function(t){return document.querySelector(t)}),g=null,h=0,b=[],_=t(13);y.exports=function(a,r){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');r=r||{},r.attrs='object'==typeof r.attrs?r.attrs:{},r.singleton||'boolean'==typeof r.singleton||(r.singleton=m()),r.insertInto||(r.insertInto='head'),r.insertAt||(r.insertAt='bottom');var e=n(a,r);return x(e,r),function(t){for(var o=[],i=0;i<e.length;i++){var a=e[i],s=p[a.id];s.refs--,o.push(s)}if(t){var l=n(t,r);x(l,r)}for(var i=0,s;i<o.length;i++)if(s=o[i],0===s.refs){for(var d=0;d<s.parts.length;d++)s.parts[d]();delete p[s.id]}}};var k=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join('\n')}}()},function(n,f,t){'use strict';(function(o,g){var h=t(8),i={function:!0,object:!0},r=i[typeof p]&&p&&!p.nodeType?p:void 0,a=i[typeof o]&&o&&!o.nodeType?o:void 0,s=Object(h.a)(r&&a&&'object'==typeof g&&g),l=Object(h.a)(i[typeof self]&&self),d=Object(h.a)(i[typeof window]&&window),c=Object(h.a)(i[typeof this]&&this),m=s||d!==(c&&c.window)&&d||l||c||Function('return this')();f.a=m}).call(f,t(2)(n),t(7))},function(t){t.exports=function(n){if(!n.webpackPolyfill){var e=Object.create(n);e.children||(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,'exports',{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.688 14.44l-4.196-4.195a.758.758 0 0 0-1.066-.006.742.742 0 0 0-.006 1.054l5.268 5.269L18.074 5.176a.742.742 0 0 0-.006-1.055.758.758 0 0 0-1.067.006L6.688 14.44z" fill="#000" fill-rule="nonzero"/></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.06 10l4.597 4.596a.75.75 0 1 1-1.06 1.06L10 11.062l-4.596 4.596a.75.75 0 1 1-1.06-1.06L8.938 10 4.343 5.404a.75.75 0 1 1 1.06-1.06L10 8.938l4.596-4.596a.75.75 0 0 1 1.06 1.06L11.062 10z" fill="#000" fill-rule="evenodd"/></svg>'},function(a,e,t){var o=t(61);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(jt,e,t){'use strict';function o(n){const e=n.match(/^([^:]+):/);return e?n+` Read more: ${$a}#error-${e[1]}\n`:n}function ey(){let n='e';for(let e=0;8>e;e++)n+=Na(65536*(1+Math.random())).toString(16).substring(1);return n}function n(n,e){return n[Xa]&&n[Xa][e]?n[Xa][e].emitter:null}function ty(n,e){n[Za]||(n[Za]=e||ey())}function ny(t){return t[Za]}function a(t){return t._events||Object.defineProperty(t,'_events',{value:{}}),t._events}function s(){return{callbacks:[],childEvents:[]}}function oy(d,e){const t=a(d);if(t[e])return;let o=e,n=null;const i=[];for(;''!==o&&!t[o];)t[o]=s(),i.push(t[o]),n&&t[o].childEvents.push(n),n=o,o=o.substr(0,o.lastIndexOf(':'));if(''!==o){for(const n of i)n.callbacks=t[o].callbacks.slice();t[o].childEvents.push(n)}}function c(i,e){const s=a(i)[e];if(!s)return[];let d=[s.callbacks];for(let n=0;n<s.childEvents.length;n++){const e=c(i,s.childEvents[n]);d=d.concat(e)}return d}function i(n,e){let t;return n._events&&(t=n._events[e])&&t.callbacks.length?t.callbacks:-1<e.indexOf(':')?i(n,e.substr(0,e.lastIndexOf(':'))):null}function r(a,r,t){for(let[o,n]of a){n?'function'==typeof n&&(n=n(r.name)):n=r.name;const a=new Qa(r.source,n);a.path=[...r.path],o.fire(a,...t)}}function d(a,e,t){const o=c(a,e);for(const n of o)for(let o=0;o<n.length;o++)n[o].callback==t&&(n.splice(o,1),o--)}function l(a,...e){e.forEach((e)=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach((t)=>{if(!(t in a.prototype)){const o=Object.getOwnPropertyDescriptor(e,t);o.enumerable=!1,Object.defineProperty(a.prototype,t,o)}})})}function u(a){var e=-1,t=a?a.length:0;for(this.clear();++e<t;){var o=a[e];this.set(o[0],o[1])}}function p(a){var e=-1,t=a?a.length:0;for(this.clear();++e<t;){var o=a[e];this.set(o[0],o[1])}}function m(a){var e=-1,t=a?a.length:0;for(this.clear();++e<t;){var o=a[e];this.set(o[0],o[1])}}function f(t){this.__data__=new as(t)}function g(a,e,t){var o=a[e];Ms.call(a,e)&&os(o,t)&&(void 0!==t||e in a)||(a[e]=t)}function h(n,o){return js.call(n,o)||'object'==typeof n&&o in n&&null===Ma(n)}function b(t){return hl(Object(t))}function y(t){return Dl.call(t)}function _(p,e,f,o,n,i,g){var a;if(o&&(a=i?o(p,n,i,g):o(p)),void 0!==a)return a;if(!ss(p))return p;var s=nl(p);if(!s){var h=ql(p),d=h==bd||h==_d;if(Object(fd.a)(p))return gl(p,e);if(h==kd||h==hd||d&&!i){if(Ba(p))return i?p:{};if(a=gd(d?{}:p),!e)return _l(p,pl(a,p))}else{if(!wd[h])return i?p:{};a=md(p,h,_,e)}}else if(a=Ul(p),!e)return fl(p,a);g||(g=new Fs);var c=g.get(p);if(c)return c;if(g.set(p,a),!s)var m=f?vl(p):ul(p);return Ns(m||p,function(t,n){m&&(n=t,t=p[n]),Bs(a,n,_(t,e,f,o,n,p,g))}),a}function k(n){const e=new Map;for(const t in n)e.set(t,n[t]);return e}function v(t){return!!(t&&t[Symbol.iterator])}function w(n,e){if('function'==typeof e)return e(n);const a={};return e.name&&(a.name=x(e.name,n.name),!a.name)?null:e.attribute&&(a.attribute=C(e.attribute,n),!a.attribute)?null:!(e.class&&(a.class=T(e.class,n),!a.class))&&!(e.style&&(a.style=S(e.style,n),!a.style))&&a}function x(n,e){return n instanceof RegExp?n.test(e):n===e}function C(a,r){const t=[];for(const o in a){const n=a[o];if(r.hasAttribute(o)){const a=r.getAttribute(o);if(!0===n)t.push(o);else if(n instanceof RegExp){if(n.test(a))t.push(o);else return null;}else if(a===n)t.push(o);else return null}else return null}return t}function T(a,r){const i=[];for(const o of a)if(o instanceof RegExp){const n=r.getClassNames();for(const e of n)o.test(e)&&i.push(e);if(0===i.length)return null}else if(r.hasClass(o))i.push(o);else return null;return i}function S(a,r){const t=[];for(const o in a){const n=a[o];if(r.hasStyle(o)){const a=r.getStyle(o);if(n instanceof RegExp){if(n.test(a))t.push(o);else return null;}else if(a===n)t.push(o);else return null}else return null}return t}function P(n){n=Ua(n)?k(n):new Map(n);for(const[e,t]of n)null===t?n.delete(e):'string'!=typeof t&&n.set(e,t+'');return n}function E(d,e){let t=null,o=0,n=0,r=null;if(d.clear(),''!==e){';'!=e.charAt(e.length-1)&&(e+=';');for(let a=0;a<e.length;a++){const s=e.charAt(a);if(null===t)switch(s){case':':r||(r=e.substr(o,a-o),n=a+1);break;case'"':case'\'':t=s;break;case';':const i=e.substr(n,a-n);r&&d.set(r.trim(),i.trim()),r=null,o=a+1;}else s===t&&(t=null)}}}function A(n,e){const t=e.split(/\s+/);n.clear(),t.forEach((e)=>n.add(e))}function O(t){return'string'==typeof t?[new Cd(t)]:(v(t)||(t=[t]),Array.from(t).map((t)=>'string'==typeof t?new Cd(t):t instanceof Ad?new Cd(t.data):t))}function I(){for(const t of this.getChildren())if(!t.is('uiElement'))return null;return this.childCount}function R(a,e,r){if(!ss(r))return!1;var o=typeof e;return('number'==o?!!(Js(r)&&dl(e,r.length)):!!('string'==o&&e in r))&&os(r[e],a)}function M(n){n=null==n?n:Object(n);var e=[];for(var t in n)e.push(t);return e}function D(t){sc in t||(Object.defineProperty(t,sc,{value:new Map}),Object.defineProperty(t,lc,{value:new Map}),Object.defineProperty(t,dc,{value:new Map}))}function N(...a){const e=B(...a),t=Array.from(this._bindings.keys()),o=t.length;if(!e.callback&&1<e.to.length)throw new Ga('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<o&&e.callback)throw new Ga('observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.');e.to.forEach((t)=>{if(t.properties.length&&t.properties.length!==o)throw new Ga('observable-bind-to-properties-length: The number of properties must match.');t.properties.length||(t.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),q(this._observable,this._to),U(this),this._bindProperties.forEach((t)=>{W(this._observable,t)})}function V(n,e,t){if(1<this._bindings.size)throw new Ga('observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().');this.to(...F(n,e),t)}function F(n,a){const e=n.map((t)=>[t,a]);return Array.prototype.concat.apply([],e)}function L(t){return t.every((t)=>'string'==typeof t)}function B(...n){if(!n.length)throw new Ga('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');const a={to:[]};let t;return'function'==typeof n[n.length-1]&&(a.callback=n.pop()),n.forEach((n)=>{if('string'==typeof n)t.properties.push(n);else if('object'==typeof n)t={observable:n,properties:[]},a.to.push(t);else throw new Ga('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),a}function H(s,e,t,o){const n=s[lc],i=n.get(t),r=i||{};r[o]||(r[o]=new Set),r[o].add(e),i||n.set(t,r)}function U(a){let e;a._bindings.forEach((t,o)=>{a._to.forEach((n)=>{e=n.properties[t.callback?0:a._bindProperties.indexOf(o)],t.to.push([n.observable,e]),H(a._observable,t,n.observable,e)})})}function W(a,e){const t=a[dc],o=t.get(e);let n;o.callback?n=o.callback.apply(a,o.to.map((t)=>t[0][t[1]])):(n=o.to[0],n=n[0][n[1]]),a.hasOwnProperty(e)?a[e]=n:a.set(e,n)}function q(a,e){e.forEach((e)=>{const t=a[lc];let o;t.get(e.observable)||a.listenTo(e.observable,'change',(n,i)=>{o=t.get(e.observable)[i],o&&o.forEach((e)=>{W(a,e.property)})})})}function $(a,e){const t=Ia(a.length,e.length);for(let o=0;o<t;o++)if(a[o]!=e[o])return o;return a.length==e.length?'same':a.length<e.length?'prefix':'extension'}function K(t){return!!(t.item.is('attributeElement')||t.item.is('uiElement'))}function G(n){let e=0;for(const t of n)e++;return e}function Y(){if(Q(this))return null;let t=this.parent;for(;t&&t.is('attributeElement');){if(1<Q(t))return null;t=t.parent}return!t||1<Q(t)?null:this.childCount}function Q(t){return Array.from(t.getChildren()).filter((t)=>!t.is('uiElement')).length}function J(){return null}function Z(n){let o;if('string'!=typeof n)o=n.keyCode+(n.altKey?Oc.alt:0)+(n.ctrlKey?Oc.ctrl:0)+(n.shiftKey?Oc.shift:0);else if(o=Oc[n.toLowerCase()],!o)throw new Ga('keyboard-unknown-key: Unknown key name.',{key:n});return o}function X(t){return'string'==typeof t&&(t=te(t)),t.map((t)=>'string'==typeof t?Z(t):t).reduce((n,e)=>e+n,0)}function ee(t){return Pc.isMac?te(t).map((t)=>Sc[t.toLowerCase()]||t).reduce((n,e)=>n.slice(-1)in Ec?n+e:n+'+'+e):t}function te(t){return t.split(/\s*\+\s*/)}function ne(n){n.document.on('keydown',(e,t)=>ae(e,t,n.domConverter))}function oe(){return null}function ae(n,a,d){if(a.keyCode==Oc.arrowright){const o=a.domTarget.ownerDocument.defaultView.getSelection(),e=1==o.rangeCount&&o.getRangeAt(0).collapsed;if(e||a.shiftKey){const n=o.focusNode,t=o.focusOffset,i=d.domPositionToView(n,t);if(null===i)return;let r=!1;const a=i.getLastMatchingPosition((t)=>(t.item.is('uiElement')&&(r=!0),!!(t.item.is('uiElement')||t.item.is('attributeElement'))));if(r){const n=d.viewPositionToDom(a);e?o.collapse(n.parent,n.offset):o.extend(n.parent,n.offset)}}}}function re(t){return'string'==typeof t?[new Cd(t)]:(v(t)||(t=[t]),Array.from(t).map((t)=>'string'==typeof t?new Cd(t):t instanceof Ad?new Cd(t.data):t))}function ie(t){return Array.from(t.getChildren()).some((t)=>!t.is('uiElement'))}function se(n){let e=n.parent;for(;!he(e);){if(!e)return;e=e.parent}return e}function de(s,e=!1){const t=s.start,o=s.end;if(be(s),s.isCollapsed){const t=le(s.start,e);return new _c(t,t)}const n=le(o,e),i=n.parent.childCount,r=le(t,e);return n.offset+=n.parent.childCount-i,new _c(r,n)}function le(a,d=!1){const l=a.offset,o=a.parent;if(a.parent.is('emptyElement'))throw new Ga('view-writer-cannot-break-empty-element');if(a.parent.is('uiElement'))throw new Ga('view-writer-cannot-break-ui-element');if(!d&&o.is('text')&&he(o.parent))return bc.createFromPosition(a);if(he(o))return bc.createFromPosition(a);if(o.is('text'))return le(pe(a),d);const e=o.childCount;if(l==e){const t=new bc(o.parent,o.index+1);return le(t,d)}if(0===l){const t=new bc(o.parent,o.index);return le(t,d)}else{const t=o.index+1,e=o._clone();o.parent._insertChildren(t,e);const n=o.childCount-l,r=o._removeChildren(l,n);e._appendChildren(r);const a=new bc(o.parent,t);return le(a,d)}}function ce(n,e){return!!(n.priority<e.priority)||!(n.priority>e.priority)&&n.getIdentity()<e.getIdentity()}function ue(n){const e=n.nodeBefore;if(e&&e.is('text'))return new bc(e,e.data.length);const t=n.nodeAfter;return t&&t.is('text')?new bc(t,0):n}function pe(n){if(n.offset==n.parent.data.length)return new bc(n.parent.parent,n.parent.index+1);if(0===n.offset)return new bc(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChildren(n.parent.index+1,new Cd(e)),new bc(n.parent.parent,n.parent.index+1)}function me(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new bc(n,t)}function fe(t){return t.start.parent==t.end.parent&&t.start.parent.is('attributeElement')&&0===t.start.offset&&t.end.offset===t.start.parent.childCount}function ge(n){for(const o of n){if(!Fc.some((t)=>o instanceof t))throw new Ga('view-writer-insert-invalid-node');o.is('text')||ge(o.getChildren())}}function he(t){return t&&(t.is('containerElement')||t.is('documentFragment'))}function be(n){const e=se(n.start),a=se(n.end);if(!e||!a||e!==a)throw new Ga('view-writer-invalid-range-container')}function _e(t){return t instanceof Text&&t.data.substr(0,sy)===dy}function ke(t){return t.data.length==sy&&_e(t)}function ye(t){return _e(t)?t.data.slice(sy):t.data}function ve(n,e){let t=Lc.get(e);return t||(t=e(window.document),Lc.set(e,t)),n.isEqualNode(t)}function we(t){t.document.on('keydown',xe)}function xe(n,o){if(o.keyCode==Oc.arrowleft){const n=o.domTarget.ownerDocument.defaultView.getSelection();if(1==n.rangeCount&&n.getRangeAt(0).collapsed){const e=n.getRangeAt(0).startContainer,t=n.getRangeAt(0).startOffset;_e(e)&&t<=sy&&n.collapse(e,0)}}}function Ce(f,e,t){function o(o){const n=(void 0===d[o-1]?-1:d[o-1])+1,s=void 0===d[o+1]?-1:d[o+1],c=n>s?-1:1;l[o+c]&&(l[o]=l[o+c].slice(0)),l[o]||(l[o]=[]),l[o].push(n>s?h:r);let u=Fa(n,s),p=u-o;for(;p<a&&u<i&&t(f[p],e[u]);)p++,u++,l[o].push('equal');return u}t=t||function(n,e){return n===e};let h,r;if(e.length<f.length){const t=f;f=e,e=t,h='delete',r='insert'}else h='insert',r='delete';const a=f.length,i=e.length,s=i-a,l={},d={};let n=0,c;do{for(c=-n;c<s;c++)d[c]=o(c);for(c=s+n;c>s;c--)d[c]=o(c);d[s]=o(s),n++}while(d[s]!==i);return l[s].slice(1)}function Te(n,e,t){n.insertBefore(t,n.childNodes[e]||null)}function Pe(n){const e=n.parentNode;e&&e.removeChild(n)}function Se(t){return'[object Text]'==Object.prototype.toString.call(t)}function Ee(n){if('false'==n.getAttribute('contenteditable'))return!1;const e=n.findAncestor((t)=>t.hasAttribute('contenteditable'));return!e||'true'==e.getAttribute('contenteditable')}function Ae(n){let e=0;for(;n.previousSibling;)n=n.previousSibling,e++;return e}function Oe(n){const e=[];for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)e.unshift(n),n=n.parentNode;return e}function Ie(a,e){const t=Oe(a),o=Oe(e);let n=0;for(;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}function Re(a,r,e){let t=Oe(a);return e&&(t=t.slice(t.indexOf(e)+1)),t.some((t)=>t.tagName&&r.includes(t.tagName.toLowerCase()))}function Ne(n,e){for(;n&&n!=jc.document;)e(n),n=n.parentNode}function De(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}function Me(t){return'[object Window]'==Object.prototype.toString.apply(t)}function Ve(t){return t['data-ck-expando']||(t['data-ck-expando']=ey())}function Fe(n){var e=-1,t=n?n.length:0;for(this.__data__=new Is;++e<t;)this.add(n[e])}function Le(y,e,t,o,n,i){var r=n&Zc,v=ul(y),s=v.length,l=ul(e),d=l.length;if(s!=d&&!r)return!1;for(var c=s,m;c--;)if(m=v[c],r?!(m in e):!qs(e,m))return!1;var u=i.get(y);if(u)return u==e;var p=!0;i.set(y,e);for(var g=r;++c<s;){m=v[c];var x=y[m],h=e[m];if(o)var b=r?o(h,x,m,e,y,i):o(x,h,m,y,e,i);if(void 0===b?!(x===h||t(x,h,o,n,i)):!b){p=!1;break}g||(g='constructor'==m)}if(p&&!g){var C=y.constructor,T=e.constructor;C!=T&&'constructor'in y&&'constructor'in e&&!('function'==typeof C&&C instanceof C&&'function'==typeof T&&T instanceof T)&&(p=!1)}return i['delete'](y),p}function Be(a,e,t,o,n){return a===e||(null!=a&&null!=e&&(ss(a)||La(e))?dm(a,e,Be,t,o,n):a!==a&&e!==e)}function je(y,x,t){function o(e){var t=h,o=b;return h=b=void 0,C=e,k=y.apply(o,t),k}function n(t){return C=t,w=setTimeout(a,x),p?o(t):k}function i(t){var e=t-m,o=t-C,n=x-e;return g?wm(n,_-o):n}function r(t){var e=t-m,o=t-C;return!m||e>=x||0>e||g&&o>=_}function a(){var t=bm();return r(t)?s(t):void(w=setTimeout(a,i(t)))}function s(t){return(clearTimeout(w),w=void 0,f&&h)?o(t):(h=b=void 0,k)}function l(){void 0!==w&&clearTimeout(w),m=C=0,h=b=w=void 0}function d(){return void 0===w?k:s(bm())}function c(){var t=bm(),e=r(t);if(h=arguments,b=this,m=t,e){if(void 0===w)return n(m);if(g)return clearTimeout(w),w=setTimeout(a,x),o(m)}return void 0===w&&(w=setTimeout(a,x)),k}var m=0,C=0,p=!1,g=!1,f=!0,h,b,_,k,w;if('function'!=typeof y)throw new TypeError(_m);return x=zd(x)||0,ss(t)&&(p=!!t.leading,g='maxWait'in t,_=g?km(zd(t.maxWait)||0,x):_,f='trailing'in t?!!t.trailing:f),c.cancel=l,c.flush=d,c}function ze(t){return t==Oc.arrowright||t==Oc.arrowleft||t==Oc.arrowup||t==Oc.arrowdown}function He(t){return'[object Range]'==Object.prototype.toString.apply(t)}function Ue(n){const e=n.ownerDocument.defaultView.getComputedStyle(n);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function We(n,e){for(const t of Om)n[t]=e[t]}function qe(t){return!!Em(t)&&t===t.ownerDocument.body}function $e({target:s,viewportOffset:e=0}){const t=et(s);for(let o=t,n=null;o;){let i;i=o==t?tt(s):tt(n),Ge(i,()=>nt(s,o));const r=nt(s,o);Ke(o,r,e),o.parent==o?o=null:(n=o.frameElement,o=o.parent)}}function Ke(d,e,t){const l=e.clone().moveBy(0,t),n=e.clone().moveBy(0,-t),i=new Sm(d).excludeScrollbarsAndBorders();if(![n,l].every((t)=>i.contains(t))){let{scrollX:o,scrollY:a}=d;Qe(n,i)?a-=i.top-e.top+t:Ye(l,i)&&(a+=e.bottom-i.bottom+t),Ze(e,i)?o-=i.left-e.left+t:Xe(e,i)&&(o+=e.right-i.right+t),d.scrollTo(o,a)}}function Ge(a,e){const t=et(a);for(let o,n;a!=t.document.body;)n=e(),o=new Sm(a).excludeScrollbarsAndBorders(),o.contains(n)||(Qe(n,o)?a.scrollTop-=o.top-n.top:Ye(n,o)&&(a.scrollTop+=n.bottom-o.bottom),Ze(n,o)?a.scrollLeft-=o.left-n.left:Xe(n,o)&&(a.scrollLeft+=n.right-o.right)),a=a.parentNode}function Ye(n,e){return n.bottom>e.bottom}function Qe(n,e){return n.top<e.top}function Ze(n,e){return n.left<e.left}function Xe(n,e){return n.right>e.right}function et(t){return He(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function tt(n){if(He(n)){let e=n.commonAncestorContainer;return Se(e)&&(e=e.parentNode),e}return n.parentNode}function nt(a,e){const t=et(a),o=new Sm(a);if(t===e)return o;for(let n=t;n!=e;){const a=n.frameElement,e=new Sm(a).excludeScrollbarsAndBorders();o.moveBy(e.left,e.top),n=n.parent}return o}function rt(t){return Ua(t)?k(t):new Map(t)}function at(t){return'string'==typeof t?[new Im(t)]:(v(t)||(t=[t]),Array.from(t).map((t)=>'string'==typeof t?new Im(t):t instanceof Fm?new Im(t.data,t.getAttributes()):t))}function it(a,r,s,d,l){return{done:!1,value:{type:a,item:r,previousPosition:s,nextPosition:d,length:l}}}function st(n){const e=n.split(':');return 1<e.length?e[0]+':'+e[1]:e[0]}function dt(a,e,s){const t=e.getRange(),n=Array.from(a.getAncestors());n.shift(),n.reverse();const o=n.some((n)=>{if(t.containsItem(n)){const e=s.toViewElement(n);return!!e.getCustomProperty('addHighlight')}});return!o}function lt(n,e){return!e.has(n)&&(e.add(n),n.document.model.schema.isBlock(n)&&n.parent)}function ct(a,r){const e=a.parent.getAncestors({parentFirst:!0,includeSelf:!0}),t=e.find((t)=>lt(t,r));return e.forEach((t)=>r.add(t)),t}function ut(){const a=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document.model,'applyOperation',(e,t)=>{const o=t[0];!o.isDocumentOperation||a.has(o.type)&&pt.call(this,o)},{priority:'low'})}function pt(u){const p=u.type,f=u.delta.batch;let g,h;'insert'==p?g=zm.createFromPositionAndShift(u.position,u.nodes.maxOffset):(g=zm.createFromPositionAndShift(u.getMovedRangeStart(),u.howMany),h=u.sourcePosition);const e=g.end.offset-g.start.offset;let r=g.start;('move'==p||'remove'==p||'reinsert'==p)&&(r=r._getTransformedByInsertion(h,e));const a=this._getTransformedByDocumentChange(p,u.delta.type,r,e,h);('move'==p||'remove'==p||'reinsert'==p)&&3==a.length&&(a[2]=g);const s=zm.createFromRanges(a),l=!s.isEqual(this),d=this.containsPosition(r),c=h&&(this.containsPosition(h)||this.start.isEqual(h));if(l){const a=zm.createFromRange(this);this.start=s.start,this.end=s.end,this.fire('change:range',a,{type:p,batch:f,range:g,sourcePosition:h})}else(d||c)&&this.fire('change:content',zm.createFromRange(this),{type:p,batch:f,range:g,sourcePosition:h})}function mt(t){return t instanceof Fm||t instanceof Im?t.getAttributes():null}function ft(a,e){const t=a.document.differ;for(const r of t.getChanges()){if('insert'!=r.type)continue;const s=r.position.parent,t=r.length===s.maxOffset;t&&a.enqueueChange(e,(o)=>{const e=Array.from(s.getAttributeKeys()).filter((t)=>t.startsWith(Km));for(const t of e)o.removeAttribute(t,s)})}}function gt(n){return n=Jm(n),n.view=kt(n.view,'container'),(e)=>{e.on('insert:'+n.model,xt(n.view),{priority:n.priority||'normal'})}}function ht(a){a=Jm(a);const e=a.model.key?a.model.key:a.model;if(a.model.values)for(const e of a.model.values)a.view[e]=kt(a.view[e],'attribute');else a.view=kt(a.view,'attribute');const t=yt(a);return(o)=>{o.on('attribute:'+e,Et(t),{priority:a.priority||'normal'})}}function bt(a){a=Jm(a);const e=a.model.key?a.model.key:a.model;let r='attribute:'+e;if(a.model.name&&(r+=':'+a.model.name),a.model.values)for(const e of a.model.values)a.view[e]=wt(a.view[e]);else a.view=wt(a.view);const o=yt(a);return(e)=>{e.on(r,Pt(o),{priority:a.priority||'normal'})}}function _t(n){return(e)=>{e.on('addMarker:'+n.model,St(n.view),{priority:n.priority||'normal'}),e.on('addMarker:'+n.model,At(n.view),{priority:n.priority||'normal'}),e.on('removeMarker:'+n.model,Ot(n.view),{priority:n.priority||'normal'})}}function kt(a,r){return'function'==typeof a?a:(e,t)=>vt(a,t,r)}function vt(a,r,t){'string'==typeof a&&(a={name:a});let s;if(s='container'==t?r.createContainerElement(a.name,Object.assign({},a.attribute)):'attribute'==t?r.createAttributeElement(a.name,Object.assign({},a.attribute)):r.createUIElement(a.name,Object.assign({},a.attribute)),a.style){const e=Object.keys(a.style);for(const t of e)r.setStyle(t,a.style[t],s)}if(a.class){const t=a.class;if('string'==typeof t)r.addClass(t,s);else for(const n of t)r.addClass(n,s)}return s}function yt(a){return a.model.values?(e,t)=>{const o=a.view[e];return o?o(e,t):null}:a.view}function wt(n){return'string'==typeof n?(o)=>({key:n,value:o}):'object'==typeof n?()=>n:n}function xt(a){return(e,t,o)=>{const n=a(t.item,o.writer);if(n&&o.consumable.consume(t.item,'insert')){const a=o.mapper.toViewPosition(t.range.start);o.mapper.bindElements(t.item,n),o.writer.insert(a,n)}}}function Ct(){return(n,a,t)=>{if(t.consumable.consume(a.item,'insert')){const o=t.writer,e=t.mapper.toViewPosition(a.range.start),n=o.createText(a.item.data);o.insert(e,n)}}}function Tt(){return(d,e,t)=>{const o=t.mapper.toViewPosition(e.position),n=e.position.getShiftedBy(e.length),i=t.mapper.toViewPosition(n,{isPhantom:!0}),r=new _c(o,i),a=t.writer.remove(r.getTrimmed());for(const o of _c.createIn(a).getItems())t.mapper.unbindViewElement(o)}}function Pt(s){return s=s||((n,o)=>({value:n,key:o.attributeKey})),(e,d,o)=>{if(o.consumable.consume(d.item,e.name)){const n=o.mapper.toViewElement(d.item),t=o.writer,i=s(d.attributeOldValue,d);if(null!==d.attributeOldValue&&i)if('class'==i.key){const a=Array.isArray(i.value)?i.value:[i.value];for(const e of a)t.removeClass(e,n)}else if('style'==i.key){const a=Object.keys(i.value);for(const e of a)t.removeStyle(e,n)}else t.removeAttribute(i.key,n);const r=s(d.attributeNewValue,d);if(null!==d.attributeNewValue&&r)if('class'==r.key){const a=Array.isArray(r.value)?r.value:[r.value];for(const e of a)t.addClass(e,n)}else if('style'==r.key){const a=Object.keys(r.value);for(const e of a)t.setStyle(e,r.value[e],n)}else t.setAttribute(r.key,r.value,n)}}}function Et(a){return(e,s,o)=>{const n=a(s.attributeOldValue,o.writer),i=a(s.attributeNewValue,o.writer);if((n||i)&&o.consumable.consume(s.item,e.name)){const a=o.writer,e=a.document.selection;if(s.item instanceof Hm||s.item instanceof $m)a.wrap(e.getFirstRange(),i);else{let e=o.mapper.toViewRange(s.range);null!==s.attributeOldValue&&n&&(e=a.unwrap(e,n)),null!==s.attributeNewValue&&i&&a.wrap(e,i)}}}}function St(a){return(e,s,o)=>{if(!s.markerRange.isCollapsed&&(s.item instanceof Hm||s.item instanceof $m||s.item.is('textProxy'))){const n=Rt(a,s,o);if(n&&o.consumable.consume(s.item,e.name)){const a=It(n),e=o.writer,t=e.document.selection;if(s.item instanceof Hm||s.item instanceof $m)e.wrap(t.getFirstRange(),a,t);else{const t=o.mapper.toViewRange(s.range);e.wrap(t,a)}}}}}function At(a){return(r,t,o)=>{if(!t.markerRange.isCollapsed&&t.item instanceof Dm){const n=Rt(a,t,o);if(n&&o.consumable.test(t.item,r.name)){const a=o.mapper.toViewElement(t.item);if(a&&a.getCustomProperty('addHighlight')){o.consumable.consume(t.item,r.name);for(const n of zm.createIn(t.item))o.consumable.consume(n.item,r.name);a.getCustomProperty('addHighlight')(a,n,o.writer)}}}}}function Ot(a){return(e,s,o)=>{if(!s.markerRange.isCollapsed){const n=Rt(a,s,o);if(n){const t=o.mapper.toViewRange(s.markerRange),d=new Set(t.getItems());for(const a of d)if(a.is('containerElement')&&a.getCustomProperty('removeHighlight')){a.getCustomProperty('removeHighlight')(a,n.id,o.writer);for(const e of _c.createIn(a))d.delete(e)}const i=It(n),r=o.writer;for(const t of Array.from(d).reverse())t.is('textProxy')&&r.unwrap(_c.createOn(t),i)}}}}function Rt(a,r,t){const o='function'==typeof a?a(r,t):a;return o?(o.priority||(o.priority=10),o.id||(o.id=r.markerName),o):null}function It(n){const e=new Qm('span',n.attributes);return n.class&&e._addClass(n.class),n.priority&&(e._priority=n.priority),e._setCustomProperty('highlightDescriptorId',n.id),e}function Vt(s,n){return(e,t)=>{const o=t.newSelection,i=new Hm,r=[];for(const a of o.getRanges())r.push(n.toModelRange(a));i.setTo(r,{backward:o.isBackward}),i.isEqual(s.document.selection)||s.change((t)=>{t.setSelection(i)})}}function Nt(){return(a,e,r)=>{const o=e.selection;if(!o.isCollapsed&&r.consumable.consume(o,'selection')){const a=[];for(const e of o.getRanges()){const t=r.mapper.toViewRange(e);a.push(t)}r.writer.setSelection(a,{backward:o.isBackward})}}}function Dt(){return(a,e,s)=>{const o=e.selection;if(o.isCollapsed&&s.consumable.consume(o,'selection')){const n=s.writer,e=o.getFirstPosition(),t=s.mapper.toViewPosition(e),a=n.breakAttributes(t);n.setSelection(a)}}}function Mt(){return(a,e,t)=>{const o=t.writer,r=o.document.selection;for(const o of r.getRanges())o.isCollapsed&&o.end.parent.document&&t.writer.mergeAttributes(o.start);o.setSelection(null)}}function Ft(n,e){const t=e.getRange();return'insert'==n.type||'rename'==n.type?Lt(n.position,t):'move'==n.type||'remove'==n.type||'reinsert'==n.type?Lt(n.targetPosition,t)||Lt(n.sourcePosition,t):'marker'==n.type&&n.name==e.name}function Lt(n,e){return e.containsPosition(n)||!e.start._getTransformedByInsertion(n,1,!0).isEqual(e.start)}function Bt(n,e){const t=Wt();return 1===t&&(n=Object.keys(eu)[0]),0!==t&&zt(n,e)?eu[n][e].replace(/ \[context: [^\]]+\]$/,''):e.replace(/ \[context: [^\]]+\]$/,'')}function zt(n,e){return n in eu&&e in eu[n]}function Wt(){return Object.keys(eu).length}function Ht(n,e){const a={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return Yt(n,a),Jt(n,a,'allowIn'),Jt(n,a,'allowContentOf'),Jt(n,a,'allowWhere'),Jt(n,a,'allowAttributes'),Jt(n,a,'allowAttributesOf'),Jt(n,a,'inheritTypesFrom'),Zt(n,a),a}function Ut(a,n){for(const e of a[n].allowContentOf)if(a[e]){const t=Xt(a,e);t.forEach((t)=>{t.allowIn.push(n)})}delete a[n].allowContentOf}function qt(a,e){for(const t of a[e].allowWhere){const r=a[t];if(r){const t=r.allowIn;a[e].allowIn.push(...t)}}delete a[e].allowWhere}function $t(a,e){for(const t of a[e].allowAttributesOf){const r=a[t];if(r){const t=r.allowAttributes;a[e].allowAttributes.push(...t)}}delete a[e].allowAttributesOf}function Kt(a,e){const r=a[e];for(const o of r.inheritTypesFrom){const i=a[o];if(i){const t=Object.keys(i).filter((t)=>t.startsWith('is'));for(const e of t)e in r||(r[e]=i[e])}}delete r.inheritTypesFrom}function Gt(a,e){const t=a[e],o=t.allowIn.filter((e)=>a[e]);t.allowIn=Array.from(new Set(o))}function Qt(n,e){const t=n[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function Yt(n,a){for(const t of n){const o=Object.keys(t).filter((t)=>t.startsWith('is'));for(const e of o)a[e]=t[e]}}function Jt(a,e,t){for(const o of a)'string'==typeof o[t]?e[t].push(o[t]):Array.isArray(o[t])&&e[t].push(...o[t])}function Zt(n,a){for(const t of n){const n=t.inheritAllFrom;n&&(a.allowContentOf.push(n),a.allowWhere.push(n),a.allowAttributesOf.push(n),a.inheritTypesFrom.push(n))}}function Xt(n,e){const t=n[e];return eo(n).filter((n)=>n.allowIn.includes(t.name))}function eo(n){return Object.keys(n).map((e)=>n[e])}function to(n){return'string'==typeof n?{name:n,*getAttributeKeys(){},getAttribute(){}}:{name:n.is('element')?n.name:'$text',*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute(e){return n.getAttribute(e)}}}function*no(n,a){for(let r=!1;!r;){if(r=!0,n){const o=n.next();o.done||(r=!1,yield{walker:n,value:o.value})}if(a){const n=a.next();n.done||(r=!1,yield{walker:a,value:n.value})}}}function oo(a,r){const e=new Set,t=new Map,o=zm.createIn(a).getItems();for(const t of o)'$marker'==t.name&&e.add(t);for(const n of e){const a=n.getAttribute('data-name'),e=ly.createBefore(n);t.has(a)?t.get(a).end=ly.createFromPosition(e):t.set(a,new zm(ly.createFromPosition(e))),r.remove(n)}return t}function ro(a,r){let t;for(const o of new ru(a)){const n={};for(const e of o.getAttributeKeys())n[e]=o.getAttribute(e);const e=r.createElement(o.name,n);t&&r.append(e,t),t=ly.createAt(e)}return t}function ao(a){a=Jm(a);const e=co(a),t=lo(a),r=t?'element:'+t:'element';return(t)=>{t.on(r,e,{priority:a.priority||'normal'})}}function io(a){a=Jm(a),mo(a);const e=fo(a,!0),t=lo(a),r=t?'element:'+t:'element';return(t)=>{t.on(r,e,{priority:a.priority||'normal'})}}function so(n){n=Jm(n);let e=null;('string'==typeof n.view||n.view.key)&&(e=po(n)),mo(n,e);const a=fo(n,!1);return(e)=>{e.on('element',a,{priority:n.priority||'low'})}}function lo(t){return'string'==typeof t.view?t.view:'object'==typeof t.view&&'string'==typeof t.view.name?t.view.name:null}function co(o){const e=new Td(o.view);return(t,a,n)=>{const i=e.match(a.viewItem);if(i){i.match.name=!0;const r=uo(o.model,a.viewItem,n.writer);if(r&&n.consumable.test(a.viewItem,i.match)){const t=n.splitToAllowedParent(r,a.modelCursor);if(t){n.writer.insert(r,t.position);const e=n.convertChildren(a.viewItem,ly.createAt(r));n.consumable.consume(a.viewItem,i.match),a.modelRange=new zm(ly.createBefore(r),ly.createAfter(e.modelCursor.parent)),a.modelCursor=t.cursorParent?ly.createAt(t.cursorParent):a.modelRange.end}}}}}function uo(n,e,t){return n instanceof Function?n(e,t):t.createElement(n)}function po(a){'string'==typeof a.view&&(a.view={key:a.view});const e=a.view.key;let t;if('class'==e||'style'==e)t={[e]:a.view.value};else{const o='undefined'==typeof a.view.value?/[\s\S]*/:a.view.value;t={attribute:{[e]:o}}}return a.view.name&&(t.name=a.view.name),a.view=t,e}function mo(a,r=null){const e='object'==typeof a.model?a.model.key:a.model,t='object'==typeof a.model?a.model.value:null===r||((t)=>t.getAttribute(r));a.model={key:e,value:t}}function fo(s,e){const t=new Td(s.view);return(o,d,i)=>{const r=t.match(d.viewItem);if(r){const t=s.model.key,a='function'==typeof s.model.value?s.model.value(d.viewItem):s.model.value;if(null!==a&&(e?r.match.name=!0:delete r.match.name,!!i.consumable.test(d.viewItem,r.match))){d.modelRange||(d=Object.assign(d,i.convertChildren(d.viewItem,d.modelCursor)));const s=go(d.modelRange,{key:t,value:a},i);s&&i.consumable.consume(d.viewItem,r.match)}}}}function go(a,e,t){let o=!1;for(const n of Array.from(a.getItems()))t.schema.checkAttribute(n,e.key)&&(t.writer.setAttribute(e.key,e.value,n),o=!0);return o}function ho(){return(n,a,t)=>{if(!a.modelRange&&t.consumable.consume(a.viewItem,{name:!0})){const{modelRange:o,modelCursor:e}=t.convertChildren(a.viewItem,a.modelCursor);a.modelRange=o,a.modelCursor=e}}}function bo(){return(n,a,t)=>{if(t.schema.checkChild(a.modelCursor,'$text')&&t.consumable.consume(a.viewItem)){const n=t.writer.createText(a.viewItem.data);t.writer.insert(n,a.modelCursor),a.modelRange=zm.createFromPositionAndShift(a.modelCursor,n.offsetSize),a.modelCursor=a.modelRange.end}}}function _o(a){const r=[],e=a.root.document;if(!e)return[];const t=zm.createIn(a);for(const n of e.model.markers){const o=t.getIntersection(n.getRange());o&&r.push([n.name,o])}return r}function ko(n,e){for(const t of n)e(t)}function*vo(a){if(a.model.values)for(const e of a.model.values){const r={key:a.model.key,value:e},o=a.view[e],n=a.upcastAlso?a.upcastAlso[e]:void 0;yield*yo(r,o,n)}else yield*yo(a.model,a.view,a.upcastAlso)}function*yo(n,a,r){if(yield{model:n,view:a},r){r=Array.isArray(r)?r:[r];for(const o of r)yield{model:n,view:o}}}function wo(t){return'string'==typeof t?[new Im(t)]:(v(t)||(t=[t]),Array.from(t).map((t)=>'string'==typeof t?new Im(t):t instanceof Fm?new Im(t.data,t.getAttributes()):t))}function xo(a,e){e=Eo(e);const t=e.reduce((n,e)=>n+e.offsetSize,0),o=a.parent;Ao(a);const n=a.index;return o._insertChildren(n,e),So(o,n+e.length),So(o,n),new zm(a,a.getShiftedBy(t))}function Co(n){if(!n.isFlat)throw new Ga('operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.');const e=n.start.parent;Ao(n.start),Ao(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return So(e,n.start.index),t}function To(n,e){if(!n.isFlat)throw new Ga('operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.');const t=Co(n);return e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),xo(e,t)}function Po(a,r,t){Ao(a.start),Ao(a.end);for(const o of a.getItems()){const n=o.is('textProxy')?o.textNode:o;null===t?n._removeAttribute(r):n._setAttribute(r,t),So(n.parent,n.index)}So(a.end.parent,a.end.index)}function Eo(a){const r=[];a instanceof Array||(a=[a]);for(let e=0;e<a.length;e++)if('string'==typeof a[e])r.push(new Im(a[e]));else if(a[e]instanceof Fm)r.push(new Im(a[e].data,a[e].getAttributes()));else if(a[e]instanceof cu||a[e]instanceof Nm)for(const t of a[e])r.push(t);else a[e]instanceof Vm&&r.push(a[e]);for(let t=1;t<r.length;t++){const o=r[t],e=r[t-1];o instanceof Im&&e instanceof Im&&Oo(o,e)&&(r.splice(t-1,2,new Im(e.data+o.data,e.getAttributes())),t--)}return r}function So(a,e){const t=a.getChild(e-1),o=a.getChild(e);if(t&&o&&t.is('text')&&o.is('text')&&Oo(t,o)){const n=new Im(t.data+o.data,t.getAttributes());a._removeChildren(e-1,2),a._insertChildren(e-1,n)}}function Ao(s){const e=s.textNode,t=s.parent;if(e){const o=s.offset-e.startOffset,n=e.index;t._removeChildren(n,1);const i=new Im(e.data.substr(0,o),e.getAttributes()),r=new Im(e.data.substr(o),e.getAttributes());t._insertChildren(n,[i,r])}}function Oo(a,e){const t=a.getAttributes(),o=e.getAttributes();for(const n of t){if(n[1]!==e.getAttribute(n[0]))return!1;o.next()}return o.next().done}function Ro(t){return[t.clone()]}function Vo(n,e){for(let t=0;t<e.length;t++)e[t].baseVersion=n+t+1;return e}function Fo(n,e){return null===n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function No(t){return 0===t.length?null:1==t.length?t[0]:(t[0].end=t[t.length-1].end,t[0])}function Do(a,e,t){const o=[];for(let n=0;n<a.length;n++){const r=Mo(a[n],e,t.isSticky);o.push(r);for(let e=n+1;e<a.length;e++)a[e]=a[e]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany,!0,!1)}return o}function Mo(a,e,t){let o='$graveyard'==e.root.rootName?fu:'$graveyard'==a.start.root.rootName?gu:pu;const n=new o(a.start,a.end.offset-a.start.offset,e,0);return n.isSticky=t,n}function Bo(d,e,t,o,l){var i=-1,r=d.length;for(t||(t=Lu),l||(l=[]);++i<r;){var a=d[i];0<e&&t(a)?1<e?Bo(a,e-1,t,o,l):kl(l,a):!o&&(l[l.length]=a)}return l}function Lo(p,e,t,o){var f=t.length,i=f,g=!o;if(null==p)return!i;for(p=Object(p);f--;){var a=t[f];if(g&&a[2]?a[1]!==p[a[0]]:!(a[0]in p))return!1}for(;++f<i;){a=t[f];var s=a[0],l=p[s],d=a[1];if(!(g&&a[2])){var c=new Fs;if(o)var m=o(l,d,s,p,e,c);if(void 0===m?!cm(d,l,o,cy|Yu,c):!m)return!1}else if(void 0===l&&!(s in p))return!1}return!0}function zo(s,d){if('function'!=typeof s||d&&'function'!=typeof d)throw new TypeError(rp);var l=function(){var e=arguments,t=d?d.apply(this,e):e[0],n=l.cache;if(n.has(t))return n.get(t);var o=s.apply(this,e);return l.cache=n.set(t,o),o};return l.cache=new(zo.Cache||Is),l}function jo(n,a){if(nl(n))return!1;var t=typeof n;return!!('number'==t||'symbol'==t||'boolean'==t||null==n||Id(n))||fp.test(n)||!gp.test(n)||null!=a&&n in Object(a)}function qo(n,e){return e in Object(n)}function Wo(n,e){for(const a of e)for(const e of a.operations)e.baseVersion=++n;return e}function Ho(t){return t.reduce((n,e)=>n+e.operations.length,0)}function Uo(a,e){const t=a[a.length-1];let i=t.operations.length+t.baseVersion;const n=new Au;for(let t=0;t<e;t++)n.addOperation(new _u(i++));a.push(n)}function Ko(n,e,t){Qo(n,e,t),$o(n,e,t),Jo(e,t),Go(e,t)}function $o(a,e,s){const o=s.originalDelta.get(e);if(s.document.history.isUndoingDelta(o)){const e=s.document.history.getUndoneDelta(o),t=s.wasAffected.get(a),n=t.get(e);void 0!==n&&(s.insertBefore=n)}}function Go(a,e){const t=e.originalDelta.get(a),o=e.document.history;e.forceNotSticky=o.isUndoneDelta(t)||o.isUndoingDelta(t)}function Jo(a,e){const t=e.document.history,o=e.originalDelta.get(a);e.forceWeakRemove=t.isUndoneDelta(o)}function Qo(a,r,e){e.wasAffected.get(a)||e.wasAffected.set(a,new Map);const t=e.originalDelta.get(r);let o=!!e.wasAffected.get(a).get(t);for(const t of a.operations){for(const n of r.operations)if(t instanceof pu&&n instanceof pu&&Yo(t,n)){o=!0;break}if(o)break}e.wasAffected.get(a).set(t,o)}function Yo(a,e){const t=a.targetPosition,o=e.sourcePosition,n=$(o.getParentPath(),t.getParentPath());return t.root==o.root&&'same'==n&&o.offset<t.offset}function Xo(a,e,t){delete t.insertBefore,delete t.forceNotSticky,delete t.forceWeakRemove;const o=t.wasAffected.get(a);t.wasAffected.delete(a);for(const n of e)t.wasAffected.set(n,new Map(o))}function Zo(a,r){let t=[],n=null,e;switch(a){case Su:case Ou:for(const o of r)n=o instanceof _u?new Au:o instanceof fu?new Ou:new Su,n.addOperation(o),t.push(n);return t;case Pu:case Vu:return n=new a,n.addOperation(r[0]),n.addOperation(r[1]),t=Zo(Su,r.slice(2)),[n].concat(t);case Eu:case Iu:return t=Zo(Su,r.slice(0,-2)),n=new a,n.addOperation(r[r.length-2]),n.addOperation(r[r.length-1]),t.concat(n);case Ru:return n=r[0]instanceof _u?new Au:new Ru,n.addOperation(r[0]),[n];case Tu:for(e=0;e<r.length&&!!(r[e]instanceof _u);e++);e==r.length?n=new Au:(n=new Tu,0!=e&&r.unshift(r.splice(e,1)[0]));for(const t of r)n.addOperation(t);return[n];default:n=new a;for(const t of r)n.addOperation(t);return[n];}}function en(a,e){const t=a.clone(),o=t.operations[0];return o.oldRange&&(o.oldRange=o.oldRange.getTransformedByDelta(e)[0]),o.newRange&&(o.newRange=o.newRange.getTransformedByDelta(e)[0]),[t]}function tn(d,c){function t(){const t=new zm(d.position.getShiftedBy(a),d.position.getShiftedBy(s)),n=new uu(t,c.key,r,c.value,0);e.addOperation(n)}const e=new Tu,o=d.nodes;let r=o.getNode(0).getAttribute(c.key),a=0,s=o.getNode(0).offsetSize;for(let l=1;l<o.length;l++){const n=o.getNode(l),e=n.getAttribute(c.key);e!=r&&(r!=c.value&&t(),r=e,a=s),s+=n.offsetSize}return t(),e}function on(){const t=new Au;return t.addOperation(new _u(0)),t}function nn(u,e,t,o){function n(){0===p.operations.length&&u.batch.addDelta(p);const o=new zm(s,l),n=o.root.document?a.version:null,c=new uu(o,e,d,t,n);p.addOperation(c),r.applyOperation(c)}const p=new Tu,r=u.model,a=r.document;let s=o.start,l,d,i;for(const a of o)i=a.item.getAttribute(e),l&&d!=i&&(d!=t&&n(),s=l),l=a.nextPosition,d=i;l instanceof ly&&l!=s&&d!=t&&n()}function rn(u,d,t,o){const e=u.model,n=e.document,r=o.getAttribute(d);let a,i;if(r!=t){const s=o.root===o,l=s?new Fg:new Tu;if(u.batch.addDelta(l),s){const a=o.document?n.version:null;i=new wu(o,d,r,t,a)}else{a=o.is('element')?new zm(ly.createBefore(o),ly.createFromParentAndOffset(o,0)):new zm(ly.createBefore(o),ly.createAfter(o));const s=a.root.document?n.version:null;i=new uu(a,d,r,t,s)}l.addOperation(i),e.applyOperation(i)}}function an(d,e,t,o){const n=d.model,i=n.document,r=new Og,a=new bu(e,t,o,n.markers,i.version);d.batch.addDelta(r),r.addOperation(a),n.applyOperation(a)}function sn(a,e,t,s){let n;if(a.root.document){const t=s.document,o=new ly(t.graveyard,[0]);n=new fu(a,e,o,t.version)}else n=new Ng(a,e);t.addOperation(n),s.applyOperation(n)}function ln(n,e){return n===e||!!(n instanceof Dg&&e instanceof Dg)}function dn(n){const a=[];for(const t of n)if(t.is('text'))for(let n=0;n<t.data.length;n++)a.push({name:'$text',attributes:new Map(t.getAttributes())});else a.push({name:t.name,attributes:new Map(t.getAttributes())});return a}function cn(a,e){const t=[];let o=0,n=0;for(const i of e)i.offset>o&&(t.push(...'e'.repeat(i.offset-o).split('')),n+=i.offset-o),'insert'==i.type?(t.push(...'i'.repeat(i.howMany).split('')),o=i.offset+i.howMany):'remove'==i.type?(t.push(...'r'.repeat(i.howMany).split('')),o=i.offset,n+=i.howMany):(t.push(...'a'.repeat(i.howMany).split('')),o=i.offset+i.howMany,n+=i.howMany);return n<a&&t.push(...'e'.repeat(a-n).split('')),t}function mn(n){const e=n.position&&'$graveyard'==n.position.root.rootName,a=n.range&&'$graveyard'==n.range.root.rootName;return!e&&!a}function un(t){return!!t&&1==t.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t)}function pn(t){return!!t&&1==t.length&&/[\ud800-\udbff]/.test(t)}function gn(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}function fn(n,e){return pn(n.charAt(e-1))&&gn(n.charAt(e))}function hn(n,e){return un(n.charAt(e))}function bn(a){const e=a.textNode;if(e){const t=e.data,o=a.offset-e.startOffset;return!fn(t,o)&&!hn(t,o)}return!0}function _n(){const a=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document.model,'applyOperation',(e,t)=>{const o=t[0];!o.isDocumentOperation||a.has(o.type)&&kn.call(this,o)},{priority:'low'})}function kn(d){let l,t;'insert'==d.type?l=zm.createFromPositionAndShift(d.position,d.nodes.maxOffset):(l=zm.createFromPositionAndShift(d.getMovedRangeStart(),d.howMany),t=d.sourcePosition);const o=l.end.offset-l.start.offset;let n;switch(d.type){case'insert':const e='sticksToNext'==this.stickiness;n=this._getTransformedByInsertion(l.start,o,e);break;case'move':case'remove':case'reinsert':const r=zm.createFromPositionAndShift(t,o),a=r.containsPosition(this)||r.start.isEqual(this)&&'sticksToNext'==this.stickiness||r.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(a)n=this._getCombined(t,l.start);else{const a='sticksToNext'==this.stickiness,e=l.start._getTransformedByInsertion(t,o);n=this._getTransformedByMove(t,e,o,a)}}if(!this.isEqual(n)){const t=ly.createFromPosition(this);this.path=n.path,this.root=n.root,this.fire('change',t)}}function wn(s,e,t){s.change((o)=>{t.isCollapsed||s.deleteContent(t);const n=new Ug(s,o,t.anchor);let i;i=e.is('documentFragment')?e.getChildren():[e],n.handleNodes(i,{isFirst:!0,isLast:!0});const r=n.getSelectionRange();r?t instanceof $m?o.setSelection(r):t.setTo(r):Cm.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')})}function vn(a,s,t={}){if(s.isCollapsed)return;const o=a.schema;a.change((n)=>{if(!t.doNotResetEntireContent&&Pn(o,s))return void Tn(n,s,o);const e=s.getFirstRange(),i=e.start,r=Hg.createFromPosition(e.end);e.start.isTouching(e.end)||n.remove(e),t.leaveUnmerged||(yn(n,i,r),o.removeDisallowedAttributes(i.parent.getChildren(),n)),s instanceof $m?n.setSelection(i):s.setTo(i),xn(o,i)&&An(n,i,s),r.detach()})}function yn(a,e,r){const t=e.parent,n=r.parent;if(t!=n&&t.parent&&n.parent&&Cn(e,r,a.model.schema)){for(e=ly.createAfter(t),r=ly.createBefore(n),r.isEqual(e)||a.insert(n,e),a.merge(e);r.parent.isEmpty;){const e=r.parent;r=ly.createBefore(e),a.remove(e)}yn(a,e,r)}}function xn(a,e){const t=a.checkChild(e,'$text'),r=a.checkChild(e,'paragraph');return!t&&r}function Cn(a,e,t){const o=new zm(a,e);for(const n of o.getWalker())if(t.isObject(n.item)||t.isLimit(n.item))return!1;return!0}function An(a,e,t){const o=a.createElement('paragraph');a.insert(o,e),t instanceof $m?a.setSelection(o,0):t.setTo(o,0)}function Tn(n,e){const t=n.model.schema.getLimitElement(e);n.remove(zm.createIn(t)),An(n,ly.createAt(t),e)}function Pn(a,e){const t=a.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const o=e.getFirstRange();return o.start.parent!=o.end.parent&&a.checkChild(t,'paragraph')}function En(d,e,t={}){const o=d.schema,c='backward'!=t.direction,u=t.unit?t.unit:'character',p=e.focus,a=new Mm({boundaries:Vn(p,c),singleCharacters:!0,direction:c?'forward':'backward'}),m={walker:a,schema:o,isForward:c,unit:u};for(let r;r=a.next();){if(r.done)return;const t=Sn(m,r.value);if(t)return void(e instanceof $m?d.change((n)=>{n.setSelectionFocus(t)}):e.setFocus(t))}}function Sn(n,e){if('text'==e.type)return'word'===n.unit?Rn(n.walker,n.isForward):On(n.walker,n.unit,n.isForward);if(e.type==(n.isForward?'elementStart':'elementEnd')){if(n.schema.isObject(e.item))return ly.createAt(e.item,n.isForward?'after':'before');if(n.schema.checkChild(e.nextPosition,'$text'))return e.nextPosition}else{if(n.schema.isLimit(e.item))return void n.walker.skip(()=>!0);if(n.schema.checkChild(e.nextPosition,'$text'))return e.nextPosition}}function On(a,e){const t=a.position.textNode;if(t){const o=t.data;for(let n=a.position.offset-t.startOffset;fn(o,n)||'character'==e&&hn(o,n);)a.next(),n=a.position.offset-t.startOffset}return a.position}function Rn(a,e){let t=a.position.textNode;if(t)for(let o=a.position.offset-t.startOffset;!In(t.data,o,e)&&!Fn(t,o,e);){a.next();const r=e?a.position.nodeAfter:a.position.nodeBefore;if(r){const o=r.data.charAt(e?0:r.data.length-1);Kg.includes(o)||(a.next(),t=a.position.textNode)}o=a.position.offset-t.startOffset}return a.position}function Vn(a,e){const t=a.root,o=ly.createAt(t,e?'end':0);return e?new zm(a,o):new zm(o,a)}function In(a,e,t){const o=e+(t?0:-1);return Kg.includes(a.charAt(o))}function Fn(n,e,t){return e===(t?n.endOffset:0)}function Nn(n,d){return n.change((c)=>{const e=c.createDocumentFragment(),o=d.getFirstRange();if(!o||o.isCollapsed)return e;const t=o.start.root,i=o.start.getCommonPath(o.end),r=t.getNodeByPath(i);let a=o.start.parent==o.end.parent?o:zm.createFromParentsAndOffsets(r,o.start.path[i.length],r,o.end.path[i.length]+1);const s=a.end.offset-a.start.offset;for(const n of a.getItems({shallow:!0}))n.is('textProxy')?c.appendText(n.data,n.getAttributes(),e):c.append(n._clone(!0),e);if(a!=o){const n=o._getTransformedByMove(a.start,ly.createAt(e,0),s)[0],t=new zm(ly.createAt(e),n.start),i=new zm(n.end,ly.createAt(e,'end'));Dn(i,c),Dn(t,c)}return e})}function Dn(n,a){const t=[];Array.from(n.getItems({direction:'backward'})).map((t)=>zm.createOn(t)).filter((e)=>{const t=(e.start.isAfter(n.start)||e.start.isEqual(n.start))&&(e.end.isBefore(n.end)||e.end.isEqual(n.end));return t}).forEach((n)=>{t.push(n.start.parent),a.remove(n)}),t.forEach((t)=>{for(let n=t;n.parent&&n.isEmpty;){const t=zm.createOn(n);n=n.parent,a.remove(t)}})}function Mn(n,e){n instanceof HTMLTextAreaElement&&(n.value=e),n.innerHTML=e}function Bn(a){if(!cs(a.updateElement))throw new Ga('attachtoform-missing-elementapi-interface: ElementApi interface is required.');const e=a.element;if(e&&'textarea'===e.tagName.toLowerCase()&&e.form){let t;const o=e.form,n=()=>a.updateElement();cs(o.submit)&&(t=o.submit,o.submit=()=>{n(),t.apply(o)}),o.addEventListener('submit',n),a.on('destroy',()=>{o.removeEventListener('submit',n),t&&(o.submit=t)})}}function Ln(t){return(t+'').toLowerCase()}function zn({origin:a,originKeystrokeHandler:e,originFocusTracker:s,toolbar:d,beforeFocus:n,afterBlur:i}){s.add(d.element),e.set('Alt+F10',(o,e)=>{s.isFocused&&!d.focusTracker.isFocused&&(n&&n(),d.focus(),e())}),d.keystrokes.set('Esc',(e,t)=>{d.focusTracker.isFocused&&(a.focus(),i&&i(),t())})}function jn(t){return Array.isArray(t)?{items:t}:t?Object.assign({items:[]},t):{items:[]}}function qn(t){return t.every((t)=>'string'==typeof t)}function Wn(t){return!!t&&((t.value&&(t=t.value),Array.isArray(t))?t.some(Wn):!!(t instanceof lf))}function Hn(n,o){return n.map((t)=>t instanceof lf?t.getValue(o):t)}function Un(a,e,{node:t}){let o=Hn(a,t);o=1==a.length&&a[0]instanceof cf?o[0]:o.reduce(oi,''),ri(o)?e.remove():e.set(o)}function Kn(n){return{set(e){n.textContent=e},remove(){n.textContent=''}}}function $n(a,e,t){return{set(o){a.setAttributeNS(t,e,o)},remove(){a.removeAttributeNS(t,e)}}}function Gn(n,e){return{set(t){n.style[e]=t},remove(){n.style[e]=null}}}function Jn(n){const e=af(n,(t)=>{if(t&&(t instanceof lf||si(t)||ai(t)||li(t)))return t});return e}function Qn(n){if('string'==typeof n?n=Zn(n):n.text&&ei(n),n.on&&(n.eventListeners=Xn(n.on),delete n.on),!n.text){n.attributes&&Yn(n.attributes);const e=[];if(n.children)if(li(n.children))e.push(n.children);else for(const t of n.children)si(t)||ai(t)||De(t)?e.push(t):e.push(new sf(t));n.children=e}return n}function Yn(n){for(const e in n)n[e].value&&(n[e].value=[].concat(n[e].value)),ti(n,e)}function Xn(n){for(const e in n)ti(n,e);return n}function Zn(t){return{text:[t]}}function ei(t){Array.isArray(t.text)||(t.text=[t.text])}function ti(n,e){Array.isArray(n[e])||(n[e]=[n[e]])}function oi(n,e){return ri(e)?n:ri(n)?e:`${n} ${e}`}function ni(n,e){for(const t in e)n[t]?n[t].push(...e[t]):n[t]=e[t]}function ii(a,e){if(e.attributes&&(!a.attributes&&(a.attributes={}),ni(a.attributes,e.attributes)),e.eventListeners&&(!a.eventListeners&&(a.eventListeners={}),ni(a.eventListeners,e.eventListeners)),e.text&&a.text.push(...e.text),e.children&&e.children.length){if(a.children.length!=e.children.length)throw new Ga('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');let t=0;for(const o of e.children)ii(a.children[t++],o)}}function ri(t){return!t&&0!==t}function ai(t){return t instanceof pf}function si(t){return t instanceof sf}function li(t){return t instanceof rf}function di(){return{children:[],bindings:[],attributes:{}}}function ci(t){return'class'==t||'style'==t}function mi(n){return(e)=>e+n}function ui(t){return!!(t.focus&&'none'!=jc.window.getComputedStyle(t.element).display)}function pi(n){return n.bindTemplate.to((e)=>{e.target===n.element&&e.preventDefault()})}function gi(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}function fi(n){const e=n.files?Array.from(n.files):[],t=n.items?Array.from(n.items):[];return e.length?e:t.filter((t)=>'file'===t.kind).map((t)=>t.getAsFile())}function hi(a,e){const t=e.target.ownerDocument,o=e.clientX,n=e.clientY;let i;return t.caretRangeFromPoint&&t.caretRangeFromPoint(o,n)?i=t.caretRangeFromPoint(o,n):e.rangeParent&&(i=t.createRange(),i.setStart(e.rangeParent,e.rangeOffset),i.collapse(!0)),i?a.domConverter.domRangeToView(i):a.document.selection.getFirstRange()}function bi(t){return t=t.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<t.indexOf('</p><p>')&&(t=`<p>${t}</p>`),t}function _i(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,e)=>1==e.length?' ':e)}function ki(a){let r='';if(a.is('text')||a.is('textProxy'))r=a.data;else if(a.is('img')&&a.hasAttribute('alt'))r=a.getAttribute('alt');else{let t=null;for(const o of a.getChildren()){const n=ki(o);t&&(t.is('containerElement')||o.is('containerElement'))&&(zf.includes(t.name)||zf.includes(o.name)?r+='\n':r+='\n\n'),r+=n,t=o}}return r}function wi(d,e,t,o){const n=t.isCollapsed,i=t.getFirstRange(),r=i.start.parent,a=i.end.parent;if(o.isLimit(r)||o.isLimit(a))return void(n||r!=a||d.deleteContent(t));if(n)vi(e,t,i.start);else{const o=!(i.start.isAtStart&&i.end.isAtEnd);d.deleteContent(t,{leaveUnmerged:o}),o&&(r==a?vi(e,t,t.focus):e.setSelection(a,0))}}function vi(a,e,t){const o=t.parent,n=new o.constructor(o.name,o.getAttributes());t.isAtEnd?a.insert(n,t.parent,'after'):t.isAtStart?a.insert(n,t.parent,'before'):a.split(t),a.setSelection(t.parent.nextSibling,0)}function yi(s,d){function t(){i&&(e.push(i),i=null)}function o(t){return i&&i.type==t}const e=[];let n=0,i;return s.forEach((a)=>{'equal'==a?(t(),n++):'insert'==a?(o('insert')?i.values.push(d[n]):(t(),i={type:'insert',index:n,values:[d[n]]}),n++):o('delete')?i.howMany++:(t(),i={type:'delete',index:n,howMany:1})}),t(),e}function xi(t){return!!t.ctrlKey||Qf.includes(t.keyCode)}function Ci(n,e){return n instanceof Cd&&e instanceof Cd?n.data===e.data:n===e}function Ai(n){if(1==n.newChildren.length-n.oldChildren.length){const e=Ce(n.oldChildren,n.newChildren,Ci),t=yi(e,n.newChildren);if(!(1<t.length)){const n=t[0];return n.values[0]instanceof Cd?n:void 0}}}function Ti(n){const e=n.map((t)=>t.node).reduce((n,e)=>n.getCommonAncestor(e,{includeSelf:!0}));return e?e.getAncestors({includeSelf:!0,parentFirst:!0}).find((t)=>t.is('containerElement')||t.is('rootElement')):void 0}function Pi(n){if(0==n.length)return!1;for(const e of n)if('children'===e.type&&!Ai(e))return!0;return!1}function Ei(t){return t.every((t)=>t.is('text'))}function Si(s){let e=null,d=null;for(let t=0;t<s.length;t++){const n=s[t];'equal'!=n&&(e=null===e?t:e,d=t)}let o=0,i=0;for(let t=e;t<=d;t++)'insert'!=s[t]&&o++,'delete'!=s[t]&&i++;return{insertions:i,deletions:o,firstChangeAt:e}}function Oi(n,e){const a=Ri([n],e);a.sort((n,e)=>n.start.isBefore(e.start)?-1:1);for(let o=1;o<a.length;o++){const n=a[o-1],e=a[o];n.end.isTouching(e.start)&&(n.end=e.end,a.splice(o,1),o--)}return a}function Ri(a,e){for(const n of e)for(const e of n.operations)for(let t=0;t<a.length;t++){let o;switch(e.type){case'insert':o=a[t]._getTransformedByInsertion(e.position,e.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':o=a[t]._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!0);}o&&(a.splice(t,1,...o),t=t+o.length-1)}return a}function Vi(){let t=Ii(Ch);return t&&t.length==Ah||(t=Ni(Ah),Fi(Ch,t)),t}function Ii(a){a=a.toLowerCase();const e=document.cookie.split(';');for(const r of e){const e=r.split('='),t=decodeURIComponent(e[0].trim().toLowerCase());if(t===a)return decodeURIComponent(e[1])}return null}function Fi(n,e){document.cookie=encodeURIComponent(n)+'='+encodeURIComponent(e)+';path=/'}function Ni(n){let a='';const t=new Uint8Array(n);window.crypto.getRandomValues(t);for(let o=0;o<t.length;o++){const n=Th.charAt(t[o]%Th.length);a+=.5<Math.random()?n.toUpperCase():n}return a}function Di(t){return Array.from(t.getChildren()).reduce((n,e)=>n+e.data,'')}function Mi(n,e){return e.filter((t)=>void 0!==t[0]&&void 0!==t[1]).map((e)=>zm.createFromParentsAndOffsets(n,e[0],n,e[1]))}function Bi(n){const e=n.next();return e.done?null:e.value}function Li(t){return'blockQuote'==t.parent.name?t.parent:null}function zi(a){let e=0,t;const o=[];for(;e<a.length;){const n=a[e],i=a[e+1];t||(t=ly.createBefore(n)),i&&n.nextSibling==i||(o.push(new zm(t,ly.createAfter(n))),t=null),e++}return o}function ji(a,e){const t=a.checkChild(e.parent,'blockQuote'),o=a.checkChild(['$root','blockQuote'],e);return t&&o}function qi(a,s=512){try{const e=a.match(tb)[1],t=atob(a.replace(tb,'')),n=[];for(let a=0;a<t.length;a+=s){const i=t.slice(a,a+s),o=Array(i.length);for(let t=0;t<i.length;t++)o[t]=i.charCodeAt(t);n.push(new Uint8Array(o))}return new Blob(n,{type:e})}catch(t){throw new Error('Problem with decoding Base64 image data.')}}function Wi(n){if('string'!=typeof n)return!1;const o=n.match(tb);return!!(o&&o.length)}function Hi(){function n(n,a,t){if(t.consumable.test(a.viewItem,{name:!0,class:'image'})){const o=Array.from(a.viewItem.getChildren()).find((t)=>t.is('img'));if(o&&o.hasAttribute('src')&&t.consumable.test(o,{name:!0})){const e=t.convertItem(o,a.modelCursor),n=Bi(e.modelRange.getItems());n&&(t.convertChildren(a.viewItem,ly.createAt(n)),a.modelRange=e.modelRange,a.modelCursor=e.modelCursor)}}}return(e)=>{e.on('element:figure',n)}}function Ui(){function n(n,a,t){if(t.consumable.consume(a.item,n.name)){const r=t.writer,e=t.mapper.toViewElement(a.item),n=e.getChild(0);if(null===a.attributeNewValue){const e=a.attributeOldValue;e.data&&(r.removeAttribute('srcset',n),r.removeAttribute('sizes',n),e.width&&r.removeAttribute('width',n))}else{const e=a.attributeNewValue;e.data&&(r.setAttribute('srcset',e.data,n),r.setAttribute('sizes','100vw',n),e.width&&r.setAttribute('width',e.width,n))}}}return(e)=>{e.on('attribute:srcset:image',n)}}function Ki(n){function e(n,a,r){if(r.consumable.consume(a.item,n.name)){const t=r.writer,e=r.mapper.toViewElement(a.item),n=e.getChild(0);null===a.attributeNewValue?t.removeAttribute(a.attributeKey,n):t.setAttribute(a.attributeKey,a.attributeNewValue,n)}}return(t)=>{t.on(`attribute:${n}:image`,e)}}function $i(n,e){return n&&e&&n.priority==e.priority&&Ji(n.class)==Ji(e.class)}function Gi(n,e){return!!(n.priority>e.priority)||!(n.priority<e.priority)&&Ji(n.class)>Ji(e.class)}function Ji(t){return Array.isArray(t)?t.sort().join(','):t}function Qi(t){return!!t.getCustomProperty(db)}function Yi(a,e,t={}){function r(t){return Array.isArray(t)?t:[t]}return e.setAttribute('contenteditable','false',a),e.addClass(mb,a),e.setCustomProperty(db,!0,a),a.getFillerOffset=or,t.label&&Zi(a,t.label,e),Xi(a,e,(n,e,t)=>t.addClass(r(e.class),n),(n,e,t)=>t.removeClass(r(e.class),n)),a}function Xi(a,e,r,o){const n=new lb;n.on('change:top',(e,t)=>{t.oldDescriptor&&o(a,t.oldDescriptor,t.writer),t.newDescriptor&&r(a,t.newDescriptor,t.writer)}),e.setCustomProperty('addHighlight',(a,e,t)=>n.add(e,t),a),e.setCustomProperty('removeHighlight',(a,e,t)=>n.remove(e,t),a)}function Zi(n,e,t){t.setCustomProperty(cb,e,n)}function er(n){const e=n.getCustomProperty(cb);return e?'function'==typeof e?e():e:''}function tr(a,e){return e.addClass('ck-editable',a),e.setAttribute('contenteditable',a.isReadOnly?'false':'true',a),a.on('change:isReadOnly',(t,o,n)=>{e.setAttribute('contenteditable',n?'false':'true',a)}),a.on('change:isFocused',(t,o,n)=>{n?e.addClass('ck-editable_focused',a):e.removeClass('ck-editable_focused',a)}),a}function or(){return null}function nr(a,e,r){return e.setCustomProperty(pb,!0,a),Yi(a,e,{label:function(){const e=a.getChild(0),t=e.getAttribute('alt');return t?`${t} ${r}`:r}})}function ir(t){return!!t.getCustomProperty(pb)&&Qi(t)}function rr(n){const e=n.getSelectedElement();return!!(e&&ir(e))}function ar(t){return t instanceof Dm&&'image'==t.name}function sr(n){const e=n.createEmptyElement('img'),t=n.createContainerElement('figure',{class:'image'});return n.insert(bc.createAt(t),e),t}function lr(t){return t==Oc.arrowright||t==Oc.arrowleft||t==Oc.arrowup||t==Oc.arrowdown}function dr(t){return Z(t)==_b}function cr(t){for(;t;){if(t instanceof pc&&!(t instanceof fc))return!0;t=t.parent}return!1}function mr({emitter:a,activator:r,callback:e,contextElements:t}){a.listenTo(document,'mousedown',(n,{target:o})=>{if(r()){for(const n of t)if(n.contains(o))return;e()}})}function ur({view:n}){n.listenTo(n.element,'submit',(e,t)=>{t.preventDefault(),n.fire('submit')},{useCapture:!0})}function pr(t){for(;t&&'html'!=t.tagName.toLowerCase();){if('static'!=jc.window.getComputedStyle(t).position)return t;t=t.parentElement}return null}function gr({element:u,target:e,positions:p,limiter:o,fitInViewport:f}){cs(e)&&(e=e()),cs(o)&&(o=o());const g=pr(u.parentElement),r=new Sm(u),a=new Sm(e);let s,l;if(!o&&!f)[l,s]=fr(p[0],a,r);else{const n=o&&new Sm(o).getVisible(),e=f&&new Sm(jc.window);[l,s]=hr(p,a,r,n,e)||fr(p[0],a,r)}let{left:h,top:b}=br(s);if(g){const n=br(new Sm(g)),e=Ue(g);h-=n.left,b-=n.top,h+=g.scrollLeft,b+=g.scrollTop,h-=e.left,b-=e.top}return{left:h,top:b,name:l}}function fr(a,e,t){const{left:o,top:n,name:i}=a(e,t);return[i,t.clone().moveTo(o,n)]}function hr(c,f,t,o,h){let b=0,r=0,e,a;const s=t.getArea();return c.some((d)=>{function l(){r=p,b=u,e=m,a=c}const[c,m]=fr(d,f,t);let u,p;if(o)if(h){const t=o.getIntersection(h);u=t?t.getIntersectionArea(m):0}else u=o.getIntersectionArea(m);return h&&(p=h.getIntersectionArea(m)),h&&!o?p>r&&l():!h&&o?u>b&&l():p>r&&u>=b?l():p>=r&&u>b&&l(),u===s}),e?[a,e]:null}function br({left:a,top:e}){const{scrollX:t,scrollY:o}=jc.window;return{left:a+t,top:e+o}}function _r(t){return Em(t)?t:He(t)?t.commonAncestorContainer:'function'==typeof t?_r(t()):null}function kr(n,e){return n.top-e.height-Ny.arrowVerticalOffset}function wr(t){return t.bottom+Ny.arrowVerticalOffset}function vr(n){const e=n.plugins.get('ContextualBalloon');if(rr(n.editing.view.document.selection)){const t=yr(n);e.updatePosition(t)}}function yr(n){const e=n.editing.view,t=Ny.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast]}}function xr(n){const e=/^image\/(jpeg|png|gif|bmp)$/;return e.test(n.type)}function Cr(n){const e=n.getSelectedElement();if(e)return ly.createAfter(e);const a=n.getSelectedBlocks().next().value;if(a){if(a.isEmpty)return ly.createAt(a);const e=ly.createAfter(a);return n.focus.isTouching(e)?e:ly.createBefore(a)}return n.focus}function Ar(n){const e=n.createUIElement('div',{class:'ck-progress-bar'});return n.setCustomProperty(Ly,!0,e),e}function Tr(n){for(const e of n.getChildren())if(e.getCustomProperty(Ly))return e}function Pr(t){return Array.from(t.types).includes('text/html')&&''!==t.getData('text/html')}function Er(n,e){return e.checkChild(n.parent,'paragraph')&&!e.isObject(n)}function Sr(a,e,t){const o=t.writer.createElement('paragraph');return t.writer.insert(o,e),t.convertItem(a,ly.createAt(o))}function Or(a,e,t){const o=new ru(e);return!!t.checkChild(o,'paragraph')&&!!t.checkChild(o.push('paragraph'),a)}function Rr(n,e,t){return t.checkChild(n.parent,e)&&!t.isObject(n)}function Vr(a,e=n_){const t=new e(a),o=new Qy(a),n=new Xy(a,t,o);return t.bind('isEnabled').to(n),t instanceof n_?t.bind('isOn').to(n,'isOpen'):t.arrowView.bind('isOn').to(n,'isOpen'),Fr(n),n}function Ir(a,e){const r=a.locale,t=a.listView=new r_(r);t.items.bindTo(e).using((n)=>{const e=new i_(r);return e.bind(...Object.keys(n)).to(n),e}),a.panelView.children.add(t),t.items.delegate('execute').to(a)}function Fr(t){Nr(t),Dr(t),Mr(t)}function Nr(t){t.on('render',()=>{mr({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})})}function Dr(t){t.on('execute',()=>{t.isOpen=!1})}function Mr(n){n.keystrokes.set('arrowdown',(e,t)=>{n.isOpen&&(n.panelView.focus(),t())}),n.keystrokes.set('arrowup',(e,t)=>{n.isOpen&&(n.panelView.focusLast(),t())})}function Br(a,e,t,r){const s=a.document;b_.has(s)||(b_.set(s,new Map),s.registerPostFixer((t)=>Lr(s,t))),b_.get(s).set(e,{placeholderText:t,checkFunction:r}),a.render()}function Lr(a,e){const t=b_.get(a);let o=!1;for(const[n,i]of t)zr(e,n,i)&&(o=!0);return o}function zr(c,e,t){const o=e.document,u=t.placeholderText;let i=!1;if(!o)return!1;e.getAttribute('data-placeholder')!==u&&(c.setAttribute('data-placeholder',u,e),i=!0);const r=o.selection,a=r.anchor,s=t.checkFunction;if(s&&!s())return e.hasClass('ck-placeholder')&&(c.removeClass('ck-placeholder',e),i=!0),i;const l=!Array.from(e.getChildren()).some((t)=>!t.is('uiElement'));return!o.isFocused&&l?(e.hasClass('ck-placeholder')||(c.addClass('ck-placeholder',e),i=!0),i):(l&&a&&a.parent!==e?!e.hasClass('ck-placeholder')&&(c.addClass('ck-placeholder',e),i=!0):e.hasClass('ck-placeholder')&&(c.removeClass('ck-placeholder',e),i=!0),i)}function jr(a,e){return(t)=>{const o=t.createEditableElement('figcaption');return t.setCustomProperty(y_,!0,o),Br(a,o,e),tr(o,t)}}function qr(n){for(const e of n.getChildren())if(e instanceof Dm&&'caption'==e.name)return e;return null}function Wr(n){const e=n.parent;return'figcaption'==n.name&&e&&'figure'==e.name&&e.hasClass('image')?{name:!0}:null}function ay(s,e=!0){return(t,d,n)=>{const i=d.item;if((i.childCount||e)&&ar(i.parent)){if(!n.consumable.consume(d.item,'insert'))return;const e=n.mapper.toViewElement(d.range.start.parent),t=s(n.writer),o=n.writer;i.childCount||o.addClass('ck-hidden',t),Ur(t,d.item,e,n)}}}function Ur(a,e,t,o){const n=bc.createAt(t,'end');o.writer.insert(n,a),o.mapper.bindElements(e,a)}function Kr(n){const e=n.getAncestors({includeSelf:!0}),t=e.find((t)=>'caption'==t.name);return t&&t.parent&&'image'==t.parent.name?t:null}function $r(n,e){return!(n.childCount||n.hasClass('ck-hidden'))&&(e.addClass('ck-hidden',n),!0)}function Gr(n,e){return!!n.hasClass('ck-hidden')&&(e.removeClass('ck-hidden',n),!0)}function Jr(s){return(e,d,o)=>{if(o.consumable.consume(d.item,e.name)){const e=Yr(d.attributeNewValue,s),t=Yr(d.attributeOldValue,s),n=o.mapper.toViewElement(d.item),r=o.writer;t&&r.removeClass(t.className,n),e&&r.addClass(e.className,n)}}}function Qr(n){const a=n.filter((t)=>!t.isDefault);return(t,r,s)=>{if(r.modelRange){const t=r.viewItem,e=Bi(r.modelRange.getItems());if(s.schema.checkAttribute(e,'imageStyle'))for(const n of a)s.consumable.consume(t,{class:n.className})&&s.writer.setAttribute('imageStyle',n.name,e)}}}function Yr(n,e){for(const t of e)if(t.name===n)return t}function Xr(t=[]){return t.map(Zr).map((t)=>Object.assign({},t))}function Zr(a){if('string'==typeof a){const e=a;R_[e]?a=Object.assign({},R_[e]):(Cm.warn('image-style-not-found: There is no such image style of given name.',{name:e}),a={name:e})}else if(R_[a.name]){const e=R_[a.name],t=Object.assign({},a);for(const o in e)a.hasOwnProperty(o)||(t[o]=e[o]);a=t}return'string'==typeof a.icon&&M_[a.icon]&&(a.icon=M_[a.icon]),a}function ea(n,e){for(const t of n)e[t.title]&&(t.title=e[t.title]);return n}function ta(n,e){return new zm(oa(n,e,!0),oa(n,e,!1))}function oa(a,e,t){let o=a.textNode||(t?a.nodeBefore:a.nodeAfter),n=null;for(;o&&o.getAttribute('linkHref')==e;)n=o,o=t?o.previousSibling:o.nextSibling;return n?ly.createAt(n,t?'before':'after'):a}function na(t){return t.is('attributeElement')&&!!t.getCustomProperty(z_)}function ia(n,a){const t=a.createAttributeElement('a',{href:n},5);return a.setCustomProperty(z_,!0,t),t}function ry(a,s,r,t){const n=s.document.selection;r.listenTo(a.document,'keydown',(o,i)=>{const d=i.keyCode==Oc.arrowright,e=i.keyCode==Oc.arrowleft;if((d||e)&&n.isCollapsed&&!(i.shiftKey||i.altKey||i.ctrlKey)){const o=n.getFirstPosition();if(d){if(n.isGravityOverridden)return;aa(o.nodeAfter,o.nodeBefore,t)&&(i.preventDefault(),s.change((t)=>t.overrideSelectionGravity()))}else{if(n.isGravityOverridden&&aa(o.nodeBefore,o.nodeAfter,t))return i.preventDefault(),void s.change((t)=>t.restoreSelectionGravity());const e=o.getShiftedBy(-1);if(!e.isBefore(o))return;aa(e.nodeBefore,e.nodeAfter,t)&&s.change((a)=>{let e=0;a.overrideSelectionGravity(!0),r.listenTo(n,'change:range',(t,o)=>{e++&&o.directChange&&(a.restoreSelectionGravity(),t.off())})})}}})}function aa(a,r,s){const o=!!a&&a.hasAttribute(s),d=!!r&&r.hasAttribute(s);return!!(o&&d&&a.getAttributeKeys(s)!==r.getAttribute(s))||o&&!d||!o&&d}function sa(t){return t.getAncestors().find((t)=>na(t))}function la(a,e,t){const o=e?a[0]:a[a.length-1];if(o.is('listItem'))for(let n=o[e?'previousSibling':'nextSibling'],i=o.getAttribute('indent');n&&n.is('listItem')&&n.getAttribute('indent')>=t;)i>n.getAttribute('indent')&&(i=n.getAttribute('indent')),n.getAttribute('indent')==i&&a[e?'unshift':'push'](n),n=n[e?'previousSibling':'nextSibling']}function da(n,e){return e.checkChild(n.parent,'listItem')&&!e.isObject(n)}function ca(n){const e=n.createContainerElement('li');return e.getFillerOffset=ma,e}function ma(){const t=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||t?0:null}function ua(a,r,t){const o=t.consumable;if(o.test(r.item,'insert')&&o.test(r.item,'attribute:type')&&o.test(r.item,'attribute:indent')){o.consume(r.item,'insert'),o.consume(r.item,'attribute:type'),o.consume(r.item,'attribute:indent');const n=r.item,e=Aa(n,t);Ea(n,e,t)}}function pa(u,e,t){const o=t.mapper.toViewPosition(e.position).getLastMatchingPosition((t)=>!t.item.is('li')),n=o.nodeAfter,i=t.writer;i.breakContainer(bc.createBefore(n)),i.breakContainer(bc.createAfter(n));const r=n.parent,a=r.previousSibling,s=_c.createOn(r),l=i.remove(s);a&&a.nextSibling&&Pa(i,a,a.nextSibling);const d=t.mapper.toModelElement(n);Sa(d.getAttribute('indent')+1,e.position,s.start,n,t);for(const o of _c.createIn(l).getItems())t.mapper.unbindViewElement(o);u.stop()}function ga(s,e,t){if(!t.consumable.consume(e.item,'attribute:type'))return;const o=t.mapper.toViewElement(e.item),n=t.writer;n.breakContainer(bc.createBefore(o)),n.breakContainer(bc.createAfter(o));let i=o.parent;const r='numbered'==e.attributeNewValue?'ol':'ul';i=n.rename(i,r),Pa(n,i,i.nextSibling),Pa(n,i.previousSibling,i);for(const o of e.item.getChildren())t.consumable.consume(o,'insert')}function fa(n,s,t){if(t.consumable.consume(s.item,'attribute:indent')){const o=t.mapper.toViewElement(s.item),e=t.writer;e.breakContainer(bc.createBefore(o)),e.breakContainer(bc.createAfter(o));const n=o.parent,i=n.previousSibling,r=_c.createOn(n);e.remove(r),i&&i.nextSibling&&Pa(e,i,i.nextSibling),Sa(s.attributeOldValue+1,s.range.start,r.start,o,t),Ea(s.item,o,t);for(const n of s.item.getChildren())t.consumable.consume(n,'insert')}}function ha(n,a,t){if('listItem'!=a.item.name){let s=t.mapper.toViewPosition(a.range.start);const d=t.writer,n=[];for(;('ul'==s.parent.name||'ol'==s.parent.name)&&(s=d.breakContainer(s),'li'==s.parent.name);){const a=s,t=bc.createAt(s.parent,'end');if(!a.isEqual(t)){const o=d.remove(new _c(a,t));n.push(o)}s=bc.createAfter(s.parent)}if(0<n.length){for(let e=0;e<n.length;e++){const a=s.nodeBefore,t=d.insert(s,n[e]);if(s=t.end,0<e){const e=Pa(d,a,a.nextSibling);e&&e.parent==a&&s.offset--}}Pa(d,s.nodeBefore,s.nodeAfter)}}}function ba(a,e,t){const o=t.mapper.toViewPosition(e.position),n=o.nodeBefore,i=o.nodeAfter;Pa(t.writer,n,i)}function _a(n,d,t){if(t.consumable.consume(d.viewItem,{name:!0})){const o=t.writer,e=this.conversionApi.store,n=o.createElement('listItem');e.indent=e.indent||0,o.setAttribute('indent',e.indent,n);const i=d.viewItem.parent&&'ol'==d.viewItem.parent.name?'numbered':'bulleted';o.setAttribute('type',i,n),e.indent++;const r=t.splitToAllowedParent(n,d.modelCursor);if(!r)return;o.insert(n,r.position);let l=ly.createAfter(n);for(const o of d.viewItem.getChildren())'ul'==o.name||'ol'==o.name?l=t.convertItem(o,l).modelCursor:t.convertItem(o,ly.createAt(n,'end'));e.indent--,d.modelRange=new zm(d.modelCursor,l),d.modelCursor=r.cursorParent?ly.createAt(r.cursorParent):d.modelRange.end}}function ka(n,a,e){if(e.consumable.test(a.viewItem,{name:!0})){const n=Array.from(a.viewItem.getChildren());for(const e of n)e.is('li')||e._remove()}}function wa(n,a,r){if(r.consumable.test(a.viewItem,{name:!0})){if(0===a.viewItem.childCount)return;const o=[...a.viewItem.getChildren()];let e=!1,s=!0;for(const a of o)!e||a.is('ul')||a.is('ol')||a._remove(),a.is('text')?(s&&r.writer.setTextData(a.data.replace(/^\s+/,''),a),(!a.nextSibling||a.nextSibling.is('ul')||a.nextSibling.is('ol'))&&r.writer.setTextData(a.data.replace(/\s+$/,''),a)):(a.is('ul')||a.is('ol'))&&(e=!0),s=!1}}function va(n,a){if(!a.isPhantom){const t=a.modelPosition.nodeBefore;if(t&&t.is('listItem')){const e=a.mapper.toViewElement(t),o=e.getAncestors().find((t)=>t.is('ul')||t.is('ol')),n=new hc({startPosition:bc.createAt(e,0)});for(const t of n)if('elementStart'==t.type&&t.item.is('li')){a.viewPosition=t.previousPosition;break}else if('elementEnd'==t.type&&t.item==o){a.viewPosition=t.nextPosition;break}}}}function ya(d,l){const t=l.viewPosition,e=t.parent,o=l.mapper;if('ul'==e.name||'ol'==e.name){if(!t.isAtEnd){const n=o.toModelElement(t.nodeAfter);l.modelPosition=ly.createBefore(n)}else{const a=o.toModelElement(t.nodeBefore),e=o.getModelLength(t.nodeBefore);l.modelPosition=ly.createBefore(a).getShiftedBy(e)}d.stop()}else if('li'==e.name&&t.nodeBefore&&('ul'==t.nodeBefore.name||'ol'==t.nodeBefore.name)){const n=o.toModelElement(e);let r=1,a=t.nodeBefore;for(;a&&(a.is('ul')||a.is('ol'));)r+=o.getModelLength(a),a=a.previousSibling;l.modelPosition=ly.createBefore(n).getShiftedBy(r),d.stop()}}function xa(d,l){function t(n){const e=n.nodeBefore;if(!e||!e.is('listItem')){const e=n.nodeAfter;e&&e.is('listItem')&&r.set(e,e)}else{let t=e;if(r.has(t))return;for(;t.previousSibling&&t.previousSibling.is('listItem');)if(t=t.previousSibling,r.has(t))return;r.set(n.nodeBefore,t)}}function e(t){for(let e=0,o=null;t&&t.is('listItem');){const n=t.getAttribute('indent');if(n>e){let i;null===o?(o=n-e,i=e):(o>n&&(o=n),i=n-o),l.setAttribute('indent',i,t),a=!0}else o=null,e=t.getAttribute('indent')+1;t=t.nextSibling}}function n(t){for(let e=[],o=null;t&&t.is('listItem');){const r=t.getAttribute('indent');if(o&&o.getAttribute('indent')>r&&(e=e.slice(0,r+1)),0!=r)if(e[r]){const o=e[r];t.getAttribute('type')!=o&&(l.setAttribute('type',o,t),a=!0)}else e[r]=t.getAttribute('type');o=t,t=t.nextSibling}}const o=d.document.differ.getChanges(),r=new Map;let a=!1;for(const r of o)if('insert'==r.type&&'listItem'==r.name)t(r.position);else if('insert'==r.type&&'listItem'!=r.name){if('$text'!=r.name){const t=r.position.nodeAfter;t.hasAttribute('indent')&&(l.removeAttribute('indent',t),a=!0),t.hasAttribute('type')&&(l.removeAttribute('type',t),a=!0)}const n=r.position.getShiftedBy(r.length);t(n)}else'remove'==r.type&&'listItem'==r.name?t(r.position):'attribute'==r.type&&'indent'==r.attributeKey?t(r.range.start):'attribute'==r.type&&'type'==r.attributeKey&&t(r.range.start);for(const t of r.values())e(t),n(t);return a}function Ca(a,[e,r]){let t=e.is('documentFragment')?e.getChild(0):e;if(t&&t.is('listItem')){const n=r.getFirstPosition();let o=null;if(n.parent.is('listItem')?o=n.parent:n.nodeBefore&&n.nodeBefore.is('listItem')&&(o=n.nodeBefore),o){const n=o.getAttribute('indent');if(0<n)for(;t&&t.is('listItem');)t._setAttribute('indent',t.getAttribute('indent')+n),t=t.nextSibling}}}function Aa(s,e){const t=e.mapper,o=e.writer,n='numbered'==s.getAttribute('type')?'ol':'ul',i=ca(o),r=o.createContainerElement(n,null);return o.insert(bc.createAt(r),i),t.bindElements(s,i),i}function Ta(a,e){const t=!!e.sameIndent,o=!!e.smallerIndent,n=a instanceof Dm?a.getAttribute('indent'):e.indent;for(let i=a instanceof Dm?a.previousSibling:a.nodeBefore;i&&'listItem'==i.name;){const a=i.getAttribute('indent');if(t&&n==a||o&&n>a)return i;i=i.previousSibling}return null}function Pa(n,e,t){return e&&t&&('ul'==e.name||'ol'==e.name)&&e.name==t.name?n.mergeContainers(bc.createAfter(e)):null}function Ea(d,c,e){const t=c.parent,u=e.mapper,p=e.writer;let n=u.toViewPosition(ly.createBefore(d));const o=Ta(d,{sameIndent:!0,smallerIndent:!0}),a=d.previousSibling;if(o&&o.getAttribute('indent')==d.getAttribute('indent')){const t=u.toViewElement(o);n=p.breakContainer(bc.createAfter(t))}else n=a&&'listItem'==a.name?u.toViewPosition(ly.createAt(a,'end')):u.toViewPosition(ly.createBefore(d));if(n=Oa(n),p.insert(n,t),a&&'listItem'==a.name){const t=u.toViewElement(a),r=new hc({boundaries:new _c(bc.createAt(t,0),n),ignoreElementEnd:!0});for(const t of r)if(t.item.is('li')){const e=p.breakContainer(bc.createBefore(t.item)),n=t.item.parent,o=bc.createAt(c,'end');Pa(p,o.nodeBefore,o.nodeAfter),p.move(_c.createOn(n),o),r.position=e}}else{const e=t.nextSibling;if(e&&(e.is('ul')||e.is('ol'))){let a=null;for(const n of e.getChildren()){const e=u.toModelElement(n);if(e&&e.getAttribute('indent')>d.getAttribute('indent'))a=n;else break}a&&(p.breakContainer(bc.createAfter(a)),p.move(_c.createOn(a.parent),bc.createAt(c,'end')))}}Pa(p,t,t.nextSibling),Pa(p,t.previousSibling,t)}function Sa(c,u,t,o,n){const i=Ta(u,{sameIndent:!0,smallerIndent:!0,indent:c}),p=n.mapper,a=n.writer,s=i?i.getAttribute('indent'):null;let l;if(!i)l=t;else if(s==c){const t=p.toViewElement(i).parent;l=bc.createAfter(t)}else{const t=ly.createAt(i,'end');l=p.toViewPosition(t)}l=Oa(l);for(const e of[...o.getChildren()])(e.is('ul')||e.is('ol'))&&(l=a.move(_c.createOn(e),l).end,Pa(a,e,e.nextSibling),Pa(a,e.previousSibling,e))}function Oa(t){return t.getLastMatchingPosition((t)=>t.item.is('uiElement'))}function Ra(n){let a=1;for(const t of n.getChildren())if('ul'==t.name||'ol'==t.name)for(const n of t.getChildren())a+=Ra(n);return a}var Va=Number.POSITIVE_INFINITY,Ia=Math.min,Fa=Math.max,Na=Math.floor;Object.defineProperty(e,'__esModule',{value:!0});var Da=Object.getPrototypeOf,Ma=function(t){return Da(Object(t))},Ba=function(n){var e=!1;if(null!=n&&'function'!=typeof n.toString)try{e=!!(n+'')}catch(e){}return e},La=function(t){return!!t&&'object'==typeof t},za=Object.prototype,ja=Function.prototype.toString,qa=za.hasOwnProperty,Wa=ja.call(Object),Ha=za.toString,Ua=function(n){if(!La(n)||'[object Object]'!=Ha.call(n)||Ba(n))return!1;var e=Ma(n);if(null===e)return!0;var t=qa.call(e,'constructor')&&e.constructor;return'function'==typeof t&&t instanceof t&&ja.call(t)==Wa};class Ka{constructor(n,e){this._config={},e&&this.define(e),n&&this._setObjectToTarget(this._config,n)}set(n,e){this._setToTarget(this._config,n,e)}define(n,e){this._setToTarget(this._config,n,e,!0)}get(t){return this._getFromSource(this._config,t)}_setToTarget(a,e,t,o=!1){if(Ua(e))return void this._setObjectToTarget(a,e,o);const n=e.split('.');e=n.pop();for(const i of n)Ua(a[i])||(a[i]={}),a=a[i];return Ua(t)?(Ua(a[e])||(a[e]={}),a=a[e],void this._setObjectToTarget(a,t,o)):void(o&&'undefined'!=typeof a[e]||(a[e]=t))}_getFromSource(a,e){const t=e.split('.');e=t.pop();for(const o of t){if(!Ua(a[o])){a=null;break}a=a[o]}return a?a[e]:void 0}_setObjectToTarget(a,e,t){Object.keys(e).forEach((o)=>{this._setToTarget(a,o,e[o],t)})}}const $a='https://docs.ckeditor.com/ckeditor5/latest/framework/guides/support/error-codes.html';class Ga extends Error{constructor(n,e){n=o(n),e&&(n+=' '+JSON.stringify(e)),super(n),this.name='CKEditorError',this.data=e}static isCKEditorError(t){return t instanceof Ga}}var Ja=function(){return function t(){t.called=!0}};class Qa{constructor(n,e){this.source=n,this.name=e,this.path=[],this.stop=Ja(),this.off=Ja()}}const Ya={get(t){return'number'==typeof t?t:this[t]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},Xa=Symbol('listeningTo'),Za=Symbol('emitterId'),es={on(n,e,t={}){this.listenTo(this,n,e,t)},once(n,a,e){this.listenTo(this,n,function(t,...e){t.off(),a.call(this,t,...e)},e)},off(n,e){this.stopListening(this,n,e)},listenTo(a,s,t,m={}){let n,i;this[Xa]||(this[Xa]={});const r=this[Xa];ny(a)||ty(a);const l=ny(a);(n=r[l])||(n=r[l]={emitter:a,callbacks:{}}),(i=n.callbacks[s])||(i=n.callbacks[s]=[]),i.push(t),oy(a,s);const d=c(a,s),u=Ya.get(m.priority),f={callback:t,priority:u};for(const n of d){let o=!1;for(let e=0;e<n.length;e++)if(n[e].priority<u){n.splice(e,0,f),o=!0;break}o||n.push(f)}},stopListening(s,l,t){const o=this[Xa];let n=s&&ny(s);const i=o&&n&&o[n],r=i&&l&&i.callbacks[l];if(o&&(!s||i)&&(!l||r))if(t)d(s,l,t);else if(r){for(;t=r.pop();)d(s,l,t);delete i.callbacks[l]}else if(i){for(l in i.callbacks)this.stopListening(s,l);delete o[n]}else{for(n in o)this.stopListening(o[n].emitter);delete this[Xa]}},fire(a,...s){const l=a instanceof Qa?a:new Qa(this,a),o=l.name;let n=i(this,o);if(l.path.push(this),n){const a=[l,...s];n=Array.from(n);for(let e=0;e<n.length&&(n[e].callback.apply(this,a),l.off.called&&(delete l.off.called,d(this,o,n[e].callback)),!l.stop.called);e++);}if(this._delegations){const t=this._delegations.get(o),e=this._delegations.get('*');t&&r(t,l,s),e&&r(e,l,s)}return l.return},delegate(...a){return{to:(r,t)=>{this._delegations||(this._delegations=new Map);for(const o of a){const n=this._delegations.get(o);n?n.set(r,t):this._delegations.set(o,new Map([[r,t]]))}}}},stopDelegating(n,a){if(this._delegations)if(!n)this._delegations.clear();else if(!a)this._delegations.delete(n);else{const e=this._delegations.get(n);e&&e.delete(a)}}};var ts=es,os=function(n,e){return n===e||n!==n&&e!==e},ns=function(n,e){for(var t=n.length;t--;)if(os(n[t][0],e))return t;return-1},is=Array.prototype,rs=is.splice;u.prototype.clear=function(){this.__data__=[]},u.prototype['delete']=function(a){var e=this.__data__,t=ns(e,a);if(0>t)return!1;var o=e.length-1;return t==o?e.pop():rs.call(e,t,1),!0},u.prototype.get=function(n){var e=this.__data__,t=ns(e,n);return 0>t?void 0:e[t][1]},u.prototype.has=function(t){return-1<ns(this.__data__,t)},u.prototype.set=function(a,e){var t=this.__data__,o=ns(t,a);return 0>o?t.push([a,e]):t[o][1]=e,this};var as=u,ss=function(n){var o=typeof n;return!!n&&('object'==o||'function'==o)},ls=Object.prototype,ds=ls.toString,cs=function(n){var e=ss(n)?ds.call(n):'';return'[object Function]'==e||'[object GeneratorFunction]'==e},ms=Function.prototype.toString,us=function(t){if(null!=t){try{return ms.call(t)}catch(e){}try{return t+''}catch(e){}}return''},ps=/[\\^$.*+?()[\]{}|]/g,gs=/^\[object .+?Constructor\]$/,fs=Object.prototype,hs=Function.prototype.toString,bs=fs.hasOwnProperty,_s=RegExp('^'+hs.call(bs).replace(ps,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$'),ks=function(n){if(!ss(n))return!1;var e=cs(n)||Ba(n)?_s:gs;return e.test(us(n))},ws=function(n,e){var t=n[e];return ks(t)?t:void 0},vs=ws(Object,'create'),ys=vs,xs=Object.prototype,Cs=xs.hasOwnProperty,As=Object.prototype,Ts=As.hasOwnProperty;p.prototype.clear=function(){this.__data__=ys?ys(null):{}},p.prototype['delete']=function(t){return this.has(t)&&delete this.__data__[t]},p.prototype.get=function(n){var e=this.__data__;if(ys){var t=e[n];return'__lodash_hash_undefined__'===t?void 0:t}return Cs.call(e,n)?e[n]:void 0},p.prototype.has=function(n){var e=this.__data__;return ys?void 0!==e[n]:Ts.call(e,n)},p.prototype.set=function(n,e){var t=this.__data__;return t[n]=ys&&void 0===e?'__lodash_hash_undefined__':e,this};var Ps=p,Es=t(1),Ss=ws(Es.a,'Map'),Os=Ss,Rs=function(n){var o=typeof n;return'string'==o||'number'==o||'symbol'==o||'boolean'==o?'__proto__'!==n:null===n},Vs=function(n,e){var a=n.__data__;return Rs(e)?a['string'==typeof e?'string':'hash']:a.map};m.prototype.clear=function(){this.__data__={hash:new Ps,map:new(Os||as),string:new Ps}},m.prototype['delete']=function(t){return Vs(this,t)['delete'](t)},m.prototype.get=function(t){return Vs(this,t).get(t)},m.prototype.has=function(t){return Vs(this,t).has(t)},m.prototype.set=function(n,e){return Vs(this,n).set(n,e),this};var Is=m;f.prototype.clear=function(){this.__data__=new as},f.prototype['delete']=function(t){return this.__data__['delete'](t)},f.prototype.get=function(t){return this.__data__.get(t)},f.prototype.has=function(t){return this.__data__.has(t)},f.prototype.set=function(n,e){var t=this.__data__;return t instanceof as&&200==t.__data__.length&&(t=this.__data__=new Is(t.__data__)),t.set(n,e),this};var Fs=f,Ns=function(a,e){for(var t=-1,o=a.length;++t<o&&!1!==e(a[t],t,a););return a},Ds=Object.prototype,Ms=Ds.hasOwnProperty,Bs=g,Ls=function(d,e,t,o){t||(t={});for(var n=-1,i=e.length;++n<i;){var r=e[n],a=o?o(t[r],d[r],r,t,d):d[r];Bs(t,r,a)}return t},zs=Object.prototype,js=zs.hasOwnProperty,qs=h,Ws=Object.keys,Hs=function(t){return Ws(Object(t))},Us=function(a,e){for(var t=-1,o=Array(a);++t<a;)o[t]=e(t);return o},Ks=function(n){return function(e){return null==e?void 0:e[n]}},$s=Ks('length'),Gs=function(t){return'number'==typeof t&&-1<t&&0==t%1&&9007199254740991>=t},Js=function(t){return null!=t&&Gs($s(t))&&!cs(t)},Qs=function(t){return La(t)&&Js(t)},Ys=Object.prototype,Xs=Ys.hasOwnProperty,Zs=Ys.toString,el=Ys.propertyIsEnumerable,tl=function(t){return Qs(t)&&Xs.call(t,'callee')&&(!el.call(t,'callee')||'[object Arguments]'==Zs.call(t))},ol=Array.isArray,nl=ol,il=Object.prototype,rl=il.toString,al=function(t){return'string'==typeof t||!nl(t)&&La(t)&&'[object String]'==rl.call(t)},sl=function(n){var e=n?n.length:void 0;return Gs(e)&&(nl(n)||al(n)||tl(n))?Us(e,String):null},ll=/^(?:0|[1-9]\d*)$/,dl=function(n,o){return o=null==o?9007199254740991:o,!!o&&('number'==typeof n||ll.test(n))&&-1<n&&0==n%1&&n<o},cl=Object.prototype,ml=function(n){var e=n&&n.constructor,a='function'==typeof e&&e.prototype||cl;return n===a},ul=function(a){var e=ml(a);if(!(e||Js(a)))return Hs(a);var t=sl(a),s=t||[],n=s.length;for(var i in a)!qs(a,i)||!!t&&('length'==i||dl(i,n))||e&&'constructor'==i||s.push(i);return s},pl=function(n,e){return n&&Ls(e,ul(e),n)},gl=function(n,e){if(e)return n.slice();var t=new n.constructor(n.length);return n.copy(t),t},fl=function(a,e){var t=-1,o=a.length;for(e||(e=Array(o));++t<o;)e[t]=a[t];return e},hl=Object.getOwnPropertySymbols;hl||(b=function(){return[]});var bl=b,_l=function(n,e){return Ls(n,bl(n),e)},kl=function(a,e){for(var t=-1,o=e.length,n=a.length;++t<o;)a[n+t]=e[t];return a},wl=function(a,e,t){var o=e(a);return nl(a)?o:kl(o,t(a))},vl=function(t){return wl(t,ul,bl)},yl=ws(Es.a,'DataView'),xl=yl,Cl=ws(Es.a,'Promise'),Al=Cl,Tl=ws(Es.a,'Set'),Pl=Tl,El=ws(Es.a,'WeakMap'),Sl=El,Ol='[object Map]',Rl='[object Promise]',Vl='[object Set]',Il='[object WeakMap]',Fl='[object DataView]',Nl=Object.prototype,Dl=Nl.toString,Ml=us(xl),Bl=us(Os),Ll=us(Al),zl=us(Pl),jl=us(Sl);(xl&&y(new xl(new ArrayBuffer(1)))!=Fl||Os&&y(new Os)!=Ol||Al&&y(Al.resolve())!=Rl||Pl&&y(new Pl)!=Vl||Sl&&y(new Sl)!=Il)&&(y=function(a){var e=Dl.call(a),t='[object Object]'==e?a.constructor:void 0,o=t?us(t):void 0;if(o)switch(o){case Ml:return Fl;case Bl:return Ol;case Ll:return Rl;case zl:return Vl;case jl:return Il;}return e});var ql=y,Wl=Object.prototype,Hl=Wl.hasOwnProperty,Ul=function(n){var e=n.length,t=n.constructor(e);return e&&'string'==typeof n[0]&&Hl.call(n,'index')&&(t.index=n.index,t.input=n.input),t},Kl=Es.a.Uint8Array,$l=Kl,Gl=function(n){var e=new n.constructor(n.byteLength);return new $l(e).set(new $l(n)),e},Jl=function(n,e){var t=e?Gl(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)},Ql=function(n,e){return n.set(e[0],e[1]),n},Yl=function(a,e,t,o){var n=-1,i=a.length;for(o&&i&&(t=a[++n]);++n<i;)t=e(t,a[n],n,a);return t},Xl=function(n){var a=-1,t=Array(n.size);return n.forEach(function(o,e){t[++a]=[e,o]}),t},Zl=function(a,e,t){var o=e?t(Xl(a),!0):Xl(a);return Yl(o,Ql,new a.constructor)},ed=/\w*$/,td=function(n){var e=new n.constructor(n.source,ed.exec(n));return e.lastIndex=n.lastIndex,e},od=function(n,e){return n.add(e),n},nd=function(n){var a=-1,t=Array(n.size);return n.forEach(function(n){t[++a]=n}),t},id=function(a,e,t){var o=e?t(nd(a),!0):nd(a);return Yl(o,od,new a.constructor)},rd=Es.a.Symbol,ad=rd,sd=ad?ad.prototype:void 0,ld=sd?sd.valueOf:void 0,dd=function(t){return ld?Object(ld.call(t)):{}},cd=function(n,e){var t=e?Gl(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)},md=function(a,r,t,o){var n=a.constructor;return'[object ArrayBuffer]'===r?Gl(a):'[object Boolean]'===r||'[object Date]'===r?new n(+a):'[object DataView]'===r?Jl(a,o):'[object Float32Array]'===r||'[object Float64Array]'===r||'[object Int8Array]'===r||'[object Int16Array]'===r||'[object Int32Array]'===r||'[object Uint8Array]'===r||'[object Uint8ClampedArray]'===r||'[object Uint16Array]'===r||'[object Uint32Array]'===r?cd(a,o):'[object Map]'===r?Zl(a,o,t):'[object Number]'===r||'[object String]'===r?new n(a):'[object RegExp]'===r?td(a):'[object Set]'===r?id(a,o,t):'[object Symbol]'===r?dd(a):void 0},ud=Object.create,pd=function(t){return ss(t)?ud(t):{}},gd=function(t){return'function'!=typeof t.constructor||ml(t)?{}:pd(Ma(t))},fd=t(9),hd='[object Arguments]',bd='[object Function]',_d='[object GeneratorFunction]',kd='[object Object]',wd={};wd[hd]=wd['[object Array]']=wd['[object ArrayBuffer]']=wd['[object DataView]']=wd['[object Boolean]']=wd['[object Date]']=wd['[object Float32Array]']=wd['[object Float64Array]']=wd['[object Int8Array]']=wd['[object Int16Array]']=wd['[object Int32Array]']=wd['[object Map]']=wd['[object Number]']=wd[kd]=wd['[object RegExp]']=wd['[object Set]']=wd['[object String]']=wd['[object Symbol]']=wd['[object Uint8Array]']=wd['[object Uint8ClampedArray]']=wd['[object Uint16Array]']=wd['[object Uint32Array]']=!0,wd['[object Error]']=wd[bd]=wd['[object WeakMap]']=!1;var vd=_,yd=function(t){return vd(t,!1,!0)};class xd{constructor(){this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new Ga('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get document(){return this.parent instanceof xd?this.parent.document:null}getAncestors(n={includeSelf:!1,parentFirst:!1}){const e=[];for(let t=n.includeSelf?this:this.parent;t;)e[n.parentFirst?'push':'unshift'](t),t=t.parent;return e}getCommonAncestor(a,e={}){const t=this.getAncestors(e),o=a.getAncestors(e);let n=0;for(;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,e){this.fire('change:'+n,e),this.parent&&this.parent._fireChange(n,e)}toJSON(){const t=yd(this);return delete t.parent,t}}l(xd,ts);class Cd extends xd{constructor(t){super(),this._textData=t}is(t){return'text'==t}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange('text',this),this._textData=t}isSimilar(t){return!!(t instanceof Cd)&&(this===t||this.data===t.data)}_clone(){return new Cd(this.data)}}class Ad{constructor(n,e,t){if(this.textNode=n,0>e||e>n.data.length)throw new Ga('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>t||e+t>n.data.length)throw new Ga('view-textproxy-wrong-length: Given length value is incorrect.');this.data=n.data.substring(e,e+t),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return'textProxy'==t}getAncestors(n={includeSelf:!1,parentFirst:!1}){const e=[];for(let t=n.includeSelf?this.textNode:this.parent;null!==t;)e[n.parentFirst?'push':'unshift'](t),t=t.parent;return e}}class Td{constructor(...t){this._patterns=[],this.add(...t)}add(...n){for(let e of n)('string'==typeof e||e instanceof RegExp)&&(e={name:e}),e.class&&('string'==typeof e.class||e.class instanceof RegExp)&&(e.class=[e.class]),this._patterns.push(e)}match(...n){for(const a of n)for(const n of this._patterns){const r=w(a,n);if(r)return{element:a,pattern:n,match:r}}return null}matchAll(...n){const a=[];for(const t of n)for(const r of this._patterns){const i=w(t,r);i&&a.push({element:t,pattern:r,match:i})}return 0<a.length?a:null}getElementName(){if(1!==this._patterns.length)return null;const n=this._patterns[0],o=n.name;return'function'!=typeof n&&o&&!(o instanceof RegExp)?o:null}}class Pd extends xd{constructor(n,e,t){if(super(),this.name=n,this._attrs=P(e),this._children=[],t&&this._insertChildren(0,t),this._classes=new Set,this._attrs.has('class')){const t=this._attrs.get('class');A(this._classes,t),this._attrs.delete('class')}this._styles=new Map,this._attrs.has('style')&&(E(this._styles,this._attrs.get('style')),this._attrs.delete('style')),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(n,e=null){return e?'element'==n&&e==this.name:'element'==n||n==this.name}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){0<this._classes.size&&(yield'class'),0<this._styles.size&&(yield'style');for(const t of this._attrs.keys())yield t}*getAttributes(){yield*this._attrs.entries(),0<this._classes.size&&(yield['class',this.getAttribute('class')]),0<this._styles.size&&(yield['style',this.getAttribute('style')])}getAttribute(t){if('class'==t)return 0<this._classes.size?[...this._classes].join(' '):void 0;if('style'==t){if(0<this._styles.size){let n='';for(const[e,t]of this._styles)n+=`${e}:${t};`;return n}return}return this._attrs.get(t)}hasAttribute(t){return'class'==t?0<this._classes.size:'style'==t?0<this._styles.size:this._attrs.has(t)}isSimilar(n){if(!(n instanceof Pd))return!1;if(this===n)return!0;if(this.name!=n.name)return!1;if(this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[e,t]of this._attrs)if(!n._attrs.has(e)||n._attrs.get(e)!==t)return!1;for(const e of this._classes)if(!n._classes.has(e))return!1;for(const[e,t]of this._styles)if(!n._styles.has(e)||n._styles.get(e)!==t)return!1;return!0}hasClass(...n){for(const e of n)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.get(t)}getStyleNames(){return this._styles.keys()}hasStyle(...n){for(const e of n)if(!this._styles.has(e))return!1;return!0}findAncestor(...n){const e=new Td(...n);for(let t=this.parent;t;){if(e.match(t))return t;t=t.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(','),e=Array.from(this._styles).map((t)=>`${t[0]}:${t[1]}`).sort().join(';'),t=Array.from(this._attrs).map((t)=>`${t[0]}="${t[1]}"`).sort().join(' ');return this.name+(''==n?'':` class="${n}"`)+(''==e?'':` style="${e}"`)+(''==t?'':` ${t}`)}_clone(n=!1){const e=[];if(n)for(const t of this.getChildren())e.push(t._clone(n));const t=new this.constructor(this.name,this._attrs,e);return t._classes=new Set(this._classes),t._styles=new Map(this._styles),t._customProperties=new Map(this._customProperties),t.getFillerOffset=this.getFillerOffset,t}_appendChildren(t){return this._insertChildren(this.childCount,t)}_insertChildren(a,e){this._fireChange('children',this);let t=0;const o=O(e);for(const n of o)null!==n.parent&&n._remove(),n.parent=this,this._children.splice(a,0,n),a++,t++;return t}_removeChildren(n,e=1){this._fireChange('children',this);for(let t=n;t<n+e;t++)this._children[t].parent=null;return this._children.splice(n,e)}_setAttribute(n,e){e+='',this._fireChange('attributes',this),'class'==n?A(this._classes,e):'style'==n?E(this._styles,e):this._attrs.set(n,e)}_removeAttribute(t){return this._fireChange('attributes',this),'class'==t?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==t?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange('attributes',this),t=Array.isArray(t)?t:[t],t.forEach((t)=>this._classes.add(t))}_removeClass(t){this._fireChange('attributes',this),t=Array.isArray(t)?t:[t],t.forEach((t)=>this._classes.delete(t))}_setStyle(n,e){if(this._fireChange('attributes',this),Ua(n)){const e=Object.keys(n);for(const t of e)this._styles.set(t,n[t])}else this._styles.set(n,e)}_removeStyle(t){this._fireChange('attributes',this),t=Array.isArray(t)?t:[t],t.forEach((t)=>this._styles.delete(t))}_setCustomProperty(n,e){this._customProperties.set(n,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}class Ed extends Pd{constructor(n,e,t){super(n,e,t),this.getFillerOffset=I}is(n,e=null){return e?'containerElement'==n&&e==this.name||super.is(n,e):'containerElement'==n||super.is(n)}}var Sd=R,Od=function(a,e,t){var o=t.length;return 0===o?a.call(e):1===o?a.call(e,t[0]):2===o?a.call(e,t[0],t[1]):3===o?a.call(e,t[0],t[1],t[2]):a.apply(e,t)},Rd=Object.prototype,Vd=Rd.toString,Id=function(t){return'symbol'==typeof t||La(t)&&'[object Symbol]'==Vd.call(t)},Fd=0/0,Nd=/^\s+|\s+$/g,Dd=/^[-+]0x[0-9a-f]+$/i,Md=/^0b[01]+$/i,Bd=/^0o[0-7]+$/i,Ld=parseInt,zd=function(n){if('number'==typeof n)return n;if(Id(n))return Fd;if(ss(n)){var a=cs(n.valueOf)?n.valueOf():n;n=ss(a)?a+'':a}if('string'!=typeof n)return 0===n?n:+n;n=n.replace(Nd,'');var t=Md.test(n);return t||Bd.test(n)?Ld(n.slice(2),t?2:8):Dd.test(n)?Fd:+n},jd=1/0,iy=function(n){if(!n)return 0===n?n:0;if(n=zd(n),n===jd||n===-jd){var o=0>n?-1:1;return 17976931348623157e292*o}return n===n?n:0},Wd=function(n){var e=iy(n),t=e%1;return e===e?t?e-t:e:0},Hd=Fa,Ud=function(s,d){if('function'!=typeof s)throw new TypeError('Expected a function');return d=Hd(void 0===d?s.length-1:Wd(d),0),function(){for(var e=arguments,t=-1,n=Hd(e.length-d,0),o=Array(n);++t<n;)o[t]=e[d+t];switch(d){case 0:return s.call(this,o);case 1:return s.call(this,e[0],o);case 2:return s.call(this,e[0],e[1],o);}var r=Array(d+1);for(t=-1;++t<d;)r[t]=e[t];return r[d]=o,Od(s,this,r)}},Kd=Es.a.Reflect,$d=Kd,Gd=function(n){for(var e=[],t;!(t=n.next()).done;)e.push(t.value);return e},Jd=Object.prototype,Qd=$d?$d.enumerate:void 0,Yd=Jd.propertyIsEnumerable;Qd&&!Yd.call({valueOf:1},'valueOf')&&(M=function(t){return Gd(Qd(t))});var Xd=M,Zd=Object.prototype,ec=Zd.hasOwnProperty,tc=function(d){for(var e=-1,t=ml(d),o=Xd(d),n=o.length,i=sl(d),c=i||[],a=c.length,s;++e<n;)s=o[e],!!i&&('length'==s||dl(s,a))||'constructor'==s&&(t||!ec.call(d,s))||c.push(s);return c},oc=Object.prototype,nc=oc.propertyIsEnumerable,ic=!nc.call({valueOf:1},'valueOf'),rc=function(d){return Ud(function(e,t){var o=-1,n=t.length,i=1<n?t[n-1]:void 0,l=2<n?t[2]:void 0;for(i=3<d.length&&'function'==typeof i?(n--,i):void 0,l&&Sd(t[0],t[1],l)&&(i=3>n?void 0:i,n=1),e=Object(e);++o<n;){var a=t[o];a&&d(e,a,o,i)}return e})}(function(n,e){if(ic||ml(e)||Js(e))return void Ls(e,tc(e),n);for(var t in e)Bs(n,t,e[t])}),ac=rc;const sc=Symbol('observableProperties'),lc=Symbol('boundObservables'),dc=Symbol('boundProperties'),cc={set(a,e){if(ss(a))return void Object.keys(a).forEach((e)=>{this.set(e,a[e])},this);D(this);const r=this[sc];if(a in this&&!r.has(a))throw new Ga('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,a,{enumerable:!0,configurable:!0,get(){return r.get(a)},set(e){const t=r.get(a);t===e&&r.has(a)||(r.set(a,e),this.fire('change:'+a,a,e,t))}}),this[a]=e},bind(...n){if(!n.length||!L(n))throw new Ga('observable-bind-wrong-properties: All properties must be strings.');if(new Set(n).size!==n.length)throw new Ga('observable-bind-duplicate-properties: Properties must be unique.');D(this);const a=this[dc];n.forEach((t)=>{if(a.has(t))throw new Ga('observable-bind-rebind: Cannot bind the same property more that once.')});const t=new Map;return n.forEach((o)=>{const r={property:o,to:[]};a.set(o,r),t.set(o,r)}),{to:N,toMany:V,_observable:this,_bindProperties:n,_to:[],_bindings:t}},unbind(...n){if(!(sc in this))return;const d=this[dc],t=this[lc];if(n.length){if(!L(n))throw new Ga('observable-unbind-wrong-properties: Properties must be strings.');n.forEach((o)=>{const l=d.get(o);if(!l)return;let c,i,r,a;l.to.forEach((n)=>{c=n[0],i=n[1],r=t.get(c),a=r[i],a.delete(l),a.size||delete r[i],Object.keys(r).length||(t.delete(c),this.stopListening(c,'change'))}),d.delete(o)})}else t.forEach((n,e)=>{this.stopListening(e,'change')}),t.clear(),d.clear()},decorate(n){const a=this[n];if(!a)throw new Ga('observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.',{object:this,methodName:n});this.on(n,(t,e)=>{t.return=a.apply(this,e)}),this[n]=function(...e){return this.fire(n,e)}}};ac(cc,ts);var mc=cc;const uc=Symbol('document');class pc extends Ed{constructor(n,e,t){super(n,e,t),this.set('isReadOnly',!1),this.set('isFocused',!1)}get document(){return this.getCustomProperty(uc)}set _document(n){if(this.getCustomProperty(uc))throw new Ga('view-editableelement-document-already-set: View document is already set.');this._setCustomProperty(uc,n),this.bind('isReadOnly').to(n),this.bind('isFocused').to(n,'isFocused',(e)=>e&&n.selection.editableElement==this),this.listenTo(n.selection,'change',()=>{this.isFocused=n.isFocused&&n.selection.editableElement==this})}}l(pc,mc);const gc=Symbol('rootName');class fc extends pc{constructor(t){super(t),this.rootName='main'}is(n,e=null){return e?'rootElement'==n&&e==this.name||super.is(n,e):'rootElement'==n||super.is(n)}get rootName(){return this.getCustomProperty(gc)}set rootName(t){this._setCustomProperty(gc,t)}set _name(t){this.name=t}}class hc{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new Ga('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(t.direction&&'forward'!=t.direction&&'backward'!=t.direction)throw new Ga('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:t.direction});this.boundaries=t.boundaries||null,this.position=t.startPosition?bc.createFromPosition(t.startPosition):bc.createFromPosition(t.boundaries['backward'==t.direction?'end':'start']),this.direction=t.direction||'forward',this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(a){let e,r,o;do o=this.position,({done:e,value:r}=this.next());while(!e&&a(r));e||(this.position=o)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){let a=bc.createFromPosition(this.position);const e=this.position,r=a.parent;if(null===r.parent&&a.offset===r.childCount)return{done:!0};if(r===this._boundaryEndParent&&a.offset==this.boundaries.end.offset)return{done:!0};let t;if(r instanceof Cd){if(a.isAtEnd)return this.position=bc.createAfter(r),this._next();t=r.data[a.offset]}else t=r.getChild(a.offset);if(t instanceof Pd)return this.shallow?a.offset++:a=new bc(t,0),this.position=a,this._formatReturnValue('elementStart',t,e,a,1);if(!(t instanceof Cd)){if('string'==typeof t){let o;if(this.singleCharacters)o=1;else{const e=r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length;o=e-a.offset}const t=new Ad(r,a.offset,o);return a.offset+=o,this.position=a,this._formatReturnValue('text',t,e,a,o)}return a=bc.createAfter(r),this.position=a,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',r,e,a)}if(this.singleCharacters)return a=new bc(t,0),this.position=a,this._next();else{let n=t.data.length,o;return t==this._boundaryEndParent?(n=this.boundaries.end.offset,o=new Ad(t,0,n),a=bc.createAfter(o)):(o=new Ad(t,0,t.data.length),a.offset++),this.position=a,this._formatReturnValue('text',o,e,a,n)}}_previous(){let a=bc.createFromPosition(this.position);const e=this.position,r=a.parent;if(null===r.parent&&0===a.offset)return{done:!0};if(r==this._boundaryStartParent&&a.offset==this.boundaries.start.offset)return{done:!0};let s;if(r instanceof Cd){if(a.isAtStart)return this.position=bc.createBefore(r),this._previous();s=r.data[a.offset-1]}else s=r.getChild(a.offset-1);if(s instanceof Pd)return this.shallow?(a.offset--,this.position=a,this._formatReturnValue('elementStart',s,e,a,1)):(a=new bc(s,s.childCount),this.position=a,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',s,e,a));if(!(s instanceof Cd)){if('string'==typeof s){let o;if(!this.singleCharacters){const e=r===this._boundaryStartParent?this.boundaries.start.offset:0;o=a.offset-e}else o=1;a.offset-=o;const t=new Ad(r,a.offset,o);return this.position=a,this._formatReturnValue('text',t,e,a,o)}return a=bc.createBefore(r),this.position=a,this._formatReturnValue('elementStart',r,e,a,1)}if(this.singleCharacters)return a=new bc(s,s.data.length),this.position=a,this._previous();else{let n=s.data.length,o;if(s==this._boundaryStartParent){const e=this.boundaries.start.offset;o=new Ad(s,e,s.data.length-e),n=o.data.length,a=bc.createBefore(o)}else o=new Ad(s,0,s.data.length),a.offset--;return this.position=a,this._formatReturnValue('text',o,e,a,n)}}_formatReturnValue(a,r,s,d,l){return r instanceof Ad&&(r.offsetInText+r.data.length==r.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?s=bc.createAfter(r.textNode):(d=bc.createAfter(r.textNode),this.position=d)),0===r.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?s=bc.createBefore(r.textNode):(d=bc.createBefore(r.textNode),this.position=d))),{done:!1,value:{type:a,item:r,previousPosition:s,nextPosition:d,length:l}}}}class bc{constructor(n,e){this.parent=n,this.offset=e}get nodeAfter(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof pc);)if(t.parent)t=t.parent;else return null;return t}getShiftedBy(n){const e=bc.createFromPosition(this),t=e.offset+n;return e.offset=0>t?0:t,e}getLastMatchingPosition(n,e={}){e.startPosition=this;const t=new hc(e);return t.skip(n),t.position}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(a){const e=this.getAncestors(),t=a.getAncestors();let o=0;for(;e[o]==t[o]&&e[o];)o++;return 0==o?null:e[o-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return'before'==this.compareWith(t)}isAfter(t){return'after'==this.compareWith(t)}compareWith(d){if(this.isEqual(d))return'same';if(this.parent===d.parent)return 0>this.offset-d.offset?'before':'after';const e=this.getAncestors(),t=d.getAncestors(),o=$(e,t);let n;switch(o){case 0:return'different';case'prefix':n=e.length-1;break;case'extension':n=t.length-1;break;default:n=o-1;}const i=e[n],r=e[n+1],a=t[n+1];if(i===this.parent){const t=this.offset-a.index;return 0>=t?'before':'after'}if(i===d.parent){const e=r.index-d.offset;return 0>e?'before':'after'}const s=r.index-a.index;return 0>s?'before':'after'}static createAt(n,e){if(n instanceof bc)return this.createFromPosition(n);else{const t=n;if('end'==e)e=t.is('text')?t.data.length:t.childCount;else{if('before'==e)return this.createBefore(t);if('after'==e)return this.createAfter(t);e||(e=0)}return new bc(t,e)}}static createAfter(t){if(t.is('textProxy'))return new bc(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new Ga('view-position-after-root: You can not make position after root.',{root:t});return new bc(t.parent,t.index+1)}static createBefore(t){if(t.is('textProxy'))return new bc(t.textNode,t.offsetInText);if(!t.parent)throw new Ga('view-position-before-root: You can not make position before root.',{root:t});return new bc(t.parent,t.index)}static createFromPosition(t){return new this(t.parent,t.offset)}}class _c{constructor(n,e=null){this.start=bc.createFromPosition(n),this.end=e?bc.createFromPosition(e):bc.createFromPosition(n)}*[Symbol.iterator](){yield*new hc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(K,{direction:'backward'}),e=this.end.getLastMatchingPosition(K);return n.parent.is('text')&&n.isAtStart&&(n=bc.createBefore(n.parent)),e.parent.is('text')&&e.isAtEnd&&(e=bc.createAfter(e.parent)),new _c(n,e)}getTrimmed(){let a=this.start.getLastMatchingPosition(K);if(a.isAfter(this.end)||a.isEqual(this.end))return new _c(a,a);let e=this.end.getLastMatchingPosition(K,{direction:'backward'});const t=a.nodeAfter,o=e.nodeBefore;return t&&t.is('text')&&(a=new bc(t,0)),o&&o.is('text')&&(e=new bc(o,o.data.length)),new _c(a,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(a,e=!1){a.isCollapsed&&(e=!1);const t=this.containsPosition(a.start)||e&&this.start.isEqual(a.start),o=this.containsPosition(a.end)||e&&this.end.isEqual(a.end);return t&&o}getDifference(n){const e=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&e.push(new _c(this.start,n.start)),this.containsPosition(n.end)&&e.push(new _c(n.end,this.end))):e.push(_c.createFromRange(this)),e}getIntersection(n){if(this.isIntersecting(n)){let e=this.start,t=this.end;return this.containsPosition(n.start)&&(e=n.start),this.containsPosition(n.end)&&(t=n.end),new _c(e,t)}return null}getWalker(t={}){return t.boundaries=this,new hc(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const e=new hc(n);for(const t of e)yield t.item}*getPositions(n={}){n.boundaries=this;const e=new hc(n);yield e.position;for(const t of e)yield t.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static createFromParentsAndOffsets(a,e,t,o){return new this(new bc(a,e),new bc(t,o))}static createFromRange(t){return new this(t.start,t.end)}static createFromPositionAndShift(a,e){const t=a,o=a.getShiftedBy(e);return 0<e?new this(t,o):new this(o,t)}static createIn(t){return this.createFromParentsAndOffsets(t,0,t,t.childCount)}static createOn(n){const e=n.is('textProxy')?n.offsetSize:1;return this.createFromPositionAndShift(bc.createBefore(n),e)}static createCollapsedAt(a,e){const t=bc.createAt(a,e),o=bc.createFromPosition(t);return new _c(t,o)}}class kc{constructor(n=null,e,t){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel='',this._setTo(n,e,t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1],e=this._lastRangeBackward?n.end:n.start;return bc.createFromPosition(e)}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1],e=this._lastRangeBackward?n.start:n.end;return bc.createFromPosition(e)}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield _c.createFromRange(t)}getFirstRange(){let n=null;for(const o of this._ranges)(!n||o.start.isBefore(n.start))&&(n=o);return n?_c.createFromRange(n):null}getLastRange(){let n=null;for(const o of this._ranges)(!n||o.end.isAfter(n.end))&&(n=o);return n?_c.createFromRange(n):null}getFirstPosition(){const t=this.getFirstRange();return t?bc.createFromPosition(t.start):null}getLastPosition(){const t=this.getLastRange();return t?bc.createFromPosition(t.end):null}isEqual(a){if(this.isFake!=a.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=a.fakeSelectionLabel)return!1;if(this.rangeCount!=a.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(a.anchor)||!this.focus.isEqual(a.focus))return!1;for(const e of this._ranges){let t=!1;for(const o of a._ranges)if(e.isEqual(o)){t=!0;break}if(!t)return!1}return!0}isSimilar(a){if(this.isBackward!=a.isBackward)return!1;const e=G(this.getRanges()),t=G(a.getRanges());if(e!=t)return!1;if(0==e)return!0;for(let e of this.getRanges()){e=e.getTrimmed();let t=!1;for(let o of a.getRanges())if(o=o.getTrimmed(),e.start.isEqual(o.start)&&e.end.isEqual(o.end)){t=!0;break}if(!t)return!1}return!0}getSelectedElement(){if(1!==this.rangeCount)return null;const n=this.getFirstRange(),e=n.start.nodeAfter,t=n.end.nodeBefore;return e instanceof Pd&&e==t?e:null}_setTo(a,e,t){if(null===a)this._setRanges([]),this._setFakeOptions(e);else if(a instanceof kc)this._setRanges(a.getRanges(),a.isBackward),this._setFakeOptions({fake:a.isFake,label:a.fakeSelectionLabel});else if(a instanceof _c)this._setRanges([a],e&&e.backward),this._setFakeOptions(e);else if(a instanceof bc)this._setRanges([new _c(a)]),this._setFakeOptions(e);else if(a instanceof xd){const r=!!t&&!!t.backward;let n;if(void 0===e)throw new Ga('view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.');else n='in'==e?_c.createIn(a):'on'==e?_c.createOn(a):_c.createCollapsedAt(a,e);this._setRanges([n],r),this._setFakeOptions(t)}else if(v(a))this._setRanges(a,e&&e.backward),this._setFakeOptions(e);else throw new Ga('view-selection-setTo-not-selectable: Cannot set selection to given place.');this.fire('change')}_setRanges(n,e=!1){n=Array.from(n),this._ranges=[];for(const t of n)this._addRange(t);this._lastRangeBackward=!!e}_setFocus(n,e){if(null===this.anchor)throw new Ga('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const t=bc.createAt(n,e);if('same'!=t.compareWith(this.focus)){const n=this.anchor;this._ranges.pop(),'before'==t.compareWith(n)?this._addRange(new _c(t,n),!0):this._addRange(new _c(n,t)),this.fire('change')}}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake?t.label||'':''}_addRange(n,e=!1){if(!(n instanceof _c))throw new Ga('view-selection-invalid-range: Invalid Range.');this._pushRange(n),this._lastRangeBackward=!!e}_pushRange(n){for(const o of this._ranges)if(n.isIntersecting(o))throw new Ga('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:n,intersectingRange:o});this._ranges.push(_c.createFromRange(n))}}l(kc,ts);class wc{constructor(t={}){this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(a,e){let t;const r=this._idProperty;if(r in a){if(t=a[r],'string'!=typeof t)throw new Ga('collection-add-invalid-id');if(this.get(t))throw new Ga('collection-add-item-already-exists')}else a[r]=t=ey();if(void 0===e)e=this._items.length;else if(e>this._items.length||0>e)throw new Ga('collection-add-item-invalid-index');return this._items.splice(e,0,a),this._itemMap.set(t,a),this.fire('add',a,e),this}get(n){let o;if('string'==typeof n)o=this._itemMap.get(n);else if('number'==typeof n)o=this._items[n];else throw new Ga('collection-get-invalid-arg: Index or id must be given.');return o||null}getIndex(n){let o;return o='string'==typeof n?this._itemMap.get(n):n,this._items.indexOf(o)}remove(s){let d=!1,t,o,n;const l=this._idProperty;if('string'==typeof s?(o=s,n=this._itemMap.get(o),d=!n,n&&(t=this._items.indexOf(n))):'number'==typeof s?(t=s,n=this._items[t],d=!n,n&&(o=n[l])):(n=s,o=n[l],t=this._items.indexOf(n),d=-1==t||!this._itemMap.get(o)),d)throw new Ga('collection-remove-404: Item not found.');this._items.splice(t,1),this._itemMap.delete(o);const r=this._bindToInternalToExternalMap.get(n);return this._bindToInternalToExternalMap.delete(n),this._bindToExternalToInternalMap.delete(r),this.fire('remove',n,t),n}map(n,e){return this._items.map(n,e)}find(n,e){return this._items.find(n,e)}filter(n,e){return this._items.filter(n,e)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(t){if(this._bindToCollection)throw new Ga('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=t,{as:(n)=>{this._setUpBindToBinding((e)=>new n(e))},using:(n)=>{'function'==typeof n?this._setUpBindToBinding((e)=>n(e)):this._setUpBindToBinding((e)=>e[n])}}}_setUpBindToBinding(a){const s=this._bindToCollection,e=(e,t,n)=>{const o=s._bindToCollection==this,r=s._bindToInternalToExternalMap.get(t);if(o&&r)this._bindToExternalToInternalMap.set(t,r),this._bindToInternalToExternalMap.set(r,t);else{const e=a(t);if(!e)return void this._skippedIndexesFromExternal.push(n);let i=n;for(const t of this._skippedIndexesFromExternal)n>t&&i--;for(const t of s._skippedIndexesFromExternal)i>=t&&i++;this._bindToExternalToInternalMap.set(t,e),this._bindToInternalToExternalMap.set(e,t),this.add(e,i);for(let t=0;t<s._skippedIndexesFromExternal.length;t++)i<=s._skippedIndexesFromExternal[t]&&s._skippedIndexesFromExternal[t]++}};for(const t of s)e(null,t,s.getIndex(t));this.listenTo(s,'add',e),this.listenTo(s,'remove',(a,e,r)=>{const t=this._bindToExternalToInternalMap.get(e);t&&this.remove(t),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((n,e)=>(r<e&&n.push(e-1),r>e&&n.push(e),n),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}l(wc,ts);class vc{constructor(){this.selection=new kc,this.roots=new wc({idProperty:'rootName'}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.set('isComposing',!1),this._postFixers=new Set}getRoot(t='main'){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}_callPostFixers(n){let e=!1;do for(const t of this._postFixers)if(e=t(n),e)break;while(e)}}l(vc,mc);const yc=10;class xc extends Pd{constructor(n,e,t){super(n,e,t),this._priority=yc,this.getFillerOffset=Y}get priority(){return this._priority}is(n,e=null){return e?'attributeElement'==n&&e==this.name||super.is(n,e):'attributeElement'==n||super.is(n)}isSimilar(t){return super.isSimilar(t)&&this.priority==t.priority}_clone(n){const e=super._clone(n);return e._priority=this._priority,e}}xc.DEFAULT_PRIORITY=yc;class Cc extends Pd{constructor(n,e,t){super(n,e,t),this.getFillerOffset=J}is(n,e=null){return e?'emptyElement'==n&&e==this.name||super.is(n,e):'emptyElement'==n||super.is(n)}_insertChildren(n,e){if(e&&(e instanceof xd||0<Array.from(e).length))throw new Ga('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}const Ac=navigator.userAgent.toLowerCase(),Tc={isMac:function(t){return-1<t.indexOf('macintosh')}(Ac)};var Pc=Tc;const Ec={"⌘":'ctrl',"⇧":'shift',"⌥":'alt'},Sc={ctrl:'\u2318',shift:'\u21E7',alt:'\u2325'},Oc=function(){const n={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;90>=e;e++){const t=String.fromCharCode(e);n[t.toLowerCase()]=e}for(let e=48;57>=e;e++)n[e-48]=e;for(let e=112;123>=e;e++)n['f'+(e-111)]=e;return n}();class Rc extends Pd{constructor(n,e,t){super(n,e,t),this.getFillerOffset=oe}is(n,e=null){return e?'uiElement'==n&&e==this.name||super.is(n,e):'uiElement'==n||super.is(n)}_insertChildren(n,e){if(e&&(e instanceof xd||0<Array.from(e).length))throw new Ga('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}render(t){return this.toDomElement(t)}toDomElement(n){const e=n.createElement(this.name);for(const t of this.getAttributeKeys())e.setAttribute(t,this.getAttribute(t));return e}}class Vc{constructor(t){this._children=[],t&&this._insertChildren(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return'documentFragment'==t}_appendChildren(t){return this._insertChildren(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChildren(a,e){this._fireChange('children',this);let t=0;const o=re(e);for(const n of o)null!==n.parent&&n._remove(),n.parent=this,this._children.splice(a,0,n),a++,t++;return t}_removeChildren(n,e=1){this._fireChange('children',this);for(let t=n;t<n+e;t++)this._children[t].parent=null;return this._children.splice(n,e)}_fireChange(n,e){this.fire('change:'+n,e)}}l(Vc,ts);class Ic{constructor(t){this.document=t}setSelection(n,e,t){this.document.selection._setTo(n,e,t)}setSelectionFocus(n,e){this.document.selection._setFocus(n,e)}createText(t){return new Cd(t)}createAttributeElement(a,e,t){const o=new xc(a,e);return t&&(o._priority=t),o}createContainerElement(n,e){return new Ed(n,e)}createEditableElement(n,e){const t=new pc(n,e);return t._document=this.document,t}createEmptyElement(n,e){return new Cc(n,e)}createUIElement(a,e,t){const o=new Rc(a,e);return t&&(o.render=t),o}setTextData(n,e){e._data=n}setAttribute(n,e,t){t._setAttribute(n,e)}removeAttribute(n,e){e._removeAttribute(n)}addClass(n,e){e._addClass(n)}removeClass(n,e){e._removeClass(n)}setStyle(n,e,t){Ua(n)&&void 0===t&&(t=e),t._setStyle(n,e)}removeStyle(n,e){e._removeStyle(n)}setCustomProperty(n,e,t){t._setCustomProperty(n,e)}removeCustomProperty(n,e){return e._removeCustomProperty(n)}breakAttributes(t){return t instanceof bc?le(t):de(t)}breakContainer(a){const e=a.parent;if(!e.is('containerElement'))throw new Ga('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!e.parent)throw new Ga('view-writer-break-root: Trying to break root element.');if(a.isAtStart)return bc.createBefore(e);if(!a.isAtEnd){const t=e._clone(!1);this.insert(bc.createAfter(e),t);const o=new _c(a,bc.createAt(e,'end')),n=new bc(t,0);this.move(o,n)}return bc.createAfter(e)}mergeAttributes(a){const e=a.offset,r=a.parent;if(r.is('text'))return a;if(r.is('attributeElement')&&0===r.childCount){const n=r.parent,e=r.index;return r._remove(),this.mergeAttributes(new bc(n,e))}const t=r.getChild(e-1),o=r.getChild(e);if(!t||!o)return a;if(t.is('text')&&o.is('text'))return me(t,o);if(t.is('attributeElement')&&o.is('attributeElement')&&t.isSimilar(o)){const n=t.childCount;return t._appendChildren(o.getChildren()),o._remove(),this.mergeAttributes(new bc(t,n))}return a}mergeContainers(a){const e=a.nodeBefore,r=a.nodeAfter;if(!e||!r||!e.is('containerElement')||!r.is('containerElement'))throw new Ga('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');const s=e.getChild(e.childCount-1),n=s instanceof Cd?bc.createAt(s,'end'):bc.createAt(e,'end');return this.move(_c.createIn(r),bc.createAt(e,'end')),this.remove(_c.createOn(r)),n}insert(s,e){e=v(e)?[...e]:[e],ge(e);const t=se(s);if(!t)throw new Ga('view-writer-invalid-position-container');const d=le(s,!0),n=t._insertChildren(d.offset,e),i=d.getShiftedBy(n),r=this.mergeAttributes(d);if(0===n)return new _c(r,r);else{r.isEqual(d)||i.offset--;const t=this.mergeAttributes(i);return new _c(r,t)}}remove(s){if(be(s),s.isCollapsed)return new Vc;const{start:e,end:t}=de(s,!0),o=e.parent,n=t.offset-e.offset,i=o._removeChildren(e.offset,n),r=this.mergeAttributes(e);return s.start=r,s.end=bc.createFromPosition(r),new Vc(i)}clear(a,r){be(a);const e=a.getWalker({direction:'backward',ignoreElementEnd:!0});for(const t of e){const n=t.item;let o;if(n.is('element')&&r.isSimilar(n))o=_c.createOn(n);else if(!t.nextPosition.isAfter(a.start)&&n.is('textProxy')){const t=n.getAncestors().find((t)=>t.is('element')&&r.isSimilar(t));t&&(o=_c.createIn(t))}o&&(o.end.isAfter(a.end)&&(o.end=a.end),o.start.isBefore(a.start)&&(o.start=a.start),this.remove(o))}}move(a,e){let t;if(e.isAfter(a.end)){e=le(e,!0);const o=e.parent,n=o.childCount;a=de(a,!0),t=this.remove(a),e.offset+=o.childCount-n}else t=this.remove(a);return this.insert(e,t)}wrap(a,e){if(!(e instanceof xc))throw new Ga('view-writer-wrap-invalid-attribute');if(be(a),!a.isCollapsed)return this._wrapRange(a,e);else{let t=a.start;t.parent.is('element')&&!ie(t.parent)&&(t=t.getLastMatchingPosition((t)=>t.item.is('uiElement'))),t=this._wrapPosition(t,e);const o=this.document.selection;return o.isCollapsed&&o.getFirstPosition().isEqual(a.start)&&this.setSelection(t),new _c(t)}}unwrap(d,l){if(!(l instanceof xc))throw new Ga('view-writer-unwrap-invalid-attribute');if(be(d),d.isCollapsed)return d;const{start:c,end:o}=de(d,!0);if(o.isEqual(c.getShiftedBy(1))){const t=c.nodeAfter;if(!l.isSimilar(t)&&t instanceof xc&&this._unwrapAttributeElement(l,t)){const n=this.mergeAttributes(c);n.isEqual(c)||o.offset--;const e=this.mergeAttributes(o);return new _c(n,e)}}const e=c.parent,t=this._unwrapChildren(e,c.offset,o.offset,l),n=this.mergeAttributes(t.start);n.isEqual(t.start)||t.end.offset--;const a=this.mergeAttributes(t.end);return new _c(n,a)}rename(n,e){const t=new Ed(e,n.getAttributes());return this.insert(bc.createAfter(n),t),this.move(_c.createIn(n),bc.createAt(t)),this.remove(_c.createOn(n)),t}_wrapChildren(d,s,t,e){let n=s;const l=[];for(;n<t;){const r=d.getChild(n),t=r.is('text'),o=r.is('attributeElement'),a=r.is('emptyElement'),i=r.is('uiElement');if(t||a||i||o&&ce(e,r)){const t=e._clone();r._remove(),t._appendChildren(r),d._insertChildren(n,t),l.push(new bc(d,n))}else o&&this._wrapChildren(r,0,r.childCount,e);n++}let o=0;for(const n of l){if(n.offset-=o,n.offset==s)continue;const a=this.mergeAttributes(n);a.isEqual(n)||(o++,t--)}return _c.createFromParentsAndOffsets(d,s,d,t)}_unwrapChildren(s,d,l,e){let o=d;const c=[];for(;o<l;){const r=s.getChild(o);if(r.isSimilar(e)){const e=r.getChildren(),t=r.childCount;r._remove(),s._insertChildren(o,e),c.push(new bc(s,o),new bc(s,o+t)),o+=t,l+=t-1}else r.is('attributeElement')&&this._unwrapChildren(r,0,r.childCount,e),o++}let t=0;for(const n of c){if(n.offset-=t,n.offset==d||n.offset==l)continue;const o=this.mergeAttributes(n);o.isEqual(n)||(t++,l--)}return _c.createFromParentsAndOffsets(s,d,s,l)}_wrapRange(d,c){if(fe(d)&&this._wrapAttributeElement(c,d.start.parent)){const e=d.start.parent,t=this.mergeAttributes(bc.createAfter(e)),o=this.mergeAttributes(bc.createBefore(e));return new _c(o,t)}const{start:u,end:o}=de(d,!0);if(o.isEqual(u.getShiftedBy(1))){const t=u.nodeAfter;if(t instanceof xc&&this._wrapAttributeElement(c,t)){const n=this.mergeAttributes(u);n.isEqual(u)||o.offset--;const e=this.mergeAttributes(o);return new _c(n,e)}}const e=u.parent,t=this._unwrapChildren(e,u.offset,o.offset,c),n=this._wrapChildren(e,t.start.offset,t.end.offset,c),a=this.mergeAttributes(n.start);a.isEqual(n.start)||n.end.offset--;const r=this.mergeAttributes(n.end);return new _c(a,r)}_wrapPosition(s,e){if(e.isSimilar(s.parent))return ue(bc.createFromPosition(s));s.parent.is('text')&&(s=pe(s));const t=this.createAttributeElement();t._priority=Va,t.isSimilar=()=>!1,s.parent._insertChildren(s.offset,t);const o=new _c(s,s.getShiftedBy(1));this.wrap(o,e);const n=new bc(t.parent,t.index);t._remove();const i=n.nodeBefore,r=n.nodeAfter;return i instanceof Cd&&r instanceof Cd?me(i,r):ue(n)}_wrapAttributeElement(n,e){if(n.name!==e.name||n.priority!==e.priority)return!1;for(const t of n.getAttributeKeys())if('class'!==t&&'style'!==t&&e.hasAttribute(t)&&e.getAttribute(t)!==n.getAttribute(t))return!1;for(const t of n.getStyleNames())if(e.hasStyle(t)&&e.getStyle(t)!==n.getStyle(t))return!1;for(const t of n.getAttributeKeys())'class'!==t&&'style'!==t&&(e.hasAttribute(t)||this.setAttribute(t,n.getAttribute(t),e));for(const t of n.getStyleNames())e.hasStyle(t)||this.setStyle(t,n.getStyle(t),e);for(const t of n.getClassNames())e.hasClass(t)||this.addClass(t,e);return!0}_unwrapAttributeElement(n,e){if(n.name!==e.name||n.priority!==e.priority)return!1;for(const t of n.getAttributeKeys())if('class'!==t&&'style'!==t&&(!e.hasAttribute(t)||e.getAttribute(t)!==n.getAttribute(t)))return!1;if(!e.hasClass(...n.getClassNames()))return!1;for(const t of n.getStyleNames())if(!e.hasStyle(t)||e.getStyle(t)!==n.getStyle(t))return!1;for(const t of n.getAttributeKeys())'class'!==t&&'style'!==t&&this.removeAttribute(t,e);return this.removeClass(Array.from(n.getClassNames()),e),this.removeStyle(Array.from(n.getStyleNames()),e),!0}}const Fc=[Cd,xc,Ed,Cc,Rc],Nc=(n)=>{const e=n.createElement('br');return e.dataset.ckeFiller=!0,e},Dc=(t)=>t.createTextNode('\xA0'),sy=7;let dy='';for(let o=0;o<sy;o++)dy+='\u200B';const Lc=new WeakMap;class zc{constructor(n,e){this.domDocuments=new Set,this.domConverter=n,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}markToSync(n,e){if('text'===n)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if('attributes'===n)this.markedAttributes.add(e);else if('children'===n)this.markedChildren.add(e);else throw new Ga('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}render(){let n;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent));for(const o of this.markedTexts)!this.markedChildren.has(o.parent)&&this.domConverter.mapViewToDom(o.parent)&&this._updateText(o,{inlineFillerPosition:n});for(const t of this.markedAttributes)this._updateAttrs(t);for(const o of this.markedChildren)this._updateChildren(o,{inlineFillerPosition:n});if(n){const e=this.domConverter.viewPositionToDom(n),t=e.parent.ownerDocument;this._inlineFiller=_e(e.parent)?e.parent:this._addInlineFiller(t,e.parent,e.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_addInlineFiller(a,e,t){const o=e instanceof Array?e:e.childNodes,n=o[t];if(Se(n))return n.data=dy+n.data,n;else{const n=a.createTextNode(dy);return Array.isArray(e)?o.splice(t,0,n):Te(e,t,n),n}}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is('text')?bc.createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(n);return!!(e&&Se(e.parent)&&_e(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!_e(t))throw new Ga('view-renderer-filler-was-lost: The inline filler node was lost.');ke(t)?t.parentNode.removeChild(t):t.data=t.data.substr(sy),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const a=this.selection.getFirstPosition(),e=a.parent,t=a.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is('element'))return!1;if(!Ee(e))return!1;if(t===e.getFillerOffset())return!1;const o=a.nodeBefore,n=a.nodeAfter;return!(o instanceof Cd||n instanceof Cd)}_updateText(s,e){const t=this.domConverter.findCorrespondingDomText(s),o=this.domConverter.viewToDom(s,t.ownerDocument),n=t.data;let i=o.data;const r=e.inlineFillerPosition;r&&r.parent==s.parent&&r.offset==s.index&&(i=dy+i),n!=i&&(t.data=i)}_updateAttrs(a){const e=this.domConverter.mapViewToDom(a),t=Array.from(e.attributes).map((t)=>t.name),r=a.getAttributeKeys();for(const t of r)e.setAttribute(t,a.getAttribute(t));for(const o of t)a.hasAttribute(o)||e.removeAttribute(o)}_updateChildren(u,e){function t(n,e){return!(n!==e)||(Se(n)&&Se(e)?n.data===e.data:!!(ve(n,o.blockFiller)&&ve(e,o.blockFiller)))}const o=this.domConverter,n=o.mapViewToDom(u);if(n){const r=n.ownerDocument,a=e.inlineFillerPosition,s=n.childNodes,l=Array.from(o.viewChildrenToDom(u,r,{bind:!0}));a&&a.parent==u&&this._addInlineFiller(r,l,a.offset);const d=Ce(s,l,t);let c=0;const p=new Set;for(const t of d)'insert'===t?(Te(n,c,l[c]),c++):'delete'===t?(p.add(s[c]),Pe(s[c])):c++;for(const t of p)t.parentNode||this.domConverter.unbindDomElement(t)}}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(a){const e=a.ownerDocument;let t=this._fakeSelectionContainer;t||(this._fakeSelectionContainer=t=e.createElement('div'),Object.assign(t.style,{position:'fixed',top:0,left:'-9999px',width:'42px'}),t.appendChild(e.createTextNode('\xA0'))),t.parentElement||a.appendChild(t),t.firstChild.data=this.selection.fakeSelectionLabel||'\xA0';const o=e.getSelection(),n=e.createRange();o.removeAllRanges(),n.selectNodeContents(t),o.addRange(n),this.domConverter.bindFakeSelection(t,this.selection)}_updateDomSelection(a){const e=a.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(e)){const t=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);a.focus(),e.collapse(t.parent,t.offset),e.extend(o.parent,o.offset)}}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const e=n&&this.domConverter.domSelectionToView(n);return!(e&&this.selection.isEqual(e))&&(this.selection.isCollapsed||!this.selection.isSimilar(e))}_removeDomSelection(){for(const n of this.domDocuments){const e=n.getSelection();if(e.rangeCount){const e=n.activeElement,t=this.domConverter.mapDomToView(e);e&&t&&n.getSelection().removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}l(zc,mc);var jc={window,document};class qc{constructor(t={}){this.blockFiller=t.blockFiller||Nc,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(n,e){this._fakeSelectionMapping.set(n,new kc(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(n,e){this._domToViewMapping.set(n,e),this._viewToDomMapping.set(e,n)}unbindDomElement(n){const e=this._domToViewMapping.get(n);if(e){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(e);for(const e of Array.from(n.childNodes))this.unbindDomElement(e)}}bindDocumentFragments(n,e){this._domToViewMapping.set(n,e),this._viewToDomMapping.set(e,n)}viewToDom(a,e,t={}){if(a.is('text')){const t=this._processDataFromViewText(a);return e.createTextNode(t)}else{if(this.mapViewToDom(a))return this.mapViewToDom(a);let o;if(a.is('documentFragment'))o=e.createDocumentFragment(),t.bind&&this.bindDocumentFragments(o,a);else{if(a.is('uiElement'))return o=a.render(e),t.bind&&this.bindElements(o,a),o;o=e.createElement(a.name),t.bind&&this.bindElements(o,a);for(const e of a.getAttributeKeys())o.setAttribute(e,a.getAttribute(e))}if(t.withChildren||void 0===t.withChildren)for(const n of this.viewChildrenToDom(a,e,t))o.appendChild(n);return o}}*viewChildrenToDom(a,e,t={}){const o=a.getFillerOffset&&a.getFillerOffset();let n=0;for(const i of a.getChildren())o===n&&(yield this.blockFiller(e)),yield this.viewToDom(i,e,t),n++;o===n&&(yield this.blockFiller(e))}viewRangeToDom(a){const e=this.viewPositionToDom(a.start),t=this.viewPositionToDom(a.end),o=document.createRange();return o.setStart(e.parent,e.offset),o.setEnd(t.parent,t.offset),o}viewPositionToDom(a){const e=a.parent;if(e.is('text')){const t=this.findCorrespondingDomText(e);if(!t)return null;let r=a.offset;return _e(t)&&(r+=sy),{parent:t,offset:r}}else{let s,d,l;if(0===a.offset){if(s=this.mapViewToDom(e),!s)return null;l=s.childNodes[0]}else{const e=a.nodeBefore;if(d=e.is('text')?this.findCorrespondingDomText(e):this.mapViewToDom(a.nodeBefore),!d)return null;s=d.parentNode,l=d.nextSibling}if(Se(l)&&_e(l))return{parent:l,offset:sy};const t=d?Ae(d)+1:0;return{parent:s,offset:t}}}domToView(a,e={}){if(ve(a,this.blockFiller))return null;const t=this.getParentUIElement(a,this._domToViewMapping);if(t)return t;if(Se(a)){if(ke(a))return null;else{const e=this._processDataFromDomText(a);return''===e?null:new Cd(e)}}else if(this.isComment(a))return null;else{if(this.mapDomToView(a))return this.mapDomToView(a);let t;if(this.isDocumentFragment(a))t=new Vc,e.bind&&this.bindDocumentFragments(a,t);else{const o=e.keepOriginalCase?a.tagName:a.tagName.toLowerCase();t=new Pd(o),e.bind&&this.bindElements(a,t);const n=a.attributes;for(let o=n.length-1;0<=o;o--)t._setAttribute(n[o].name,n[o].value)}if(e.withChildren||void 0===e.withChildren)for(const o of this.domChildrenToView(a,e))t._appendChildren(o);return t}}*domChildrenToView(a,e={}){for(let t=0;t<a.childNodes.length;t++){const o=a.childNodes[t],n=this.domToView(o,e);null!==n&&(yield n)}}domSelectionToView(a){if(1===a.rangeCount){let e=a.getRangeAt(0).startContainer;Se(e)&&(e=e.parentNode);const t=this.fakeSelectionToView(e);if(t)return t}const e=this.isDomSelectionBackward(a),r=[];for(let e=0;e<a.rangeCount;e++){const t=a.getRangeAt(e),n=this.domRangeToView(t);n&&r.push(n)}return new kc(r,{backward:e})}domRangeToView(n){const e=this.domPositionToView(n.startContainer,n.startOffset),t=this.domPositionToView(n.endContainer,n.endOffset);return e&&t?new _c(e,t):null}domPositionToView(a,e){if(ve(a,this.blockFiller))return this.domPositionToView(a.parentNode,Ae(a));const t=this.mapDomToView(a);if(t&&t.is('uiElement'))return bc.createBefore(t);if(Se(a)){if(ke(a))return this.domPositionToView(a.parentNode,Ae(a));const t=this.findCorrespondingViewText(a);let o=e;return t?(_e(a)&&(o-=sy,o=0>o?0:o),new bc(t,o)):null}if(0===e){const e=this.mapDomToView(a);if(e)return new bc(e,0)}else{const t=a.childNodes[e-1],o=Se(t)?this.findCorrespondingViewText(t):this.mapDomToView(t);if(o&&o.parent)return new bc(o.parent,o.index+1)}return null}mapDomToView(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(n){if(ke(n))return null;const e=this.getParentUIElement(n);if(e)return e;const t=n.previousSibling;if(t){if(!this.isElement(t))return null;const n=this.mapDomToView(t);if(n){const e=n.nextSibling;return e instanceof Cd?n.nextSibling:null}}else{const o=this.mapDomToView(n.parentNode);if(o){const t=o.getChild(0);return t instanceof Cd?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(n){const e=n.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const a=this.mapViewToDom(n);if(a&&a.ownerDocument.activeElement!==a){const{scrollX:t,scrollY:e}=jc.window,r=[];Ne(a,(n)=>{const{scrollLeft:e,scrollTop:t}=n;r.push([e,t])}),a.focus(),Ne(a,(n)=>{const[e,t]=r.shift();n.scrollLeft=e,n.scrollTop=t}),jc.window.scrollTo(t,e)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const e=document.createRange();e.setStart(n.anchorNode,n.anchorOffset),e.setEnd(n.focusNode,n.focusOffset);const t=e.collapsed;return e.detach(),t}getParentUIElement(n){const a=Oe(n);for(a.pop();a.length;){const t=a.pop(),e=this._domToViewMapping.get(t);if(e&&e.is('uiElement'))return e}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}_isDomSelectionPositionCorrect(n,e){if(Se(n)&&_e(n)&&e<sy)return!1;if(this.isElement(n)&&_e(n.childNodes[e]))return!1;const t=this.mapDomToView(n);return!(t&&t.is('uiElement'))}_processDataFromViewText(a){let e=a.data;if(a.getAncestors().some((t)=>this.preElements.includes(t.name)))return e;if(' '==e.charAt(0)){const t=this._getTouchingViewTextNode(a,!1),r=t&&this._nodeEndsWithSpace(t);(r||!t)&&(e='\xA0'+e.substr(1))}if(' '==e.charAt(e.length-1)){const t=this._getTouchingViewTextNode(a,!0);t||(e=e.substr(0,e.length-1)+'\xA0')}return e.replace(/ {2}/g,' \xA0')}_nodeEndsWithSpace(n){if(n.getAncestors().some((t)=>this.preElements.includes(t.name)))return!1;const e=this._processDataFromViewText(n);return' '==e.charAt(e.length-1)}_processDataFromDomText(a){let e=a.data;if(Re(a,this.preElements))return ye(a);e=e.replace(/[ \n\t\r]{1,}/g,' ');const t=this._getTouchingDomTextNode(a,!1),r=this._getTouchingDomTextNode(a,!0);return(!t||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)))&&(e=e.replace(/^ /,'')),r||_e(a)||(e=e.replace(/ $/,'')),e=ye(new Text(e)),e=e.replace(/ \u00A0/g,'  '),(!t||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)))&&(e=e.replace(/^\u00A0/,' ')),r&&'\xA0'!=r.data.charAt(0)||(e=e.replace(/\u00A0( *)$/,' $1')),e}_getTouchingViewTextNode(n,e){const t=new hc({startPosition:e?bc.createAfter(n):bc.createBefore(n),direction:e?'forward':'backward'});for(const o of t){if(o.item.is('containerElement'))return null;if(o.item.is('textProxy'))return o.item}return null}_getTouchingDomTextNode(s,e){if(!s.parentNode)return null;const t=e?'nextNode':'previousNode',o=s.ownerDocument,n=Oe(s)[0],i=o.createTreeWalker(n,NodeFilter.SHOW_TEXT);i.currentNode=s;const r=i[t]();if(null!==r){const e=Ie(s,r);if(e&&!Re(s,this.blockElements,e)&&!Re(r,this.blockElements,e))return r}return null}}const Wc=ac({},ts,{listenTo(n,...e){if(De(n)||Me(n)){const t=this._getProxyEmitter(n)||new Uc(n);t.attach(...e),n=t}ts.listenTo.call(this,n,...e)},stopListening(n,e,t){if(De(n)||Me(n)){const e=this._getProxyEmitter(n);if(!e)return;n=e}ts.stopListening.call(this,n,e,t),n instanceof Uc&&n.detach(e)},_getProxyEmitter(t){return n(this,Ve(t))}});var Hc=Wc;class Uc{constructor(t){ty(this,Ve(t)),this._domNode=t}}ac(Uc.prototype,ts,{attach(n,e,a={}){if(!(this._domListeners&&this._domListeners[n])){const e=this._createDomListener(n,!!a.useCapture);this._domNode.addEventListener(n,e,!!a.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[n]=e}},detach(n){let e;!this._domListeners[n]||(e=this._events[n])&&e.callbacks.length||this._domListeners[n].removeListener()},_createDomListener(n,e){const t=(e)=>{this.fire(n,e)};return t.removeListener=()=>{this._domNode.removeEventListener(n,t,e),delete this._domListeners[n]},t}});class Kc{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}l(Kc,Hc),Fe.prototype.add=Fe.prototype.push=function(t){return this.__data__.set(t,'__lodash_hash_undefined__'),this},Fe.prototype.has=function(t){return this.__data__.has(t)};var $c=Fe,Gc=function(a,e){for(var t=-1,o=a.length;++t<o;)if(e(a[t],t,a))return!0;return!1},Jc=function(h,e,b,o,n,i){var t=2&n,a=h.length,r=e.length;if(a!=r&&!(t&&r>a))return!1;var s=i.get(h);if(s)return s==e;var d=-1,l=!0,c=1&n?new $c:void 0;for(i.set(h,e);++d<a;){var u=h[d],p=e[d];if(o)var m=t?o(p,u,d,e,h,i):o(u,p,d,h,e,i);if(void 0!==m){if(m)continue;l=!1;break}if(c){if(!Gc(e,function(a,e){if(!c.has(e)&&(u===a||b(u,a,o,n,i)))return c.add(e)})){l=!1;break}}else if(!(u===p||b(u,p,o,n,i))){l=!1;break}}return i['delete'](h),l},Qc=ad?ad.prototype:void 0,Yc=Qc?Qc.valueOf:void 0,Xc=function(c,u,p,o,n,i,r){switch(p){case'[object DataView]':if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case'[object ArrayBuffer]':return!!(c.byteLength==u.byteLength&&o(new $l(c),new $l(u)));case'[object Boolean]':case'[object Date]':return+c==+u;case'[object Error]':return c.name==u.name&&c.message==u.message;case'[object Number]':return c==+c?c==+u:u!=+u;case'[object RegExp]':case'[object String]':return c==u+'';case'[object Map]':var a=Xl;case'[object Set]':var s=2&i;if(a||(a=nd),c.size!=u.size&&!s)return!1;var m=r.get(c);return m?m==u:(i|=1,r.set(c,u),Jc(a(c),a(u),o,n,i,r));case'[object Symbol]':if(Yc)return Yc.call(c)==Yc.call(u);}return!1},Zc=2,em={};em['[object Float32Array]']=em['[object Float64Array]']=em['[object Int8Array]']=em['[object Int16Array]']=em['[object Int32Array]']=em['[object Uint8Array]']=em['[object Uint8ClampedArray]']=em['[object Uint16Array]']=em['[object Uint32Array]']=!0,em['[object Arguments]']=em['[object Array]']=em['[object ArrayBuffer]']=em['[object Boolean]']=em['[object DataView]']=em['[object Date]']=em['[object Error]']=em['[object Function]']=em['[object Map]']=em['[object Number]']=em['[object Object]']=em['[object RegExp]']=em['[object Set]']=em['[object String]']=em['[object WeakMap]']=!1;var tm=Object.prototype,om=tm.toString,nm=function(t){return La(t)&&Gs(t.length)&&!!em[om.call(t)]},im='[object Arguments]',rm='[object Array]',am='[object Object]',sm=Object.prototype,lm=sm.hasOwnProperty,dm=function(b,e,t,o,n,i){var r=nl(b),a=nl(e),s=rm,l=rm;r||(s=ql(b),s=s==im?am:s),a||(l=ql(e),l=l==im?am:l);var d=s==am&&!Ba(b),y=l==am&&!Ba(e),m=s==l;if(m&&!d)return i||(i=new Fs),r||nm(b)?Jc(b,e,t,o,n,i):Xc(b,e,s,t,o,n,i);if(!(2&n)){var _=d&&lm.call(b,'__wrapped__'),p=y&&lm.call(e,'__wrapped__');if(_||p){var g=_?b.value():b,f=p?e.value():e;return i||(i=new Fs),t(g,f,o,n,i)}}return!!m&&(i||(i=new Fs),Le(b,e,t,o,n,i))},cm=Be,mm=function(a,e,t){t='function'==typeof t?t:void 0;var r=t?t(a,e):void 0;return void 0===r?cm(a,e,t):!!r};class um extends Kc{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(d){function l(n,e){if(!Array.isArray(n))return n===e||!!(n.is('text')&&e.is('text'))&&n.data===e.data}if(0===d.length)return;const c=this.domConverter,o=new Map,u=new Set;for(const n of d)if('childList'===n.type){const t=c.mapDomToView(n.target);if(t&&t.is('uiElement'))continue;t&&!this._isBogusBrMutation(n)&&u.add(t)}for(const n of d){const t=c.mapDomToView(n.target);if(!(t&&t.is('uiElement'))&&'characterData'===n.type){const t=c.findCorrespondingViewText(n.target);t&&!u.has(t.parent)?o.set(t,{type:'text',oldText:t.data,newText:ye(n.target),node:t}):!t&&_e(n.target)&&u.add(c.mapDomToView(n.target.parentNode))}}const p=[];for(const e of o.values())this.renderer.markToSync('text',e.node),p.push(e);for(const t of u){const o=c.mapViewToDom(t),e=Array.from(t.getChildren()),r=Array.from(c.domChildrenToView(o));mm(e,r,l)||(this.renderer.markToSync('children',t),p.push({type:'children',oldChildren:e,newChildren:r,node:t}))}const n=d[0].target.ownerDocument.getSelection();let a=null;if(n&&n.anchorNode){const o=c.domPositionToView(n.anchorNode,n.anchorOffset),e=c.domPositionToView(n.focusNode,n.focusOffset);o&&e&&(a=new kc(o),a._setFocus(e))}this.document.fire('mutations',p,a),this.view.render()}_isBogusBrMutation(n){let e=null;return null===n.nextSibling&&0===n.removedNodes.length&&1==n.addedNodes.length&&(e=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),e&&e.is('element','br')}}class pm{constructor(n,e,t){this.view=n,this.document=n.document,this.domEvent=e,this.domTarget=e.target,ac(this,t)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class gm extends Kc{constructor(t){super(t),this.useCapture=!1}observe(n){const e='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;e.forEach((e)=>{this.listenTo(n,e,(n,e)=>{this.isEnabled&&this.onDomEvent(e)},{useCapture:this.useCapture})})}fire(n,e,t){this.isEnabled&&this.document.fire(n,new pm(this.view,e,t))}}class fm extends gm{constructor(t){super(t),this.domEventType=['keydown','keyup']}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return Z(this)}})}}var hm=Date.now,bm=hm,_m='Expected a function',km=Fa,wm=Ia,vm=je;class ym extends Kc{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=vm((t)=>this.document.fire('selectionChangeDone',t),200)}observe(){const a=this.document;a.on('keydown',(e,t)=>{const o=a.selection;o.isFake&&ze(t.keyCode)&&this.isEnabled&&(t.preventDefault(),this._handleSelectionMove(t.keyCode))},{priority:'lowest'})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(a){const e=this.document.selection,r=new kc(e.getRanges(),{backward:e.isBackward,fake:!1});(a==Oc.arrowleft||a==Oc.arrowup)&&r._setTo(r.getFirstPosition()),(a==Oc.arrowright||a==Oc.arrowdown)&&r._setTo(r.getLastPosition());const i={oldSelection:e,newSelection:r,domSelection:null};this.document.fire('selectionChange',i),this._fireSelectionChangeDoneDebounced(i)}}const xm={error(n,e){console.error(o(n),e)},warn(n,e){console.warn(o(n),e)}};var Cm=xm;class Am extends Kc{constructor(t){super(t),this.mutationObserver=t.getObserver(um),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=vm((t)=>this.document.fire('selectionChangeDone',t),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(n){const e=n.ownerDocument;this._documents.has(e)||(this.listenTo(e,'selectionchange',()=>{this._handleSelectionChange(e)}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(n){if(this.isEnabled&&(this.document.isFocused||this.document.isReadOnly)){this.mutationObserver.flush();const a=n.defaultView.getSelection(),r=this.domConverter.domSelectionToView(a);if(!(this.selection.isEqual(r)&&this.domConverter.isDomSelectionCorrect(a))){if(60<++this._loopbackCounter)return void Cm.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');if(this.selection.isSimilar(r))this.view.render();else{const n={oldSelection:this.selection,newSelection:r,domSelection:a};this.document.fire('selectionChange',n),this._fireSelectionChangeDoneDebounced(n)}}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class Tm extends gm{constructor(a){super(a),this.domEventType=['focus','blur'],this.useCapture=!0;const e=this.document;e.on('focus',()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout(()=>a.render(),50)}),e.on('blur',(t,o)=>{const n=e.selection.editableElement;(null===n||n===o.target)&&(e.isFocused=!1,a.render())})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Pm extends gm{constructor(n){super(n),this.domEventType=['compositionstart','compositionupdate','compositionend'];const e=this.document;e.on('compositionstart',()=>{e.isComposing=!0}),e.on('compositionend',()=>{e.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}var Em=function(t){return!!t&&1===t.nodeType&&La(t)&&!Ua(t)};class Sm{constructor(n){const a=He(n);if(Object.defineProperty(this,'_source',{value:n._source||n,writable:!0,enumerable:!1}),Em(n)||a){const t=a?n.startContainer:n;t.ownerDocument&&t.ownerDocument.body.contains(t)||Cm.warn('rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.',{source:n}),a?We(this,Sm.getDomRangeRects(n)[0]):We(this,n.getBoundingClientRect())}else if(Me(n)){const{innerWidth:e,innerHeight:a}=n;We(this,{top:0,right:e,bottom:a,left:0,width:e,height:a})}else We(this,n)}clone(){return new Sm(this)}moveTo(n,e){return this.top=e,this.right=n+this.width,this.bottom=e+this.height,this.left=n,this}moveBy(n,e){return this.top+=e,this.right+=n,this.left+=n,this.bottom+=e,this}getIntersection(n){const e={top:Fa(this.top,n.top),right:Ia(this.right,n.right),bottom:Ia(this.bottom,n.bottom),left:Fa(this.left,n.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,0>e.width||0>e.height?null:new Sm(e)}getIntersectionArea(n){const e=this.getIntersection(n);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let a=this.clone();if(!qe(n))for(let t=n.parentNode||n.commonAncestorContainer;t&&!qe(t);){const o=new Sm(t),e=a.getIntersection(o);if(e)e.getArea()<a.getArea()&&(a=e);else return null;t=t.parentNode}return a}isEqual(n){for(const e of Om)if(this[e]!==n[e])return!1;return!0}contains(n){const e=this.getIntersection(n);return!!(e&&e.isEqual(n))}excludeScrollbarsAndBorders(){const a=this._source;let e,t;if(Me(a))e=a.innerWidth-a.document.documentElement.clientWidth,t=a.innerHeight-a.document.documentElement.clientHeight;else{const o=Ue(this._source);e=a.offsetWidth-a.clientWidth,t=a.offsetHeight-a.clientHeight,this.moveBy(o.left,o.top)}return this.width-=e,this.right-=e,this.height-=t,this.bottom-=t,this}static getDomRangeRects(a){const r=[],t=Array.from(a.getClientRects());if(t.length)for(const n of t)r.push(new Sm(n));else{let e=a.startContainer;Se(e)&&(e=e.parentNode);const t=new Sm(e.getBoundingClientRect());t.right=t.left,t.width=0,r.push(t)}return r}}const Om=['top','right','bottom','left','width','height'];Object.assign({},{scrollViewportToShowTarget:$e,scrollAncestorsToShowTarget:function(n){const e=tt(n);Ge(e,()=>new Sm(n))}});class Rm{constructor(){this.document=new vc,this.domConverter=new qc,this._renderer=new zc(this.domConverter,this.document.selection),this._renderer.bind('isFocused').to(this.document),this.domRoots=new Map,this._observers=new Map,this._ongoingChange=!1,this._renderingInProgress=!1,this._postFixersInProgress=!1,this._writer=new Ic(this.document),this.addObserver(um),this.addObserver(Am),this.addObserver(Tm),this.addObserver(fm),this.addObserver(ym),this.addObserver(Pm),we(this),ne(this),this.on('render',()=>{this._render()})}attachDomRoot(n,e='main'){const t=this.document.getRoot(e);t._name=n.tagName.toLowerCase(),this.domRoots.set(e,n),this.domConverter.bindElements(n,t),this._renderer.markToSync('children',t),this._renderer.domDocuments.add(n.ownerDocument),t.on('change:children',(n,e)=>this._renderer.markToSync('children',e)),t.on('change:attributes',(n,e)=>this._renderer.markToSync('attributes',e)),t.on('change:text',(n,e)=>this._renderer.markToSync('text',e));for(const t of this._observers.values())t.observe(n,e)}getDomRoot(t='main'){return this.domRoots.get(t)}addObserver(n){let e=this._observers.get(n);if(e)return e;e=new n(this),this._observers.set(n,e);for(const[t,o]of this.domRoots)e.observe(o,t);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&$e({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t?(this.domConverter.focus(t),this.render()):Cm.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}change(t){if(this._renderingInProgress||this._postFixersInProgress)throw new Ga('cannot-change-view-tree: Attempting to make changes to the view when it is in incorrect state: rendering or post fixers are in progress. This may cause some unexpected behaviour and inconsistency between the DOM and the view.');return this._ongoingChange?void t(this._writer):void(this._ongoingChange=!0,t(this._writer),this._ongoingChange=!1,this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire('render'))}render(){this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.stopListening()}_render(){this._renderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this._renderingInProgress=!1}}l(Rm,mc);class Vm{constructor(t){this.parent=null,this._attrs=rt(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new Ga('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new Ga('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get document(){return this.root==this?null:this.root.document||null}getPath(){const n=[];for(let e=this;e.parent;)n.unshift(e.startOffset),e=e.parent;return n}getAncestors(n={includeSelf:!1,parentFirst:!1}){const e=[];for(let t=n.includeSelf?this:this.parent;t;)e[n.parentFirst?'push':'unshift'](t),t=t.parent;return e}getCommonAncestor(a,e={}){const t=this.getAncestors(e),o=a.getAncestors(e);let n=0;for(;t[n]==o[n]&&t[n];)n++;return 0==n?null:t[n-1]}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=[...this._attrs]),t}_clone(){return new Vm(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,e){this._attrs.set(n,e)}_setAttributesTo(t){this._attrs=rt(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}class Im extends Vm{constructor(n,e){super(e),this._data=n||''}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return'text'==t}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Im(this.data,this.getAttributes())}static fromJSON(t){return new Im(t.data,t.attributes)}}class Fm{constructor(n,e,t){if(this.textNode=n,0>e||e>n.offsetSize)throw new Ga('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>t||e+t>n.offsetSize)throw new Ga('model-textproxy-wrong-length: Given length value is incorrect.');this.data=n.data.substring(e,e+t),this.offsetInText=e}get startOffset(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}get offsetSize(){return this.data.length}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return'textProxy'==t}getPath(){const t=this.textNode.getPath();return 0<t.length&&(t[t.length-1]+=this.offsetInText),t}getAncestors(n={includeSelf:!1,parentFirst:!1}){const e=[];for(let t=n.includeSelf?this:this.parent;t;)e[n.parentFirst?'push':'unshift'](t),t=t.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class Nm{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,e)=>n+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(n){const e=this._nodes.indexOf(n);return-1==e?null:e}getNodeStartOffset(n){const e=this.getNodeIndex(n);return null===e?null:this._nodes.slice(0,e).reduce((n,e)=>n+e.offsetSize,0)}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const e=this._nodes[n];if(!e)throw new Ga('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(e)}offsetToIndex(n){let e=0;for(const t of this._nodes){if(n>=e&&n<e+t.offsetSize)return this.getNodeIndex(t);e+=t.offsetSize}if(e!=n)throw new Ga('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}_insertNodes(n,e){for(const t of e)if(!(t instanceof Vm))throw new Ga('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.');this._nodes.splice(n,0,...e)}_removeNodes(n,e=1){return this._nodes.splice(n,e)}toJSON(){return this._nodes.map((t)=>t.toJSON())}}class Dm extends Vm{constructor(n,e,t){super(e),this.name=n,this._children=new Nm,t&&this._insertChildren(0,t)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(n,e=null){return e?'element'==n&&e==this.name:'element'==n||n==this.name}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(n){let e=this;for(const t of n)e=e.getChild(e.offsetToIndex(t));return e}toJSON(){const n=super.toJSON();if(n.name=this.name,0<this._children.length){n.children=[];for(const e of this._children)n.children.push(e.toJSON())}return n}_clone(n=!1){const e=n?Array.from(this._children).map((t)=>t._clone(!0)):null;return new Dm(this.name,this.getAttributes(),e)}_appendChildren(t){this._insertChildren(this.childCount,t)}_insertChildren(n,e){const t=at(e);for(const o of t)null!==o.parent&&o._remove(),o.parent=this;this._children._insertNodes(n,t)}_removeChildren(n,e=1){const t=this._children._removeNodes(n,e);for(const o of t)o.parent=null;return t}static fromJSON(n){let e=null;if(n.children){e=[];for(const t of n.children)t.name?e.push(Dm.fromJSON(t)):e.push(Im.fromJSON(t))}return new Dm(n.name,n.attributes,e)}}class Mm{constructor(n={}){if(!n.boundaries&&!n.startPosition)throw new Ga('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');const e=n.direction||'forward';if('forward'!=e&&'backward'!=e)throw new Ga('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:e});this.direction=e,this.boundaries=n.boundaries||null,this.position=n.startPosition?ly.createFromPosition(n.startPosition):ly.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(a){let e,r,o,n;do o=this.position,n=this._visitedParent,({done:e,value:r}=this.next());while(!e&&a(r));e||(this.position=o,this._visitedParent=n)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){const s=this.position,d=ly.createFromPosition(this.position),t=this._visitedParent;if(null===t.parent&&d.offset===t.maxOffset)return{done:!0};if(t===this._boundaryEndParent&&d.offset==this.boundaries.end.offset)return{done:!0};const o=d.textNode?d.textNode:d.nodeAfter;if(o instanceof Dm)return this.shallow?d.offset++:(d.path.push(0),this._visitedParent=o),this.position=d,it('elementStart',o,s,d,1);if(o instanceof Im){let n;if(this.singleCharacters)n=1;else{let a=o.endOffset;this._boundaryEndParent==t&&this.boundaries.end.offset<a&&(a=this.boundaries.end.offset),n=a-d.offset}const e=d.offset-o.startOffset,r=new Fm(o,e,n);return d.offset+=n,this.position=d,it('text',r,s,d,n)}return d.path.pop(),d.offset++,this.position=d,this._visitedParent=t.parent,this.ignoreElementEnd?this._next():it('elementEnd',t,s,d)}_previous(){const s=this.position,d=ly.createFromPosition(this.position),t=this._visitedParent;if(null===t.parent&&0===d.offset)return{done:!0};if(t==this._boundaryStartParent&&d.offset==this.boundaries.start.offset)return{done:!0};const o=d.textNode?d.textNode:d.nodeBefore;if(o instanceof Dm)return d.offset--,this.shallow?(this.position=d,it('elementStart',o,s,d,1)):(d.path.push(o.maxOffset),this.position=d,this._visitedParent=o,this.ignoreElementEnd?this._previous():it('elementEnd',o,s,d));if(o instanceof Im){let n;if(this.singleCharacters)n=1;else{let a=o.startOffset;this._boundaryStartParent==t&&this.boundaries.start.offset>a&&(a=this.boundaries.start.offset),n=d.offset-a}const e=d.offset-o.startOffset,r=new Fm(o,e-n,n);return d.offset-=n,this.position=d,it('text',r,s,d,n)}return d.path.pop(),this.position=d,this._visitedParent=t.parent,it('elementStart',t,s,d,1)}}var Bm=function(n){var e=n?n.length:0;return e?n[e-1]:void 0};class ly{constructor(n,e){if(!n.is('element')&&!n.is('documentFragment'))throw new Ga('model-position-root-invalid: Position root invalid.');if(!(e instanceof Array)||0===e.length)throw new Ga('model-position-path-incorrect: Position path must be an array with at least one item.',{path:e});e=n.getPath().concat(e),n=n.root,this.root=n,this.path=e}get offset(){return Bm(this.path)}set offset(t){this.path[this.path.length-1]=t}get parent(){let n=this.root;for(let e=0;e<this.path.length-1;e++)n=n.getChild(n.offsetToIndex(this.path[e]));return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const t=this.parent.getChild(this.index);return t instanceof Im&&t.startOffset<this.offset?t:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(n){if(this.root!=n.root)return'different';const e=$(this.path,n.path);return'same'===e?'same':'prefix'===e?'before':'extension'===e?'after':this.path[e]<n.path[e]?'before':'after'}getLastMatchingPosition(n,e={}){e.startPosition=this;const t=new Mm(e);return t.skip(n),t.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(n){if(this.root!=n.root)return[];const e=$(this.path,n.path),a='string'==typeof e?Ia(this.path.length,n.path.length):e;return this.path.slice(0,a)}getCommonAncestor(a){const e=this.getAncestors(),t=a.getAncestors();let o=0;for(;e[o]==t[o]&&e[o];)o++;return 0==o?null:e[o-1]}getShiftedBy(n){const e=ly.createFromPosition(this),t=e.offset+n;return e.offset=0>t?0:t,e}isAfter(t){return'after'==this.compareWith(t)}isBefore(t){return'before'==this.compareWith(t)}isEqual(t){return'same'==this.compareWith(t)}isTouching(a){let e=null,t=null;const o=this.compareWith(a);switch(o){case'same':return!0;case'before':e=ly.createFromPosition(this),t=ly.createFromPosition(a);break;case'after':e=ly.createFromPosition(a),t=ly.createFromPosition(this);break;default:return!1;}for(let o=e.parent;e.path.length+t.path.length;){if(e.isEqual(t))return!0;if(e.path.length>t.path.length){if(e.offset!==o.maxOffset)return!1;e.path=e.path.slice(0,-1),o=o.parent,e.offset++}else{if(0!==t.offset)return!1;t.path=t.path.slice(0,-1)}}}_getTransformedByDeletion(a,e){const t=ly.createFromPosition(this);if(this.root!=a.root)return t;if('same'==$(a.getParentPath(),this.getParentPath())){if(a.offset<this.offset){if(a.offset+e>this.offset)return null;t.offset-=e}}else if('prefix'==$(a.getParentPath(),this.getParentPath())){const o=a.path.length-1;if(a.offset<=this.path[o]){if(a.offset+e>this.path[o])return null;t.path[o]-=e}}return t}_getTransformedByInsertion(a,e,t){const r=ly.createFromPosition(this);if(this.root!=a.root)return r;if('same'==$(a.getParentPath(),this.getParentPath()))(a.offset<this.offset||a.offset==this.offset&&t)&&(r.offset+=e);else if('prefix'==$(a.getParentPath(),this.getParentPath())){const t=a.path.length-1;a.offset<=this.path[t]&&(r.path[t]+=e)}return r}_getTransformedByMove(a,e,t,o,n){let i=this._getTransformedByDeletion(a,t);return e=e._getTransformedByDeletion(a,t),i=null===i||n&&i.isEqual(a)?this._getCombined(a,e):i._getTransformedByInsertion(e,t,o),i}_getCombined(a,e){const t=a.path.length-1,o=ly.createFromPosition(e);return o.offset=o.offset+this.path[t]-a.offset,o.path=o.path.concat(this.path.slice(t+1)),o}static createAt(n,e){if(n instanceof ly)return this.createFromPosition(n);else{const t=n;if('end'==e)e=t.maxOffset;else{if('before'==e)return this.createBefore(t);if('after'==e)return this.createAfter(t);e||(e=0)}return this.createFromParentAndOffset(t,e)}}static createAfter(t){if(!t.parent)throw new Ga('model-position-after-root: You cannot make a position after root.',{root:t});return this.createFromParentAndOffset(t.parent,t.endOffset)}static createBefore(t){if(!t.parent)throw new Ga('model-position-before-root: You cannot make a position before root.',{root:t});return this.createFromParentAndOffset(t.parent,t.startOffset)}static createFromParentAndOffset(n,e){if(!n.is('element')&&!n.is('documentFragment'))throw new Ga('model-position-parent-incorrect: Position parent have to be a element or document fragment.');const t=n.getPath();return t.push(e),new this(n.root,t)}static createFromPosition(t){return new this(t.root,t.path.slice())}static fromJSON(n,e){if('$graveyard'===n.root)return new ly(e.graveyard,n.path);if(!e.getRoot(n.root))throw new Ga('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:n.root});return new ly(e.getRoot(n.root),n.path)}}class zm{constructor(n,e=null){this.start=ly.createFromPosition(n),this.end=e?ly.createFromPosition(e):ly.createFromPosition(n)}*[Symbol.iterator](){yield*new Mm({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(a,e=!1){a.isCollapsed&&(e=!1);const t=this.containsPosition(a.start)||e&&this.start.isEqual(a.start),o=this.containsPosition(a.end)||e&&this.end.isEqual(a.end);return t&&o}containsItem(n){const e=ly.createBefore(n);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(n){const e=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&e.push(new zm(this.start,n.start)),this.containsPosition(n.end)&&e.push(new zm(n.end,this.end))):e.push(zm.createFromRange(this)),e}getIntersection(n){if(this.isIntersecting(n)){let e=this.start,t=this.end;return this.containsPosition(n.start)&&(e=n.start),this.containsPosition(n.end)&&(t=n.end),new zm(e,t)}return null}getMinimalFlatRanges(){const a=[],e=this.start.getCommonPath(this.end).length,r=ly.createFromPosition(this.start);for(let o=r.parent;r.path.length>e+1;){const e=o.maxOffset-r.offset;0!=e&&a.push(new zm(r,r.getShiftedBy(e))),r.path=r.path.slice(0,-1),r.offset++,o=o.parent}for(;r.path.length<=this.end.path.length;){const e=this.end.path[r.path.length-1],t=e-r.offset;0!=t&&a.push(new zm(r,r.getShiftedBy(t))),r.offset=e,r.path.push(0)}return a}getWalker(t={}){return t.boundaries=this,new Mm(t)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const e=new Mm(n);for(const t of e)yield t.item}*getPositions(n={}){n.boundaries=this;const e=new Mm(n);yield e.position;for(const t of e)yield t.nextPosition}getTransformedByDelta(a){const e=[zm.createFromRange(this)],t=new Set(['insert','move','remove','reinsert']);for(const r of a.operations)if(t.has(r.type))for(let t=0;t<e.length;t++){const n=e[t]._getTransformedByDocumentChange(r.type,a.type,r.targetPosition||r.position,r.howMany||r.nodes.maxOffset,r.sourcePosition);e.splice(t,1,...n),t+=n.length-1}return e}getTransformedByDeltas(n){const a=[zm.createFromRange(this)];for(const t of n)for(let o=0;o<a.length;o++){const e=a[o].getTransformedByDelta(t);a.splice(o,1,...e),o+=e.length-1}for(let t=0;t<a.length;t++){const r=a[t];for(let e=t+1;e<a.length;e++){const t=a[e];(r.containsRange(t)||t.containsRange(r)||r.isEqual(t))&&a.splice(e,1)}}return a}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}_getTransformedByDocumentChange(a,r,s,o,n){if('insert'==a)return this._getTransformedByInsertion(s,o,!1,!1);else{const a=zm.createFromPositionAndShift(n,o);if('merge'==r&&this.isCollapsed&&(this.start.isEqual(a.start)||this.start.isEqual(a.end))){const e=this.start.offset-a.start.offset;return[new zm(s.getShiftedBy(e))]}if('split'==r&&this.isCollapsed&&this.end.isEqual(a.end))return[new zm(s.getShiftedBy(o))];if((a.containsPosition(this.start)||a.start.isEqual(this.start))&&this.containsPosition(a.end)&&this.end.isAfter(s)){const a=this.start._getCombined(n,s._getTransformedByDeletion(n,o)),e=this.end._getTransformedByMove(n,s,o,!1,!1);return[new zm(a,e)]}if((a.containsPosition(this.end)||a.end.isEqual(this.end))&&this.containsPosition(a.start)&&this.start.isBefore(s)){const a=this.start._getTransformedByMove(n,s,o,!0,!1),e=this.end._getCombined(n,s._getTransformedByDeletion(n,o));return[new zm(a,e)]}return this._getTransformedByMove(n,s,o)}}_getTransformedByInsertion(a,e,t=!1,r=!1){if(t&&this.containsPosition(a))return[new zm(this.start,a),new zm(a._getTransformedByInsertion(a,e,!0),this.end._getTransformedByInsertion(a,e,this.isCollapsed))];else{const t=zm.createFromRange(this),o=!!t.isCollapsed||r;return t.start=t.start._getTransformedByInsertion(a,e,!r),t.end=t.end._getTransformedByInsertion(a,e,o),[t]}}_getTransformedByMove(d,e,t){if(this.isCollapsed){const o=this.start._getTransformedByMove(d,e,t,!0,!1);return[new zm(o)]}let o;const n=new zm(d,d.getShiftedBy(t)),i=this.getDifference(n);let r=null;const a=this.getIntersection(n);1==i.length?r=new zm(i[0].start._getTransformedByDeletion(d,t),i[0].end._getTransformedByDeletion(d,t)):2==i.length&&(r=new zm(this.start,this.end._getTransformedByDeletion(d,t)));const s=e._getTransformedByDeletion(d,t);return o=r?r._getTransformedByInsertion(s,t,null!==a):[],a&&o.push(new zm(a.start._getCombined(n.start,s),a.end._getCombined(n.start,s))),o}static createFromPositionAndShift(a,e){const t=a,o=a.getShiftedBy(e);return 0<e?new this(t,o):new this(o,t)}static createFromParentsAndOffsets(a,e,t,o){return new this(ly.createFromParentAndOffset(a,e),ly.createFromParentAndOffset(t,o))}static createFromRange(t){return new this(t.start,t.end)}static createIn(t){return this.createFromParentsAndOffsets(t,0,t,t.maxOffset)}static createOn(t){return this.createFromPositionAndShift(ly.createBefore(t),t.offsetSize)}static createCollapsedAt(a,e){const t=ly.createAt(a,e),o=ly.createFromPosition(t);return new zm(t,o)}static createFromRanges(a){if(0===a.length)throw new Ga('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==a.length)return this.createFromRange(a[0]);const e=a[0];a.sort((n,e)=>n.start.isAfter(e.start)?1:-1);const r=a.indexOf(e),o=new this(e.start,e.end);for(let e=r-1;0<=e&&a[e].end.isEqual(o.start);e++)o.start=ly.createFromPosition(a[e].start);for(let e=r+1;e<a.length&&a[e].start.isEqual(o.end);e++)o.end=ly.createFromPosition(a[e].end);return o}static fromJSON(n,e){return new this(ly.fromJSON(n.start,e),ly.fromJSON(n.end,e))}}class jm{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this.on('modelToViewPosition',(n,o)=>{if(!o.viewPosition){const t=this._modelToViewMapping.get(o.modelPosition.parent);o.viewPosition=this._findPositionIn(t,o.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',(a,e)=>{if(e.modelPosition)return;let t=e.viewPosition.parent,o=this._viewToModelMapping.get(t);for(;!o;)t=t.parent,o=this._viewToModelMapping.get(t);const r=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,t);e.modelPosition=ly.createFromParentAndOffset(o,r)},{priority:'low'})}bindElements(n,e){this._modelToViewMapping.set(n,e),this._viewToModelMapping.set(e,n)}unbindViewElement(n){const e=this.toModelElement(n);this._viewToModelMapping.delete(n),this._modelToViewMapping.get(e)==n&&this._modelToViewMapping.delete(e)}unbindModelElement(n){const e=this.toViewElement(n);this._modelToViewMapping.delete(n),this._viewToModelMapping.get(e)==n&&this._viewToModelMapping.delete(e)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new zm(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new _c(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(n){const o={viewPosition:n,mapper:this};return this.fire('viewToModelPosition',o),o.modelPosition}toViewPosition(n,a={isPhantom:!1}){const t={modelPosition:n,mapper:this,isPhantom:a.isPhantom};return this.fire('modelToViewPosition',t),t.viewPosition}registerViewToModelLength(n,e){this._viewToModelLengthCallbacks.set(n,e)}_toModelOffset(a,e,t){if(t!=a){const o=this._toModelOffset(a.parent,a.index,t),n=this._toModelOffset(a,e,a);return o+n}if(a.is('text'))return e;let o=0;for(let n=0;n<e;n++)o+=this.getModelLength(a.getChild(n));return o}getModelLength(n){if(this._viewToModelLengthCallbacks.get(n.name)){const e=this._viewToModelLengthCallbacks.get(n.name);return e(n)}if(this._viewToModelMapping.has(n))return 1;if(n.is('text'))return n.data.length;if(n.is('uiElement'))return 0;else{let e=0;for(const t of n.getChildren())e+=this.getModelLength(t);return e}}_findPositionIn(a,e){let t=0,o=0,n=0,i;if(a.is('text'))return new bc(a,e);for(;o<e;)i=a.getChild(n),t=this.getModelLength(i),o+=t,n++;return o==e?this._moveViewPositionToTextNode(new bc(a,n)):this._findPositionIn(i,e-(o-t))}_moveViewPositionToTextNode(n){const e=n.nodeBefore,t=n.nodeAfter;return e instanceof Cd?new bc(e,e.data.length):t instanceof Cd?new bc(t,0):n}}l(jm,ts);class qm{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(n,e){e=st(e),n instanceof Fm&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(e,!0)}consume(n,e){return e=st(e),n instanceof Fm&&(n=this._getSymbolForTextProxy(n)),!!this.test(n,e)&&(this._consumable.get(n).set(e,!1),!0)}test(a,e){e=st(e),a instanceof Fm&&(a=this._getSymbolForTextProxy(a));const t=this._consumable.get(a);if(void 0===t)return null;const o=t.get(e);return void 0===o?null:o}revert(n,e){e=st(e),n instanceof Fm&&(n=this._getSymbolForTextProxy(n));const t=this.test(n,e);return!1===t?(this._consumable.get(n).set(e,!0),!0):!0!==t&&null}_getSymbolForTextProxy(a){let e=null;const t=this._textProxyRegistry.get(a.startOffset);if(t){const o=t.get(a.endOffset);o&&(e=o.get(a.parent))}return e||(e=this._addSymbolForTextProxy(a.startOffset,a.endOffset,a.parent)),e}_addSymbolForTextProxy(a,e,t){const o=Symbol('textProxySymbol');let n,i;return n=this._textProxyRegistry.get(a),n||(n=new Map,this._textProxyRegistry.set(a,n)),i=n.get(e),i||(i=new Map,n.set(e,i)),i.set(t,o),o}}class Wm{constructor(t={}){this.conversionApi=ac({dispatcher:this},t)}convertChanges(n,e){for(const t of n.getChanges())'insert'==t.type?this.convertInsert(zm.createFromPositionAndShift(t.position,t.length),e):'remove'==t.type?this.convertRemove(t.position,t.length,t.name,e):this.convertAttribute(t.range,t.attributeKey,t.attributeOldValue,t.attributeNewValue,e);for(const t of n.getMarkersToAdd())this.convertMarkerAdd(t.name,t.range,e)}convertInsert(n,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(n);for(const a of n){const o=a.item,r=zm.createFromPositionAndShift(a.previousPosition,a.length),i={item:o,range:r};this._testAndFire('insert',i);for(const e of o.getAttributeKeys())i.attributeKey=e,i.attributeOldValue=null,i.attributeNewValue=o.getAttribute(e),this._testAndFire(`attribute:${e}`,i)}this._clearConversionApi()}convertRemove(a,r,i,o){this.conversionApi.writer=o,this.fire('remove:'+i,{position:a,length:r},this.conversionApi),this._clearConversionApi()}convertAttribute(a,s,d,l,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createConsumableForRange(a,`attribute:${s}`);for(const c of a){const a=c.item,r=zm.createFromPositionAndShift(c.previousPosition,c.length);this._testAndFire(`attribute:${s}`,{item:a,range:r,attributeKey:s,attributeOldValue:d,attributeNewValue:l})}this._clearConversionApi()}convertSelection(a,r,t){const o=Array.from(r.getMarkersAtPosition(a.getFirstPosition()));if(this.conversionApi.writer=t,this.conversionApi.consumable=this._createSelectionConsumable(a,o),this.fire('selection',{selection:a},this.conversionApi),!!a.isCollapsed){for(const r of o){const t=r.getRange();if(!dt(a.getFirstPosition(),r,this.conversionApi.mapper))continue;const i={item:a,markerName:r.name,markerRange:t};this.conversionApi.consumable.test(a,'addMarker:'+r.name)&&this.fire('addMarker:'+r.name,i,this.conversionApi)}for(const n of a.getAttributeKeys()){const r={item:a,range:a.getFirstRange(),attributeKey:n,attributeOldValue:null,attributeNewValue:a.getAttribute(n)};this.conversionApi.consumable.test(a,'attribute:'+r.attributeKey)&&this.fire('attribute:'+r.attributeKey,r,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(a,r,i){if(r.root.document&&'$graveyard'!=r.root.rootName){this.conversionApi.writer=i;const s='addMarker:'+a;if(r.isCollapsed){const n=new qm;return n.add(r,s),this.conversionApi.consumable=n,void this.fire(s,{markerName:a,markerRange:r},this.conversionApi)}this.conversionApi.consumable=this._createConsumableForRange(r,s);for(const n of r.getItems()){if(!this.conversionApi.consumable.test(n,s))continue;const d={item:n,range:zm.createOn(n),markerName:a,markerRange:r};this.fire(s,d,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(n,a,r){a.root.document&&'$graveyard'!=a.root.rootName&&(this.conversionApi.writer=r,this.fire('removeMarker:'+n,{markerName:n,markerRange:a},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(n){const a=new qm;for(const t of n){const n=t.item;a.add(n,'insert');for(const e of n.getAttributeKeys())a.add(n,'attribute:'+e)}return a}_createConsumableForRange(a,e){const t=new qm;for(const o of a.getItems())t.add(o,e);return t}_createSelectionConsumable(a,e){const t=new qm;t.add(a,'selection');for(const o of e)t.add(a,'addMarker:'+o.name);for(const o of a.getAttributeKeys())t.add(a,'attribute:'+o);return t}_testAndFire(n,e){if(this.conversionApi.consumable.test(e.item,n)){const t=e.item.name||'$text';this.fire(n+':'+t,e,this.conversionApi)}}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}l(Wm,ts);class Hm{constructor(n,e,t){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,n&&this.setTo(n,e,t)}get anchor(){if(0<this._ranges.length){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(0<this._ranges.length){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){const t=this._ranges.length;return 1===t&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(a){if(this.rangeCount!=a.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(a.anchor)||!this.focus.isEqual(a.focus))return!1;for(const e of this._ranges){let t=!1;for(const o of a._ranges)if(e.isEqual(o)){t=!0;break}if(!t)return!1}return!0}*getRanges(){for(const t of this._ranges)yield zm.createFromRange(t)}getFirstRange(){let n=null;for(const o of this._ranges)(!n||o.start.isBefore(n.start))&&(n=o);return n?zm.createFromRange(n):null}getLastRange(){let n=null;for(const o of this._ranges)(!n||o.end.isAfter(n.end))&&(n=o);return n?zm.createFromRange(n):null}getFirstPosition(){const t=this.getFirstRange();return t?ly.createFromPosition(t.start):null}getLastPosition(){const t=this.getLastRange();return t?ly.createFromPosition(t.end):null}setTo(a,e,r){if(null===a)this._setRanges([]);else if(a instanceof Hm)this._setRanges(a.getRanges(),a.isBackward);else if(a&&'function'==typeof a.getRanges)this._setRanges(a.getRanges(),a.isBackward);else if(a instanceof zm)this._setRanges([a],!!e&&!!e.backward);else if(a instanceof ly)this._setRanges([new zm(a)]);else if(a instanceof Vm){const t=!!r&&!!r.backward;let n;if('in'==e)n=zm.createIn(a);else if('on'==e)n=zm.createOn(a);else if(void 0!==e)n=zm.createCollapsedAt(a,e);else throw new Ga('model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.');this._setRanges([n],t)}else if(v(a))this._setRanges(a,e&&!!e.backward);else throw new Ga('model-selection-setTo-not-selectable: Cannot set selection to given place.')}_setRanges(n,e=!1){n=Array.from(n);const a=n.some((n)=>{if(!(n instanceof zm))throw new Ga('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return this._ranges.every((e)=>!e.isEqual(n))});if(n.length!==this._ranges.length||a){this._removeAllRanges();for(const e of n)this._pushRange(e);this._lastRangeBackward=!!e,this.fire('change:range',{directChange:!0})}}setFocus(n,e){if(null===this.anchor)throw new Ga('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const t=ly.createAt(n,e);if('same'!=t.compareWith(this.focus)){const n=this.anchor;this._ranges.length&&this._popRange(),'before'==t.compareWith(n)?(this._pushRange(new zm(t,n)),this._lastRangeBackward=!0):(this._pushRange(new zm(n,t)),this._lastRangeBackward=!1),this.fire('change:range',{directChange:!0})}}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire('change:attribute',{attributeKeys:[t],directChange:!0}))}setAttribute(n,e){this.getAttribute(n)!==e&&(this._attrs.set(n,e),this.fire('change:attribute',{attributeKeys:[n],directChange:!0}))}getSelectedElement(){if(1!==this.rangeCount)return null;const n=this.getFirstRange(),e=n.start.nodeAfter,t=n.end.nodeBefore;return e instanceof Dm&&e==t?e:null}*getSelectedBlocks(){const a=new WeakSet;for(const e of this.getRanges()){const t=ct(e.start,a);t&&(yield t);for(const t of e.getWalker())'elementEnd'==t.type&&lt(t.item,a)&&(yield t.item);const o=ct(e.end,a);o&&!e.end.isTouching(ly.createAt(o))&&(yield o)}}containsEntireContent(n=this.anchor.root){const e=ly.createAt(n),t=ly.createAt(n,'end');return e.isTouching(this.getFirstPosition())&&t.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(zm.createFromRange(t))}_checkRange(n){for(let o=0;o<this._ranges.length;o++)if(n.isIntersecting(this._ranges[o]))throw new Ga('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:n,intersectingRange:this._ranges[o]})}_removeAllRanges(){for(;0<this._ranges.length;)this._popRange()}_popRange(){this._ranges.pop()}}l(Hm,ts);class Um extends zm{constructor(n,e){super(n,e),ut.call(this)}detach(){this.stopListening()}}l(Um,ts);const Km='selection:';class $m{constructor(t){this._selection=new Gm(t),this._selection.delegate('change:range').to(this),this._selection.delegate('change:attribute').to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}_setFocus(n,e){this._selection.setFocus(n,e)}_setTo(n,e,t){this._selection.setTo(n,e,t)}_setAttribute(n,e){this._selection.setAttribute(n,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(t){this._selection.overrideGravity(t)}_restoreGravity(){this._selection.restoreGravity()}static _getStoreAttributeKey(t){return Km+t}static _isStoreAttributeKey(t){return t.startsWith(Km)}}l($m,ts);class Gm extends Hm{constructor(t){super(),this._model=t.model,this._document=t,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityCounter=0,this.on('change:range',()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new Ga('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:t})}),this.listenTo(this._document,'change',(n,e)=>{this._updateAttributes(!1),ft(this._model,e)}),this.listenTo(this._model,'applyOperation',()=>{for(;this._fixGraveyardRangesData.length;){const{liveRange:n,sourcePosition:e}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(n,e)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire('change:range',{directChange:!1}))},{priority:'lowest'})}get isCollapsed(){const t=this._ranges.length;return 0===t?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return 0<this._ranges.length}get isGravityOverridden(){return 0<this._overriddenGravityCounter}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(n,e,t){super.setTo(n,e,t),this._refreshAttributes()}setFocus(n,e){super.setFocus(n,e),this._refreshAttributes()}setAttribute(n,e){this._setAttribute(n,e)&&this.fire('change:attribute',{attributeKeys:[n],directChange:!0})}removeAttribute(t){this._removeAttribute(t)&&this.fire('change:attribute',{attributeKeys:[t],directChange:!0})}overrideGravity(t){this._overriddenGravityCounter++,1==this._overriddenGravityCounter&&(!t&&this.on('change:range',(n,e)=>{e.directChange&&(this.restoreGravity(),n.off())}),this._updateAttributes())}restoreGravity(){this._overriddenGravityCounter--,this.isGravityOverridden||this._updateAttributes()}_refreshAttributes(){this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const e=this._prepareRange(n);e&&this._ranges.push(e)}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return void Cm.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');const a=Um.createFromRange(n);return a.on('change:range',(r,e,o)=>{this._hasChangedRange=!0,a.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:a,sourcePosition:o.sourcePosition})}),a}_updateAttributes(a){const e=rt(this._getSurroundingAttributes()),r=rt(this.getAttributes());if(a)this._attributePriority=new Map,this._attrs=new Map;else for(const[n,e]of this._attributePriority)'low'==e&&(this._attrs.delete(n),this._attributePriority.delete(n));this._setAttributesTo(e);const o=[];for(const[e,t]of this.getAttributes())r.has(e)&&r.get(e)===t||o.push(e);for(const[e]of r)this.hasAttribute(e)||o.push(e);0<o.length&&this.fire('change:attribute',{attributeKeys:o,directChange:!1})}_setAttribute(a,e,t=!0){const o=t?'normal':'low';if('low'==o&&'normal'==this._attributePriority.get(a))return!1;const n=super.getAttribute(a);return n!==e&&(this._attrs.set(a,e),this._attributePriority.set(a,o),!0)}_removeAttribute(n,e=!0){const t=e?'normal':'low';return('low'!=t||'normal'!=this._attributePriority.get(n))&&(this._attributePriority.set(n,t),!!super.hasAttribute(n))&&(this._attrs.delete(n),!0)}_setAttributesTo(a){const r=new Set;for(const[e,t]of this.getAttributes())a.get(e)!==t&&this._removeAttribute(e,!1);for(const[t,o]of a){const n=this._setAttribute(t,o,!1);n&&r.add(t)}return r}*_getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const e of n.getAttributeKeys())if(e.startsWith(Km)){const t=e.substr(Km.length);yield[t,n.getAttribute(e)]}}_getSurroundingAttributes(){const a=this.getFirstPosition(),e=this._model.schema;let r=null;if(!this.isCollapsed){const t=this.getFirstRange();for(const o of t){if(o.item.is('element')&&e.isObject(o.item))break;'text'==o.type&&null===r&&(r=o.item.getAttributes())}}else{const i=a.textNode?a.textNode:a.nodeBefore,t=a.textNode?a.textNode:a.nodeAfter;if(this.isGravityOverridden||(r=mt(i)),r||(r=mt(t)),!this.isGravityOverridden&&!r)for(let t=i;t&&!r;)t=t.previousSibling,r=mt(t);if(!r)for(let n=t;n&&!r;)n=n.nextSibling,r=mt(n);r||(r=this._getStoredAttributes())}return r}_fixGraveyardSelection(a,e){const t=ly.createFromPosition(e),o=this._model.schema.getNearestSelectionRange(t),n=this._ranges.indexOf(a);if(this._ranges.splice(n,1),a.detach(),o){const t=this._prepareRange(o);this._ranges.splice(n,0,t)}}}var Jm=function(t){return vd(t,!0,!0)};class Qm extends xc{isSimilar(t){return!!t.is('attributeElement')&&this.getCustomProperty('highlightDescriptorId')===t.getCustomProperty('highlightDescriptorId')}}class Ym{constructor(s){this.model=s,this.view=new Rm,this.mapper=new jm,this.downcastDispatcher=new Wm({mapper:this.mapper});const a=this.model.document,t=a.selection,o=this.model.markers;this.listenTo(a,'change',()=>{this.view.change((n)=>{this.downcastDispatcher.convertChanges(a.differ,n),this.downcastDispatcher.convertSelection(t,o,n)})},{priority:'low'}),this.listenTo(this.view.document,'selectionChange',Vt(this.model,this.mapper)),this.downcastDispatcher.on('insert:$text',Ct(),{priority:'lowest'}),this.downcastDispatcher.on('remove',Tt(),{priority:'low'}),this.downcastDispatcher.on('selection',Mt(),{priority:'low'}),this.downcastDispatcher.on('selection',Nt(),{priority:'low'}),this.downcastDispatcher.on('selection',Dt(),{priority:'low'});const d=new Set,i=new Ic(this.view.document);this.listenTo(s,'applyOperation',(e,t)=>{const o=t[0];for(const n of s.markers){if(d.has(n.name))continue;const t=n.getRange();Ft(o,n)&&(d.add(n.name),this.downcastDispatcher.convertMarkerRemove(n.name,t,i),this.model.document.differ.bufferMarkerChange(n.name,t,t))}},{priority:'high'}),this.listenTo(s.markers,'update',(n,e,t)=>{t&&!d.has(e.name)&&(d.add(e.name),this.downcastDispatcher.convertMarkerRemove(e.name,t,i))}),this.listenTo(s,'_change',()=>{d.clear()},{priority:'low'}),this.view.document.roots.bindTo(this.model.document.roots).using((n)=>{if('$graveyard'==n.rootName)return null;const e=new fc(n.name);return e.rootName=n.rootName,e._document=this.view.document,this.mapper.bindElements(n,e),e})}destroy(){this.view.destroy(),this.stopListening()}}l(Ym,mc);class Xm{constructor(n,e=[]){this._editor=n,this._availablePlugins=new Map,this._plugins=new Map;for(const t of e)this._availablePlugins.set(t,t),t.pluginName&&this._availablePlugins.set(t.pluginName,t)}*[Symbol.iterator](){for(const t of this._plugins)'function'==typeof t[0]&&(yield t)}get(t){return this._plugins.get(t)}load(p,f=[]){function t(n){return r.includes(n)||i.get(n)||s.has(n)?void 0:o(n).catch((o)=>{throw Cm.error('plugincollection-load: It was not possible to load the plugin.',{plugin:n}),o})}function o(o){return new Promise((d)=>{s.add(o),o.requires&&o.requires.forEach((a)=>{const n=g(a);if(f.includes(n))throw new Ga('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:n,requiredBy:o});t(n)});const n=new o(a);i._add(o,n),l.push(n),d()})}function g(t){return'function'==typeof t?t:i._availablePlugins.get(t)}function e(t){return t.map((t)=>g(t)).filter((t)=>!!t)}const i=this,a=this._editor,s=new Set,l=[],n=e(p),r=e(f),d=function(n){const e=[];for(const t of n)g(t)||e.push(t);return e.length?e:null}(p);if(d){const t='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return Cm.error(t,{plugins:d}),Promise.reject(new Ga(t,{plugins:d}))}return Promise.all(n.map(t)).then(()=>l)}destroy(){const t=Array.from(this).map(([,t])=>t).filter((t)=>'function'==typeof t.destroy).map((t)=>t.destroy());return Promise.all(t)}_add(n,a){this._plugins.set(n,a);const t=n.pluginName;t&&(this._plugins.has(t)?Cm.warn('plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.',{pluginName:t,plugin1:this._plugins.get(t).constructor,plugin2:n}):this._plugins.set(t,a))}}class Zm{constructor(){this._commands=new Map}add(n,e){this._commands.set(n,e)}get(t){return this._commands.get(t)}execute(n,...a){const t=this.get(n);if(!t)throw new Ga('commandcollection-command-not-found: Command does not exist.',{commandName:n});t.execute(...a)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}let eu={};window.CKEDITOR_TRANSLATIONS=window.CKEDITOR_TRANSLATIONS||{},window.CKEDITOR_TRANSLATIONS.add=function(n,e){eu[n]=eu[n]||{},Object.assign(eu[n],e)};class tu{constructor(t){this.language=t||'en',this.t=(...t)=>this._t(...t)}_t(n,a){let e=Bt(this.language,n);return a&&(e=e.replace(/%(\d+)/g,(t,e)=>e<a.length?a[e]:t)),e}}class ou{constructor(){this._consumables=new Map}add(n,e){let t;return n.is('text')||n.is('documentFragment')?void this._consumables.set(n,!0):void(this._consumables.has(n)?t=this._consumables.get(n):(t=new nu,this._consumables.set(n,t)),t.add(e))}test(n,e){const t=this._consumables.get(n);return void 0===t?null:n.is('text')||n.is('documentFragment')?t:t.test(e)}consume(n,e){return!!this.test(n,e)&&(n.is('text')||n.is('documentFragment')?this._consumables.set(n,!1):this._consumables.get(n).consume(e),!0)}revert(n,e){const t=this._consumables.get(n);void 0!==t&&(n.is('text')||n.is('documentFragment')?this._consumables.set(n,!0):t.revert(e))}static consumablesFromElement(a){const e={name:!0,attribute:[],class:[],style:[]},t=a.getAttributeKeys();for(const o of t)'style'!=o&&'class'!=o&&e.attribute.push(o);const r=a.getClassNames();for(const t of r)e.class.push(t);const n=a.getStyleNames();for(const t of n)e.style.push(t);return e}static createFrom(n,e){if(e||(e=new ou),n.is('text'))return e.add(n),e;n.is('element')&&e.add(n,ou.consumablesFromElement(n)),n.is('documentFragment')&&e.add(n);for(const t of n.getChildren())e=ou.createFrom(t,e);return e}}class nu{constructor(){this._canConsumeName=null,this._consumables={attribute:new Map,style:new Map,class:new Map}}add(n){for(const e in n.name&&(this._canConsumeName=!0),this._consumables)e in n&&this._add(e,n[e])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in n){const t=this._test(e,n[e]);if(!0!==t)return t}return!0}consume(n){for(const e in n.name&&(this._canConsumeName=!1),this._consumables)e in n&&this._consume(e,n[e])}revert(n){for(const e in n.name&&(this._canConsumeName=!0),this._consumables)e in n&&this._revert(e,n[e])}_add(a,e){const t=nl(e)?e:[e],o=this._consumables[a];for(const n of t){if('attribute'===a&&('class'===n||'style'===n))throw new Ga('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');o.set(n,!0)}}_test(a,e){const t=nl(e)?e:[e],o=this._consumables[a];for(const n of t)if('attribute'===a&&('class'===n||'style'===n)){const t=this._test(n,[...this._consumables[n].keys()]);if(!0!==t)return t}else{const t=o.get(n);if(void 0===t)return null;if(!t)return!1}return!0}_consume(a,e){const t=nl(e)?e:[e],o=this._consumables[a];for(const n of t)'attribute'===a&&('class'===n||'style'===n)?this._consume(n,[...this._consumables[n].keys()]):o.set(n,!1)}_revert(a,e){const t=nl(e)?e:[e],o=this._consumables[a];for(const n of t)if('attribute'===a&&('class'===n||'style'===n))this._revert(n,[...this._consumables[n].keys()]);else{const t=o.get(n);!1===t&&o.set(n,!0)}}}class iu{constructor(){this._sourceDefinitions={},this.decorate('checkChild'),this.decorate('checkAttribute'),this.on('checkAttribute',(n,e)=>{e[0]=new ru(e[0])},{priority:'highest'}),this.on('checkChild',(n,e)=>{e[0]=new ru(e[0]),e[1]=this.getDefinition(e[1])},{priority:'highest'})}register(n,o){if(this._sourceDefinitions[n])throw new Ga('schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.',{itemName:n});this._sourceDefinitions[n]=[Object.assign({},o)],this._clearCache()}extend(n,o){if(!this._sourceDefinitions[n])throw new Ga('schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.',{itemName:n});this._sourceDefinitions[n].push(Object.assign({},o)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(n){let o;return o='string'==typeof n?n:n.is&&(n.is('text')||n.is('textProxy'))?'$text':n.name,this.getDefinitions()[o]}isRegistered(t){return!!this.getDefinition(t)}isBlock(n){const e=this.getDefinition(n);return!!(e&&e.isBlock)}isLimit(n){const e=this.getDefinition(n);return!!(e&&e.isLimit)}isObject(n){const e=this.getDefinition(n);return!!(e&&e.isObject)}checkChild(n,e){return!!e&&this._checkContextMatch(e,n)}checkAttribute(n,e){const t=this.getDefinition(n.last);return!!t&&t.allowAttributes.includes(e)}checkMerge(n,e=null){if(n instanceof ly){const e=n.nodeBefore,t=n.nodeAfter;if(!(e instanceof Dm))throw new Ga('schema-check-merge-no-element-before: The node before the merge position must be an element.');if(!(t instanceof Dm))throw new Ga('schema-check-merge-no-element-after: The node after the merge position must be an element.');return this.checkMerge(e,t)}for(const t of e.getChildren())if(!this.checkChild(n,t))return!1;return!0}addChildCheck(a){this.on('checkChild',(e,[t,o])=>{if(o){const n=a(t,o);'boolean'==typeof n&&(e.stop(),e.return=n)}},{priority:'high'})}addAttributeCheck(a){this.on('checkAttribute',(e,[t,o])=>{const n=a(t,o);'boolean'==typeof n&&(e.stop(),e.return=n)},{priority:'high'})}getLimitElement(n){let e=Array.from(n.getRanges()).reduce((n,e)=>{const t=e.getCommonAncestor();return n?n.getCommonAncestor(t,{includeSelf:!0}):t},null);for(;!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(n,a){if(n.isCollapsed)return this.checkAttribute([...n.getFirstPosition().getAncestors(),'$text'],a);else{const t=n.getRanges();for(const n of t)for(const e of n)if(this.checkAttribute(e.item,a))return!0}return!1}getValidRanges(a,s){const t=[];for(const o of a){let n=o.start,e=o.start;const a=o.end;for(const a of o.getWalker())this.checkAttribute(a.item,s)||(!e.isEqual(n)&&t.push(new zm(e,n)),e=a.nextPosition),n=a.nextPosition;e&&!e.isEqual(a)&&t.push(new zm(e,a))}return t}getNearestSelectionRange(a,r='both'){if(this.checkChild(a,'$text'))return new zm(a);let s,t;('both'==r||'backward'==r)&&(s=new Mm({startPosition:a,direction:'backward'})),('both'==r||'forward'==r)&&(t=new Mm({startPosition:a}));for(const n of no(s,t)){const o=n.walker==s?'elementEnd':'elementStart',e=n.value;if(e.type==o&&this.isObject(e.item))return zm.createOn(e.item);if(this.checkChild(e.nextPosition,'$text'))return new zm(e.nextPosition)}return null}findAllowedParent(n,e){for(let t=e.parent;t;){if(this.checkChild(t,n))return t;if(this.isLimit(t)||this.isObject(t))return null;t=t.parent}return null}removeDisallowedAttributes(n,a){for(const t of n){for(const n of t.getAttributeKeys())this.checkAttribute(t,n)||a.removeAttribute(n,t);t.is('element')&&this.removeDisallowedAttributes(t.getChildren(),a)}}_clearCache(){this._compiledDefinitions=null}_compile(){const a={},e=this._sourceDefinitions,r=Object.keys(e);for(const t of r)a[t]=Ht(e[t],t);for(const e of r)Ut(a,e);for(const e of r)qt(a,e);for(const e of r)$t(a,e),Kt(a,e);for(const e of r)Gt(a,e),Qt(a,e);this._compiledDefinitions=a}_checkContextMatch(a,r,t=r.length-1){const o=r.getItem(t);if(!a.allowIn.includes(o.name))return!1;if(0==t)return!0;else{const n=this.getDefinition(o);return this._checkContextMatch(n,r,t-1)}}}l(iu,mc);class ru{constructor(t){return t instanceof ru?t:void('string'==typeof t?t=[t]:!Array.isArray(t)&&(t=t.getAncestors({includeSelf:!0})),t[0]&&'string'!=typeof t[0]&&t[0].is('documentFragment')&&t.shift(),this._items=t.map(to))}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const e=new ru([n]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map((t)=>t.name)}endsWith(t){return Array.from(this.getNames()).join(' ').endsWith(t)}}class au{constructor(t={}){this._removeIfEmpty=new Set,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this)}convert(a,r,e=['$root']){this.fire('viewCleanup',a),this._modelCursor=ro(e,r),this.conversionApi.writer=r,this.conversionApi.consumable=ou.createFrom(a),this.conversionApi.store={};const{modelRange:t}=this._convertItem(a,this._modelCursor),n=r.createDocumentFragment();if(t){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))r.append(t,n);n.markers=oo(n,r)}return this._modelCursor=null,this._removeIfEmpty.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,n}_convertItem(n,a){const r=Object.assign({viewItem:n,modelCursor:a,modelRange:null});if(n.is('element')?this.fire('element:'+n.name,r,this.conversionApi):n.is('text')?this.fire('text',r,this.conversionApi):this.fire('documentFragment',r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof zm))throw new Ga('view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.');return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(a,e){const t=new zm(e);let r=e;for(const n of Array.from(a.getChildren())){const o=this._convertItem(n,r);o.modelRange instanceof zm&&(t.end=o.modelRange.end,r=o.modelCursor)}return{modelRange:t,modelCursor:r}}_splitToAllowedParent(a,e){const r=this.conversionApi.schema.findAllowedParent(a,e);if(!r)return null;if(r===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(r))return null;const i=this.conversionApi.writer.split(e,r);for(const t of i.range.getPositions())t.isEqual(i.position)||this._removeIfEmpty.add(t.parent);return{position:i.position,cursorParent:i.range.end.parent}}_removeEmptyElements(){let n=!1;for(const e of this._removeIfEmpty)e.isEmpty&&(this.conversionApi.writer.remove(e),this._removeIfEmpty.delete(e),n=!0);n&&this._removeEmptyElements()}}l(au,ts);class su{constructor(n,e){this.model=n,this.processor=e,this.mapper=new jm,this.downcastDispatcher=new Wm({mapper:this.mapper}),this.downcastDispatcher.on('insert:$text',Ct(),{priority:'lowest'}),this.upcastDispatcher=new au({schema:n.schema}),this.upcastDispatcher.on('text',bo(),{priority:'lowest'}),this.upcastDispatcher.on('element',ho(),{priority:'lowest'}),this.upcastDispatcher.on('documentFragment',ho(),{priority:'lowest'}),this.decorate('init')}get(t='main'){return this.stringify(this.model.document.getRoot(t))}stringify(n){const e=this.toView(n);return this.processor.toData(e)}toView(a){const e=zm.createIn(a),t=new Vc,r=new Ic(new vc());if(this.mapper.bindElements(a,t),this.downcastDispatcher.convertInsert(e,r),!a.is('documentFragment')){const n=_o(a);for(const[t,e]of n)this.downcastDispatcher.convertMarkerAdd(t,e,r)}return this.mapper.clearBindings(),t}init(n,e='main'){if(this.model.document.version)throw new Ga('datacontroller-init-document-not-empty: Trying to set initial data to not empty document.');const a=this.model.document.getRoot(e);this.model.enqueueChange('transparent',(e)=>{e.insert(this.parse(n,a),a)})}set(n,e='main'){const a=this.model.document.getRoot(e);this.model.enqueueChange('transparent',(e)=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys()),e.remove(zm.createIn(a)),e.insert(this.parse(n,a),a)})}parse(n,e='$root'){const t=this.processor.toView(n);return this.toModel(t,e)}toModel(n,e='$root'){return this.model.change((t)=>this.upcastDispatcher.convert(n,t,e))}destroy(){}}l(su,mc);class lu{constructor(){this._dispatchersGroups=new Map}register(n,e){if(this._dispatchersGroups.has(n))throw new Ga('conversion-register-group-exists: Trying to register a group name that was already registered.');this._dispatchersGroups.set(n,e)}for(n){const o=this._getDispatchers(n);return{add(t){return ko(o,t),this}}}elementToElement(n){this.for('downcast').add(gt(n));for(const{model:e,view:a}of vo(n))this.for('upcast').add(ao({model:e,view:a,priority:n.priority}))}attributeToElement(n){this.for('downcast').add(ht(n));for(const{model:e,view:a}of vo(n))this.for('upcast').add(io({view:a,model:e,priority:n.priority}))}attributeToAttribute(n){this.for('downcast').add(bt(n));for(const{model:e,view:a}of vo(n))this.for('upcast').add(so({view:a,model:e}))}_getDispatchers(n){const e=this._dispatchersGroups.get(n);if(!e)throw new Ga('conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.');return e}}class du{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion}_validate(){}toJSON(){const t=yd(this,!0);return t.__className=this.constructor.className,delete t.delta,delete t.isDocumentOperation,t}static get className(){return'engine.model.operation.Operation'}static fromJSON(t){return new this(t.baseVersion)}}class cu{constructor(t){this.markers=new Map,this._children=new Nm,t&&this._insertChildren(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return'documentFragment'==t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(n){let e=this;for(const t of n)e=e.getChild(e.offsetToIndex(t));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const n=[];for(const e of this._children)n.push(e.toJSON());return n}static fromJSON(n){const e=[];for(const t of n)t.name?e.push(Dm.fromJSON(t)):e.push(Im.fromJSON(t));return new cu(e)}_appendChildren(t){this._insertChildren(this.childCount,t)}_insertChildren(n,e){const t=wo(e);for(const o of t)null!==o.parent&&o._remove(),o.parent=this;this._children._insertNodes(n,t)}_removeChildren(n,e=1){const t=this._children._removeNodes(n,e);for(const o of t)o.parent=null;return t}}var mu=function(n,e){return cm(n,e)};class uu extends du{constructor(a,e,t,o,n){super(n),this.range=zm.createFromRange(a),this.key=e,this.oldValue=void 0===t?null:t,this.newValue=void 0===o?null:o}get type(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}clone(){return new uu(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new uu(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){for(const t of this.range.getItems()){if(null!==this.oldValue&&!mu(t.getAttribute(this.key),this.oldValue))throw new Ga('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new Ga('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:t,key:this.key})}}_execute(){mu(this.oldValue,this.newValue)||Po(this.range,this.key,this.newValue)}static get className(){return'engine.model.operation.AttributeOperation'}static fromJSON(n,e){return new uu(zm.fromJSON(n.range,e),n.key,n.oldValue,n.newValue,n.baseVersion)}}class pu extends du{constructor(a,e,t,o){super(o),this.sourcePosition=ly.createFromPosition(a),this.howMany=e,this.targetPosition=ly.createFromPosition(t),this.isSticky=!1}get type(){return'move'}clone(){const t=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return t.isSticky=this.isSticky,t}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany),e=new this.constructor(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1);return e.isSticky=this.isSticky,e}_validate(){const a=this.sourcePosition.parent,r=this.targetPosition.parent,i=this.sourcePosition.offset,o=this.targetPosition.offset;if(!a||!r)throw new Ga('move-operation-position-invalid: Source position or target position is invalid.');else if(i+this.howMany>a.maxOffset)throw new Ga('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(a===r&&i<o&&o<i+this.howMany)throw new Ga('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==$(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=i&&this.targetPosition.path[t]<i+this.howMany)throw new Ga('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}}_execute(){To(zm.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}static get className(){return'engine.model.operation.MoveOperation'}static fromJSON(a,e){const t=ly.fromJSON(a.sourcePosition,e),o=ly.fromJSON(a.targetPosition,e),n=new this(t,a.howMany,o,a.baseVersion);return a.isSticky&&(n.isSticky=!0),n}}class gu extends pu{get position(){return this.targetPosition}set position(t){this.targetPosition=t}get type(){return'reinsert'}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new fu(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){if(super._validate(),!this.sourcePosition.root.document)throw new Ga('reinsert-operation-on-detached-item: Cannot reinsert detached item.');if(!this.targetPosition.root.document)throw new Ga('reinsert-operation-to-detached-parent: Cannot reinsert item to detached parent.')}static get className(){return'engine.model.operation.ReinsertOperation'}}class fu extends pu{get type(){return'remove'}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new gu(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){if(super._validate(),!this.sourcePosition.root.document)throw new Ga('remove-operation-on-detached-item: Cannot remove detached item.')}static get className(){return'engine.model.operation.RemoveOperation'}}class hu extends du{constructor(n,e,t){super(t),this.position=ly.createFromPosition(n),this.nodes=new Nm(Eo(e))}get type(){return'insert'}clone(){const t=new Nm([...this.nodes].map((t)=>t._clone(!0)));return new hu(this.position,t,this.baseVersion)}getReversed(){const n=this.position.root.document.graveyard,e=new ly(n,[0]);return new fu(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new Ga('insert-operation-position-invalid: Insertion position is invalid.')}_execute(){const t=this.nodes;this.nodes=new Nm([...t].map((t)=>t._clone(!0))),xo(this.position,t)}static get className(){return'engine.model.operation.InsertOperation'}static fromJSON(a,e){const t=[];for(const o of a.nodes)o.name?t.push(Dm.fromJSON(o)):t.push(Im.fromJSON(o));return new hu(ly.fromJSON(a.position,e),t,a.baseVersion)}}class bu extends du{constructor(a,e,t,o,n){super(n),this.name=a,this.oldRange=e?zm.createFromRange(e):null,this.newRange=t?zm.createFromRange(t):null,this._markers=o}get type(){return'marker'}clone(){return new bu(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}getReversed(){return new bu(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}_execute(){const t=this.newRange?'_set':'_remove';this._markers[t](this.name,this.newRange,!0)}toJSON(){const t=super.toJSON();return delete t._markers,t}static get className(){return'engine.model.operation.MarkerOperation'}static fromJSON(n,e){return new bu(n.name,n.oldRange?zm.fromJSON(n.oldRange,e):null,n.newRange?zm.fromJSON(n.newRange,e):null,e.model.markers,n.baseVersion)}}class _u extends du{get type(){return'noop'}clone(){return new _u(this.baseVersion)}getReversed(){return new _u(this.baseVersion+1)}_execute(){}static get className(){return'engine.model.operation.NoOperation'}}class ku extends du{constructor(a,e,t,o){super(o),this.position=a,this.oldName=e,this.newName=t}get type(){return'rename'}clone(){return new ku(ly.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ku(ly.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof Dm))throw new Ga('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(t.name!==this.oldName)throw new Ga('rename-operation-wrong-name: Element to change has different name than operation\'s old name.')}_execute(){const t=this.position.nodeAfter;t.name=this.newName}static get className(){return'engine.model.operation.RenameOperation'}static fromJSON(n,e){return new ku(ly.fromJSON(n.position,e),n.oldName,n.newName,n.baseVersion)}}class wu extends du{constructor(a,e,t,o,n){super(n),this.root=a,this.key=e,this.oldValue=t,this.newValue=o}get type(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}clone(){return new wu(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new wu(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is('documentFragment'))throw new Ga('rootattribute-operation-not-a-root: The element to change is not a root element.',{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new Ga('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new Ga('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key})}_execute(){null===this.newValue?this.root._removeAttribute(this.key):this.root._setAttribute(this.key,this.newValue)}static get className(){return'engine.model.operation.RootAttributeOperation'}static fromJSON(n,o){if(!o.getRoot(n.root))throw new Ga('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:n});return new wu(o.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}const vu={};vu[uu.className]=uu,vu[hu.className]=hu,vu[bu.className]=bu,vu[pu.className]=pu,vu[_u.className]=_u,vu[du.className]=du,vu[gu.className]=gu,vu[fu.className]=fu,vu[ku.className]=ku,vu[wu.className]=wu;class yu{static fromJSON(n,e){return vu[n.__className].fromJSON(n,e)}}const xu=new Map;class Cu{static fromJSON(a,e){if(!xu.has(a.__className))throw new Ga('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:a.__className});const t=xu.get(a.__className),r=new t;for(const t of a.operations)r.addOperation(yu.fromJSON(t,e));for(const t in a)'__className'!=t&&void 0===r[t]&&(r[t]=a[t]);return r}static register(t){xu.set(t.className,t)}}class Au{constructor(){this.batch=null,this.operations=[]}get baseVersion(){return 0<this.operations.length?this.operations[0].baseVersion:null}set baseVersion(n){for(const e of this.operations)e.baseVersion=n++}get _reverseDeltaClass(){return Au}addOperation(t){return t.delta=this,this.operations.push(t),t}clone(){const n=new this.constructor;for(const e of this.operations)n.addOperation(e.clone());return n}getReversed(){const n=new this._reverseDeltaClass;for(const e of this.operations)n.addOperation(e.getReversed());n.operations.reverse();for(let e=0;e<n.operations.length;e++)n.operations[e].baseVersion=this.operations[this.operations.length-1].baseVersion+e+1;return n}toJSON(){const t=yd(this);return t.__className=this.constructor.className,delete t.batch,t}static get className(){return'engine.model.delta.Delta'}}Cu.register(Au);class Tu extends Au{get type(){return'attribute'}get key(){return this.operations[0]?this.operations[0].key:null}get value(){return this.operations[0]?this.operations[0].newValue:null}get range(){if(this._range)return this._range;let n=null,e=null;for(const t of this.operations)t instanceof _u||((null===n||n.isAfter(t.range.start))&&(n=t.range.start),(null===e||e.isBefore(t.range.end))&&(e=t.range.end));return n&&e?(this._range=new zm(n,e),this._range):null}get _reverseDeltaClass(){return Tu}toJSON(){const t=super.toJSON();return delete t._range,t}static get className(){return'engine.model.delta.AttributeDelta'}}Cu.register(Tu);class Pu extends Au{get type(){return'split'}get position(){return this._moveOperation?this._moveOperation.sourcePosition:null}get _cloneOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]&&this.operations[1]instanceof pu?this.operations[1]:null}get _reverseDeltaClass(){return Eu}static get className(){return'engine.model.delta.SplitDelta'}}Cu.register(Pu);class Eu extends Au{get type(){return'merge'}get position(){return this._removeOperation?this._removeOperation.sourcePosition:null}get _removeOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return Pu}static get className(){return'engine.model.delta.MergeDelta'}}Cu.register(Eu);class Su extends Au{get type(){return'move'}get howMany(){return this._moveOperation?this._moveOperation.howMany:null}get sourcePosition(){return this._moveOperation?this._moveOperation.sourcePosition:null}get targetPosition(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return Su}static get className(){return'engine.model.delta.MoveDelta'}}Cu.register(Su);class Ou extends Su{static get className(){return'engine.model.delta.RemoveDelta'}}Cu.register(Ou);class Ru extends Au{get type(){return'rename'}get _reverseDeltaClass(){return Ru}static get className(){return'engine.model.delta.RenameDelta'}}Cu.register(Ru);class Vu extends Au{get type(){return'wrap'}get range(){const t=this._moveOperation;return t?zm.createFromPositionAndShift(t.sourcePosition,t.howMany):null}get howMany(){const t=this.range;return t?t.end.offset-t.start.offset:0}get _insertOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return Iu}static get className(){return'engine.model.delta.WrapDelta'}}Cu.register(Vu);class Iu extends Au{get type(){return'unwrap'}get position(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return Vu}static get className(){return'engine.model.delta.UnwrapDelta'}}Cu.register(Iu);class Fu extends Au{get type(){return'insert'}get position(){return this._insertOperation?this._insertOperation.position:null}get nodes(){return this._insertOperation?this._insertOperation.nodes:null}get _insertOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return Ou}static get className(){return'engine.model.delta.InsertDelta'}}Cu.register(Fu);class Nu extends Fu{static get className(){return'engine.model.delta.WeakInsertDelta'}}Cu.register(Nu);var Du=function(a,e,t={isStrong:!1}){let o,n;a instanceof hu?o=Mu.InsertOperation:a instanceof uu?o=Mu.AttributeOperation:a instanceof wu?o=Mu.RootAttributeOperation:a instanceof ku?o=Mu.RenameOperation:a instanceof bu?o=Mu.MarkerOperation:a instanceof pu?o=Mu.MoveOperation:n=Ro,o&&(e instanceof hu?n=o.InsertOperation:e instanceof uu?n=o.AttributeOperation:e instanceof wu?n=o.RootAttributeOperation:e instanceof ku?n=o.RenameOperation:e instanceof bu?n=o.MarkerOperation:e instanceof pu?n=o.MoveOperation:n=Ro);const i=n(a,e,t);return Vo(a.baseVersion,i)};const Mu={InsertOperation:{InsertOperation(a,e,t){const o=a.clone(),n=void 0===t.insertBefore?!t.isStrong:t.insertBefore;return o.position=o.position._getTransformedByInsertion(e.position,e.nodes.maxOffset,n),[o]},AttributeOperation:Ro,RootAttributeOperation:Ro,RenameOperation:Ro,MarkerOperation:Ro,MoveOperation(a,e,t){const o=a.clone(),n=void 0===t.insertBefore?!t.isStrong:t.insertBefore;return o.position=a.position._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,n,e.isSticky&&!t.forceNotSticky),[o]}},AttributeOperation:{InsertOperation(n,e){const t=n.range._getTransformedByInsertion(e.position,e.nodes.maxOffset,!0,!1);return t.reverse().map((e)=>new uu(e,n.key,n.oldValue,n.newValue,n.baseVersion))},AttributeOperation(a,e,t){if(a.key===e.key){const o=a.range.getDifference(e.range).map((e)=>new uu(e,a.key,a.oldValue,a.newValue,a.baseVersion)),n=a.range.getIntersection(e.range);return n&&(t.isStrong?o.push(new uu(n,e.key,e.newValue,a.newValue,a.baseVersion)):0===o.length&&o.push(new _u(0))),o}return[a.clone()]},RootAttributeOperation:Ro,RenameOperation:Ro,MarkerOperation:Ro,MoveOperation(a,e){const t=zm.createFromPositionAndShift(e.sourcePosition,e.howMany);let o=[];const n=No(a.range.getDifference(t)),i=a.range.getIntersection(t);return null!==n&&(n.start=n.start._getTransformedByDeletion(e.sourcePosition,e.howMany),n.end=n.end._getTransformedByDeletion(e.sourcePosition,e.howMany),o=n._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,!0,!1).reverse()),null!==i&&(i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.push(i)),o.map((e)=>new uu(e,a.key,a.oldValue,a.newValue,a.baseVersion))}},RootAttributeOperation:{InsertOperation:Ro,AttributeOperation:Ro,RootAttributeOperation(n,e,t){return n.root!==e.root||n.key!==e.key||(n.newValue===e.newValue||t.isStrong)&&n.newValue!==e.newValue?[n.clone()]:[new _u(n.baseVersion)]},RenameOperation:Ro,MarkerOperation:Ro,MoveOperation:Ro},RenameOperation:{InsertOperation(n,e){const t=n.clone();return t.position=t.position._getTransformedByInsertion(e.position,e.nodes.maxOffset,!0),[t]},AttributeOperation:Ro,RootAttributeOperation:Ro,RenameOperation(a,e,t){const o=a.clone();if(a.position.isEqual(e.position))if(t.isStrong)o.oldName=e.newName;else return[new _u(a.baseVersion)];return[o]},MarkerOperation:Ro,MoveOperation(a,e){const t=a.clone(),o=t.position.isEqual(e.sourcePosition);return t.position=t.position._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!0,o),[t]}},MarkerOperation:{InsertOperation(n,e){const t=n.clone();return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertion(e.position,e.nodes.maxOffset,!1,!1)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertion(e.position,e.nodes.maxOffset,!1,!1)[0]),[t]},AttributeOperation:Ro,RootAttributeOperation:Ro,RenameOperation:Ro,MarkerOperation(a,e,t){const o=a.clone();if(a.name==e.name)if(t.isStrong)o.oldRange=e.newRange;else return[new _u(a.baseVersion)];return[o]},MoveOperation(n,a){const t=n.clone();if(t.oldRange){const n=t.oldRange._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany);t.oldRange=zm.createFromRanges(n)}if(t.newRange){const n=t.newRange._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany);t.newRange=zm.createFromRanges(n)}return[t]}},MoveOperation:{InsertOperation(s,e,t){let o=zm.createFromPositionAndShift(s.sourcePosition,s.howMany);const n=s.isSticky&&!t.forceNotSticky;o=o._getTransformedByInsertion(e.position,e.nodes.maxOffset,!1,n)[0];const i=void 0===t.insertBefore?!t.isStrong:t.insertBefore,r=new s.constructor(o.start,o.end.offset-o.start.offset,s.targetPosition._getTransformedByInsertion(e.position,e.nodes.maxOffset,i),s.baseVersion);return r.isSticky=s.isSticky,[r]},AttributeOperation:Ro,RootAttributeOperation:Ro,RenameOperation:Ro,MarkerOperation:Ro,MoveOperation(f,h,e){const t=zm.createFromPositionAndShift(f.sourcePosition,f.howMany),n=zm.createFromPositionAndShift(h.sourcePosition,h.howMany);let o=e.isStrong;const i=f.isSticky&&!e.forceNotSticky,b=void 0===e.insertBefore?!o:e.insertBefore,s=f.targetPosition._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany,b,h.isSticky&&!e.forceNotSticky);if(Fo(f,h)&&Fo(h,f))return[h.getReversed()];const l=t.containsPosition(h.targetPosition)||t.start.isEqual(h.targetPosition)&&i||t.end.isEqual(h.targetPosition)&&i;if(l&&t.containsRange(n,!0))return t.start=t.start._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany,!i),t.end=t.end._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany,i),Do([t],s,f);const y=n.containsPosition(f.targetPosition)||n.start.isEqual(f.targetPosition)&&h.isSticky&&!e.forceNotSticky||n.end.isEqual(f.targetPosition)&&h.isSticky&&!e.forceNotSticky;if(y&&n.containsRange(t,!0))return t.start=t.start._getCombined(h.sourcePosition,h.getMovedRangeStart()),t.end=t.end._getCombined(h.sourcePosition,h.getMovedRangeStart()),Do([t],s,f);const c=$(f.sourcePosition.getParentPath(),h.sourcePosition.getParentPath());if('prefix'==c||'extension'==c)return t.start=t.start._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany,!i),t.end=t.end._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany,i),Do([t],s,f);e.forceWeakRemove||(f instanceof fu&&!(h instanceof fu)?o=!0:!(f instanceof fu)&&h instanceof fu&&(o=!1));const m=[],u=t.getDifference(n);for(const t of u){t.start=t.start._getTransformedByDeletion(h.sourcePosition,h.howMany),t.end=t.end._getTransformedByDeletion(h.sourcePosition,h.howMany);const n='same'==$(t.start.getParentPath(),h.getMovedRangeStart().getParentPath()),e=t._getTransformedByInsertion(h.getMovedRangeStart(),h.howMany,n,i);m.push(...e)}const p=t.getIntersection(n);return null!==p&&o&&!l&&(p.start=p.start._getCombined(h.sourcePosition,h.getMovedRangeStart()),p.end=p.end._getCombined(h.sourcePosition,h.getMovedRangeStart()),0===m.length?m.push(p):1==m.length?n.start.isBefore(t.start)||n.start.isEqual(t.start)?m.unshift(p):m.push(p):m.splice(1,0,p)),0===m.length?[new _u(f.baseVersion)]:Do(m,s,f)}}};var Bu=function(a,e,s){var o=-1,n=a.length;0>e&&(e=-e>n?0:n+e),s=s>n?n:s,0>s&&(s+=n),n=e>s?0:s-e>>>0,e>>>=0;for(var i=Array(n);++o<n;)i[o]=a[o+e];return i},ot=Math.ceil,Lu=function(t){return nl(t)||tl(t)},zu=Bo,ju=function(a,e,t){for(var o=a.length,n=e+(t?0:-1),i;t?n--:++n<o;)if(i=a[n],i!==i)return n;return-1},qu=function(a,e,t){if(e!==e)return ju(a,t);for(var o=t-1,n=a.length;++o<n;)if(a[o]===e)return o;return-1},Wu=function(n,e){return!!n.length&&-1<qu(n,e,0)},Hu=function(a,e,t){for(var o=-1,n=a.length;++o<n;)if(t(e,a[o]))return!0;return!1},Uu=function(a,e){for(var t=-1,o=a.length,n=Array(o);++t<o;)n[t]=e(a[t],t,a);return n},Ku=function(n){return function(e){return n(e)}},$u=function(n,e){return n.has(e)},Gu=function(p,e,t,o){var n=-1,i=Wu,r=!0,a=p.length,f=[],l=e.length;if(!a)return f;t&&(e=Uu(e,Ku(t))),o?(i=Hu,r=!1):200<=e.length&&(i=$u,r=!1,e=new $c(e));outer:for(;++n<a;){var d=p[n],c=t?t(d):d;if(d=o||0!==d?d:0,r&&c===c){for(var m=l;m--;)if(e[m]===c)continue outer;f.push(d)}else i(e,c,o)||f.push(d)}return f},Ju=Ud(function(n,e){return Qs(n)?Gu(n,zu(e,1,Qs,!0)):[]}),cy=1,Yu=2,Xu=function(t){return t===t&&!ss(t)},Zu=function(n,e){return Uu(e,function(e){return[e,n[e]]})},ep=function(n){var a=-1,t=Array(n.size);return n.forEach(function(n){t[++a]=[n,n]}),t},tp=function(n){return function(e){var t=ql(e);return'[object Map]'==t?Xl(e):'[object Set]'==t?ep(e):Zu(e,n(e))}}(ul),op=function(n){for(var e=tp(n),t=e.length;t--;)e[t][2]=Xu(e[t][1]);return e},np=function(n,e){return function(t){return null!=t&&t[n]===e&&(void 0!==e||n in Object(t))}},ip=function(n){var e=op(n);return 1==e.length&&e[0][2]?np(e[0][0],e[0][1]):function(t){return t===n||Lo(t,n,e)}},rp='Expected a function';zo.Cache=Is;var ap=ad?ad.prototype:void 0,sp=ap?ap.toString:void 0,lp=function(n){if('string'==typeof n)return n;if(Id(n))return sp?sp.call(n):'';var o=n+'';return'0'==o&&1/n==-(1/0)?'-0':o},dp=function(t){return null==t?'':lp(t)},cp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,mp=/\\(\\)?/g,up=zo(function(n){var a=[];return dp(n).replace(cp,function(t,e,o,n){a.push(o?n.replace(mp,'$1'):e||t)}),a}),pp=function(t){return nl(t)?t:up(t)},gp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fp=/^\w*$/,hp=jo,bp=function(n){if('string'==typeof n||Id(n))return n;var o=n+'';return'0'==o&&1/n==-(1/0)?'-0':o},_p=function(a,e){e=hp(e,a)?[e]:pp(e);for(var t=0,o=e.length;null!=a&&t<o;)a=a[bp(e[t++])];return t&&t==o?a:void 0},kp=function(a,e,t){var o=null==a?void 0:_p(a,e);return void 0===o?t:o},wp=function(s,e,t){e=hp(e,s)?[e]:pp(e);for(var o=-1,n=e.length,d,r;++o<n&&(r=bp(e[o]),!!(d=null!=s&&t(s,r)));)s=s[r];if(d)return d;var n=s?s.length:0;return!!n&&Gs(n)&&dl(r,n)&&(nl(s)||al(s)||tl(s))},vp=function(n,e){return null!=n&&wp(n,e,qo)},yp=function(a,e){return hp(a)&&Xu(e)?np(bp(a),e):function(t){var o=kp(t,a);return void 0===o&&o===e?vp(t,a):cm(e,o,void 0,3)}},xp=function(t){return t},Cp=function(n){return function(e){return _p(e,n)}},Ap=function(t){return hp(t)?Ks(bp(t)):Cp(t)},Tp=function(t){return'function'==typeof t?t:null==t?xp:'object'==typeof t?nl(t)?yp(t[0],t[1]):ip(t):Ap(t)},Pp=Ud(function(n,e){var t=Bm(e);return Qs(t)&&(t=void 0),Qs(n)?Gu(n,zu(e,1,Qs,!0),Tp(t)):[]}),uy=Ud(function(n,e){var t=Bm(e);return Qs(t)&&(t=void 0),Qs(n)?Gu(n,zu(e,1,Qs,!0),void 0,t):[]}),py=function(a,e,t){var o=a?a.length:0;return o?(e=t||void 0===e?1:Wd(e),Bu(a,0>e?0:e,o)):[]},my=function(a,e,t){var o=a?a.length:0;return o?(e=t||void 0===e?1:Wd(e),e=o-e,Bu(a,0,0>e?0:e)):[]},fy=function(a,e,t,o){for(var n=a.length,i=o?n:-1;(o?i--:++i<n)&&e(a[i],i,a););return t?Bu(a,o?0:i,o?i+1:n):Bu(a,o?i+1:0,o?n:i)},Vp=function(n,e,t){return n===n&&(void 0!==t&&(n=n<=t?n:t),void 0!==e&&(n=n>=e?n:e)),n},Ip=function(t){return t?Vp(Wd(t),0,4294967295):0},Fp=function(a,e,t,r){var n=a.length;for(t=Wd(t),0>t&&(t=-t>n?0:n+t),r=void 0===r||r>n?n:Wd(r),0>r&&(r+=n),r=t>r?0:Ip(r);t<r;)a[t++]=e;return a},Np=function(a,e,t){for(var o=a.length,n=t?o:-1;t?n--:++n<o;)if(e(a[n],n,a))return n;return-1},Dp=function(t){return t&&t.length?t[0]:void 0},gy=function(h,e,t){for(var b=t?Hu:Wu,n=h[0].length,i=h.length,r=i,a=Array(i),s=Infinity,l=[],d;r--;)d=h[r],r&&e&&(d=Uu(d,Ku(e))),s=Ia(d.length,s),a[r]=!t&&(e||120<=n&&120<=d.length)?new $c(r&&d):void 0;d=h[0];var c=-1,m=a[0];outer:for(;++c<n&&l.length<s;){var u=d[c],p=e?e(u):u;if(u=t||0!==u?u:0,m?!$u(m,p):!b(l,p,t)){for(r=i;--r;){var g=a[r];if(g?!$u(g,p):!b(h[r],p,t))continue outer}m&&m.push(p),l.push(u)}}return l},Bp=function(t){return Qs(t)?t:[]},Lp=Ud(function(n){var e=Uu(n,Bp);return e.length&&e[0]===n[0]?gy(e):[]}),hy=Ud(function(n){var e=Bm(n),t=Uu(n,Bp);return e===Bm(t)?e=void 0:t.pop(),t.length&&t[0]===n[0]?gy(t,Tp(e)):[]}),by=Ud(function(n){var e=Bm(n),t=Uu(n,Bp);return e===Bm(t)?e=void 0:t.pop(),t.length&&t[0]===n[0]?gy(t,void 0,e):[]}),yy=Array.prototype,Wp=yy.join,Hp=function(n,e){var t=n.length;if(t)return e+=0>e?t:0,dl(e,t)?n[e]:void 0},Up=function(a,e,t,o){for(var n=t-1,i=a.length;++n<i;)if(o(a[n],e))return n;return-1},Kp=Array.prototype,$p=Kp.splice,Gp=function(u,e,t,o){var n=o?Up:qu,i=-1,r=e.length,a=u;for(t&&(a=Uu(u,Ku(t)));++i<r;)for(var s=0,l=e[i],d=t?t(l):l;-1<(s=n(a,d,s,o));)a!==u&&$p.call(a,s,1),$p.call(u,s,1);return u},Jp=function(n,e){return n&&n.length&&e&&e.length?Gp(n,e):n},_y=Ud(Jp),ky=function(a,e){for(var t=-1,o=e.length,n=Array(o);++t<o;)n[t]=null==a?void 0:kp(a,e[t]);return n},Xp=function(n,e){return 1==e.length?n:_p(n,Bu(e,0,-1))},Zp=Array.prototype,eg=Zp.splice,tg=function(d,e){for(var t=d?e.length:0,o=t-1,n;t--;)if(n=e[t],t==o||n!==i){var i=n;if(dl(n))eg.call(d,n,1);else if(!hp(n,d)){var r=pp(n),a=Xp(d,r);null!=a&&delete a[bp(Bm(r))]}else delete d[bp(n)]}return d},og=function(c,e){if(c!==e){var t=void 0!==c,u=null===c,p=c===c,m=Id(c),f=void 0!==e,g=null===e,h=e===e,b=Id(e);if(!g&&!b&&!m&&c>e||m&&f&&h&&!g&&!b||u&&f&&h||!t&&h||!p)return 1;if(!u&&!m&&!b&&c<e||b&&t&&p&&!u&&!m||g&&t&&p||!f&&p||!h)return-1}return 0},ng=Ud(function(a,e){e=zu(e,1);var t=a?a.length:0,o=ky(a,e);return tg(a,Uu(e,function(n){return dl(n,t)?+n:n}).sort(og)),o}),vy=Array.prototype,rg=vy.reverse,ag=function(b,e,t,o){e=t(e);for(var n=0,i=b?b.length:0,r=e!==e,a=null===e,s=Id(e),l=void 0===e;n<i;){var d=Na((n+i)/2),c=t(b[d]),m=void 0!==c,u=null===c,y=c===c,g=Id(c);if(r)var _=o||y;else _=l?y&&(o||m):a?y&&m&&(o||!u):s?y&&m&&!u&&(o||!g):!(u||g)&&(o?c<=e:c<e);_?n=d+1:i=d}return Ia(i,4294967294)},sg=function(s,e,d){var o=0,n=s?s.length:o;if('number'==typeof e&&e===e&&n<=2147483647){for(;o<n;){var i=o+n>>>1,r=s[i];null!==r&&!Id(r)&&(d?r<=e:r<e)?o=i+1:n=i}return n}return ag(s,e,xp,d)},lg=function(d,e){for(var t=-1,c=d.length,n=0,i=[];++t<c;){var r=d[t],a=e?e(r):r;if(!t||!os(a,s)){var s=a;i[n++]=0===r?0:r}}return i},dg=Pl&&1/nd(new Pl([,-0]))[1]==1/0?function(t){return new Pl(t)}:function(){},cg=function(p,e,t){var o=-1,n=Wu,i=p.length,r=!0,a=[],s=a;if(t)r=!1,n=Hu;else if(200<=i){var l=e?null:dg(p);if(l)return nd(l);r=!1,n=$u,s=new $c}else s=e?[]:a;outer:for(;++o<i;){var d=p[o],c=e?e(d):d;if(d=t||0!==d?d:0,r&&c===c){for(var m=s.length;m--;)if(s[m]===c)continue outer;e&&s.push(c),a.push(d)}else n(s,c,t)||(s!==a&&s.push(c),a.push(d))}return a},mg=Ud(function(t){return cg(zu(t,1,Qs,!0))}),wy=Ud(function(n){var e=Bm(n);return Qs(e)&&(e=void 0),cg(zu(n,1,Qs,!0),Tp(e))}),xy=Ud(function(n){var e=Bm(n);return Qs(e)&&(e=void 0),cg(zu(n,1,Qs,!0),void 0,e)}),Cy=function(s,e){for(var t=-1,o=s.length,n=0,i=[],r;++t<o;)r=s[t],e(r,t,s)&&(i[n++]=r);return i},fg=function(n){if(!(n&&n.length))return[];var o=0;return n=Cy(n,function(t){if(Qs(t))return o=Fa(t.length,o),!0}),Us(o,function(e){return Uu(n,Ks(e))})},Ty=function(n,a){if(!(n&&n.length))return[];var e=fg(n);return null==a?e:Uu(e,function(t){return Od(a,void 0,t)})},Sy=Ud(function(n,e){return Qs(n)?Gu(n,e):[]}),Py=function(a,e,t){for(var o=-1,n=a.length,i;++o<n;)i=i?kl(Gu(i,a[o],e,t),Gu(a[o],i,e,t)):a[o];return i&&i.length?cg(i,e,t):[]},kg=Ud(function(t){return Py(Cy(t,Qs))}),Ey=Ud(function(n){var e=Bm(n);return Qs(e)&&(e=void 0),Py(Cy(n,Qs),Tp(e))}),Ay=Ud(function(n){var e=Bm(n);return Qs(e)&&(e=void 0),Py(Cy(n,Qs),void 0,e)}),Oy=Ud(fg),Iy=function(d,e,t){for(var o=-1,n=d.length,i=e.length,r={},a;++o<n;)a=o<i?e[o]:void 0,t(r,d[o],a);return r},Cg=function(c,e,t,o){e=hp(e,c)?[e]:pp(e);for(var n=-1,i=e.length,r=c,a;null!=r&&++n<i;){if(a=bp(e[n]),ss(r)){var s=t;if(n!=i-1){var l=r[a];s=o?o(l,a,r):void 0,void 0===s&&(s=null==l?dl(e[n+1])?[]:{}:l)}Bs(r,a,s)}r=r[a]}return c},Ag=Ud(function(n){var e=n.length,t=1<e?n[e-1]:void 0;return t='function'==typeof t?(n.pop(),t):void 0,Ty(n,t)}),Ry={chunk:function(s,e,t){e=(t?Sd(s,e,t):void 0===e)?1:Fa(Wd(e),0);var o=s?s.length:0;if(!o||1>e)return[];for(var d=0,i=0,r=Array(ot(o/e));d<o;)r[i++]=Bu(s,d,d+=e);return r},compact:function(a){for(var e=-1,t=a?a.length:0,o=0,n=[],i;++e<t;)i=a[e],i&&(n[o++]=i);return n},concat:function(){for(var a=arguments.length,e=Array(a?a-1:0),t=arguments[0],o=a;o--;)e[o-1]=arguments[o];return a?kl(nl(t)?fl(t):[t],zu(e,1)):[]},difference:Ju,differenceBy:Pp,differenceWith:uy,drop:py,dropRight:my,dropRightWhile:function(n,e){return n&&n.length?fy(n,Tp(e,3),!0,!0):[]},dropWhile:function(n,e){return n&&n.length?fy(n,Tp(e,3),!0):[]},fill:function(a,e,t,r){var n=a?a.length:0;return n?(t&&'number'!=typeof t&&Sd(a,e,t)&&(t=0,r=n),Fp(a,e,t,r)):[]},findIndex:function(n,e){return n&&n.length?Np(n,Tp(e,3)):-1},findLastIndex:function(n,e){return n&&n.length?Np(n,Tp(e,3),!0):-1},first:Dp,flatten:function(n){var e=n?n.length:0;return e?zu(n,1):[]},flattenDeep:function(n){var e=n?n.length:0;return e?zu(n,1/0):[]},flattenDepth:function(n,e){var t=n?n.length:0;return t?(e=void 0===e?1:Wd(e),zu(n,e)):[]},fromPairs:function(a){for(var e=-1,t=a?a.length:0,o={},n;++e<t;)n=a[e],o[n[0]]=n[1];return o},head:Dp,indexOf:function(a,e,t){var o=a?a.length:0;return o?(t=Wd(t),0>t&&(t=Fa(o+t,0)),qu(a,e,t)):-1},initial:function(t){return my(t,1)},intersection:Lp,intersectionBy:hy,intersectionWith:by,join:function(n,e){return n?Wp.call(n,e):''},last:Bm,lastIndexOf:function(a,e,t){var o=a?a.length:0;if(!o)return-1;var r=o;if(void 0!==t&&(r=Wd(t),r=(0>r?Fa(o+r,0):Ia(r,o-1))+1),e!==e)return ju(a,r,!0);for(;r--;)if(a[r]===e)return r;return-1},nth:function(n,e){return n&&n.length?Hp(n,Wd(e)):void 0},pull:_y,pullAll:Jp,pullAllBy:function(n,e,t){return n&&n.length&&e&&e.length?Gp(n,e,Tp(t)):n},pullAllWith:function(n,e,t){return n&&n.length&&e&&e.length?Gp(n,e,void 0,t):n},pullAt:ng,remove:function(s,e){var t=[];if(!(s&&s.length))return t;var o=-1,n=[],i=s.length;for(e=Tp(e,3);++o<i;){var r=s[o];e(r,o,s)&&(t.push(r),n.push(o))}return tg(s,n),t},reverse:function(t){return t?rg.call(t):t},slice:function(a,e,t){var r=a?a.length:0;return r?(t&&'number'!=typeof t&&Sd(a,e,t)?(e=0,t=r):(e=null==e?0:Wd(e),t=void 0===t?r:Wd(t)),Bu(a,e,t)):[]},sortedIndex:function(n,e){return sg(n,e)},sortedIndexBy:function(n,e,t){return ag(n,e,Tp(t))},sortedIndexOf:function(a,e){var t=a?a.length:0;if(t){var o=sg(a,e);if(o<t&&os(a[o],e))return o}return-1},sortedLastIndex:function(n,e){return sg(n,e,!0)},sortedLastIndexBy:function(n,e,t){return ag(n,e,Tp(t),!0)},sortedLastIndexOf:function(a,e){var t=a?a.length:0;if(t){var o=sg(a,e,!0)-1;if(os(a[o],e))return o}return-1},sortedUniq:function(t){return t&&t.length?lg(t):[]},sortedUniqBy:function(n,e){return n&&n.length?lg(n,Tp(e)):[]},tail:function(t){return py(t,1)},take:function(n,e,t){return n&&n.length?(e=t||void 0===e?1:Wd(e),Bu(n,0,0>e?0:e)):[]},takeRight:function(a,e,t){var o=a?a.length:0;return o?(e=t||void 0===e?1:Wd(e),e=o-e,Bu(a,0>e?0:e,o)):[]},takeRightWhile:function(n,e){return n&&n.length?fy(n,Tp(e,3),!1,!0):[]},takeWhile:function(n,e){return n&&n.length?fy(n,Tp(e,3)):[]},union:mg,unionBy:wy,unionWith:xy,uniq:function(t){return t&&t.length?cg(t):[]},uniqBy:function(n,e){return n&&n.length?cg(n,Tp(e)):[]},uniqWith:function(n,e){return n&&n.length?cg(n,void 0,e):[]},unzip:fg,unzipWith:Ty,without:Sy,xor:kg,xorBy:Ey,xorWith:Ay,zip:Oy,zipObject:function(n,e){return Iy(n||[],e||[],Bs)},zipObjectDeep:function(n,e){return Iy(n||[],e||[],Cg)},zipWith:Ag};const Pg=new Map,Eg={transform(a,e,t){const o=Eg.getTransformationCase(a,e)||Eg.defaultTransform,n=o(a,e,Object.assign({},t)),i=Ry.last(e.operations).baseVersion;return Wo(i,n)},defaultTransform(s,e,d){const o=[];let n=e.operations,c=[];for(const t of s.operations){const r=[t];for(const e of n)for(let t=0;t<r.length;t++){const n=r[t],o=Du(n,e,d);Array.prototype.splice.apply(r,[t,1].concat(o)),t+=o.length-1;const a=Object.assign({},d);a.isStrong=!d.isStrong,a.insertBefore=void 0===d.insertBefore?void 0:!d.insertBefore;const i=Du(e,n,a);Array.prototype.push.apply(c,i)}n=c,c=[];for(const e of r)o.push(e)}return Zo(s.constructor,o)},addTransformationCase(a,e,t){let o=Pg.get(a);o||(o=new Map,Pg.set(a,o)),o.set(e,t)},getTransformationCase(a,e){let t=Pg.get(a.constructor);if(!t||!t.get(e.constructor)){const o=Pg.keys();for(const n of o)if(a instanceof n&&Pg.get(n).get(e.constructor)){t=Pg.get(n);break}}return t?t.get(e.constructor):void 0},transformDeltaSets(d,e,t=null){const o=Array.from(d),c=Array.from(e),u=null!==t,p={isStrong:!0};if(u){p.wasAffected=new Map,p.originalDelta=new Map,p.document=t,p.undoMode=!0;for(const t of c)p.originalDelta.set(t,t)}for(let n=0;n<o.length;n++){const a=[o[n]];for(let e=0;e<c.length;e++){const d=[c[e]];for(let e=0;e<a.length;e++)for(let t=0;t<d.length;t++){u&&Ko(a[e],d[t],p);const n=Eg.transform(a[e],d[t],{insertBefore:p.insertBefore,forceNotSticky:p.forceNotSticky,isStrong:p.isStrong,forceWeakRemove:p.forceWeakRemove,undoMode:p.undoMode}),o=Eg.transform(d[t],a[e],{insertBefore:!p.insertBefore,forceNotSticky:p.forceNotSticky,isStrong:!p.isStrong,forceWeakRemove:p.forceWeakRemove,undoMode:p.undoMode});if(u){Xo(a[e],n,p);const i=p.originalDelta.get(d[t]);for(const t of o)p.originalDelta.set(t,i)}a.splice(e,1,...n),e+=n.length-1,d.splice(t,1,...o),t+=o.length-1}c.splice(e,1,...d),e+=d.length-1}o.splice(n,1,...a),n+=a.length-1}const a=Ho(o)-Ho(d),r=Ho(c)-Ho(e);return r<a?Uo(c,a-r):a<r&&Uo(o,r-a),{deltasA:o,deltasB:c}}};var Sg=Eg;class Og extends Au{get type(){return'marker'}get _reverseDeltaClass(){return Og}static get className(){return'engine.model.delta.MarkerDelta'}}Cu.register(Og);const Rg=Sg.addTransformationCase,Vg=Sg.defaultTransform;Rg(Tu,Nu,(a,e,t)=>{const o=Vg(a,e,t);return a.range.containsPosition(e.position)&&o.push(tn(e,a)),o}),Rg(Tu,Pu,(a,d,e)=>{if(!d.position)return Vg(a,d,e);const t=e.undoMode,l=new ly(d.position.root,d.position.path.slice(0,-1)),i=Vg(a,d,e);if(t||!(d._cloneOperation instanceof hu))return i;for(const t of a.operations)if(t.range.containsPosition(l)||t.range.start.isEqual(l)){const n=new Tu,e=l.getShiftedBy(1),o=ly.createFromPosition(e);o.path.push(0);const a=d._cloneOperation.nodes.getNode(0).getAttribute(t.key);n.addOperation(new uu(new zm(e,o),t.key,void 0===a?null:a,t.newValue,0)),i.push(n);break}return i}),Rg(Fu,Eu,(a,e,t)=>{if(!e.position)return Vg(a,e,t);const o=t.undoMode;return!o&&a.position.isEqual(e.position)?[e.getReversed(),a.clone()]:Vg(a,e,t)}),Rg(Og,Pu,en),Rg(Og,Eu,en),Rg(Og,Vu,en),Rg(Og,Iu,en),Rg(Og,Su,en),Rg(Og,Ru,en),Rg(Su,Eu,(a,e,t)=>{const o=t.undoMode;if(o||!e.position)return Vg(a,e,t);const n=a.sourcePosition.root==e.position.root&&'same'===$(a.sourcePosition.getParentPath(),e.position.getParentPath()),i=a.sourcePosition.offset<=e.position.offset&&a.sourcePosition.offset+a.howMany>e.position.offset;return n&&i?[e.getReversed(),a.clone()]:Vg(a,e,t)}),Rg(Eu,Fu,(a,e,t)=>{if(!a.position)return Vg(a,e,t);const o=t.undoMode;return!o&&a.position.isEqual(e.position)?[on()]:Vg(a,e,t)}),Rg(Eu,Su,(a,e,t)=>{const o=t.undoMode;if(o||!a.position)return Vg(a,e,t);const n=a.position.root==e.sourcePosition.root&&'same'===$(a.position.getParentPath(),e.sourcePosition.getParentPath()),i=e.sourcePosition.offset<=a.position.offset&&e.sourcePosition.offset+e.howMany>a.position.offset;return n&&i?[on()]:Vg(a,e,t)}),Rg(Pu,Pu,(a,e,t)=>{const o=t.undoMode;if(o)return Vg(a,e,t);if(!a.position||!e.position)return Vg(a,e,t);const n=a.position.getParentPath(),i=e.position.getParentPath();if(a.position.root==e.position.root&&'same'==$(n,i))if(a=a.clone(),a.position.offset<e.position.offset||a.position.offset==e.position.offset&&t.isStrong){a._cloneOperation instanceof gu&&e._cloneOperation instanceof gu&&a._cloneOperation.sourcePosition.offset>e._cloneOperation.sourcePosition.offset&&a._cloneOperation.sourcePosition.offset--;const t=zm.createFromPositionAndShift(a.position,a._moveOperation.howMany),o=zm.createFromPositionAndShift(e.position,e._moveOperation.howMany),n=t.getDifference(o);let i=0;for(const t of n)i+=t.end.offset-t.start.offset;return 0==i?(a.operations.pop(),a.addOperation(new _u(a.operations[0].baseVersion+1))):a.operations[1].howMany=i,[a]}else{const o=Object.assign({},t);return o.isStrong=!0,o.insertBefore=!0,Vg(a,e,o)}return Vg(a,e,t)}),Rg(Pu,Iu,(n,e,t)=>n.position?n.position.root==e.position.root&&'same'===$(e.position.path,n.position.getParentPath())?[on()]:Vg(n,e,t):Vg(n,e,t)),Rg(Pu,Vu,(s,e,t)=>{if(!s.position)return Vg(s,e,t);const o=s.position.root==e.range.start.root,n=o&&'same'===$(s.position.getParentPath(),e.range.start.getParentPath()),a=e.range.start.offset<s.position.offset&&e.range.end.offset>=s.position.offset;if(n&&a)return[on()];if(o&&'same'===$(s.position.getParentPath(),e.range.end.getShiftedBy(-1).path)){const t=s.clone(),o=ly.createFromPosition(e.range.start);o.path.push(e.howMany-1);const n=o.getShiftedBy(1);t._cloneOperation.position=n;const i=ly.createFromPosition(o);i.path.push(s.position.offset),t._moveOperation.sourcePosition=i;const r=ly.createFromPosition(n);return r.path.push(0),t._moveOperation.targetPosition=r,[t]}return Vg(s,e,t)}),Rg(Pu,Tu,(a,e,t)=>{if(!a.position)return Vg(a,e,t);a=a.clone();const o=t.undoMode,r=new ly(a.position.root,a.position.path.slice(0,-1));if(o||!(a._cloneOperation instanceof hu))return[a];for(const o of e.operations)if(o.range.containsPosition(r)||o.range.start.isEqual(r)){null===o.newValue?a._cloneOperation.nodes.getNode(0)._removeAttribute(o.key):a._cloneOperation.nodes.getNode(0)._setAttribute(o.key,o.newValue);break}return[a]}),Rg(Iu,Pu,(n,e,t)=>e.position?n.position.root==e.position.root&&'same'===$(n.position.path,e.position.getParentPath())?[e.getReversed(),n.clone()]:Vg(n,e,t):Vg(n,e,t)),Rg(Nu,Tu,(n,e)=>{const t=[n.clone()];return e.range.containsPosition(n.position)&&t.push(tn(n,e)),t}),Rg(Vu,Pu,(a,e,t)=>{if(!e.position)return Vg(a,e,t);const o=a.range.start.root==e.position.root,n=o&&'same'===$(a.range.start.getParentPath(),e.position.getParentPath()),i=a.range.start.offset<e.position.offset&&a.range.end.offset>=e.position.offset;if(n&&i)return[e.getReversed(),a.clone()];if(o&&'same'===$(e.position.getParentPath(),a.range.end.getShiftedBy(-1).path)){const e=a.clone();return e._insertOperation.position.offset++,e._moveOperation.howMany++,e._moveOperation.targetPosition.path[e._moveOperation.targetPosition.path.length-2]++,[e]}return Vg(a,e,t)}),Rg(Ru,Pu,(a,e,t)=>{const o=t.undoMode,n=Vg(a,e,t);if(o||!(e._cloneOperation instanceof hu))return n;const i=e._cloneOperation.position.getShiftedBy(-1);if(i&&a.operations[0].position.isEqual(i)){const e=a.clone();e.operations[0].position=i.getShiftedBy(1),n.push(e)}return n}),Rg(Pu,Ru,(a,e,t)=>{a=a.clone();const o=t.undoMode;if(o||!(a._cloneOperation instanceof hu))return[a];const r=a._cloneOperation.position.getShiftedBy(-1);if(r&&!o&&e.operations[0].position.isEqual(r)){const t=e.clone();return t.operations[0].position=r.getShiftedBy(1),t.operations[0].oldName=a._cloneOperation.nodes.getNode(0).name,[a,t]}return[a]}),Rg(Ou,Pu,(a,e,t)=>{const o=Vg(a,e,t),n=e._cloneOperation.position||e._cloneOperation.targetPosition;if(!n)return Vg(a,e,t);const s=t.undoMode;if(s)return o;for(const i of o)if(i instanceof Ou){const o=i._moveOperation,e=o.sourcePosition.getShiftedBy(o.howMany);e.isEqual(n)&&(o.howMany+=1)}return o}),Rg(Pu,Ou,(s,e,t)=>{const o=t.undoMode;if(o)return Vg(s,e,t);const n=s._cloneOperation.position||s._cloneOperation.targetPosition;if(!n)return Vg(s,e,t);e=e.clone();const d=e._moveOperation,r=d.sourcePosition.getShiftedBy(d.howMany);return r.isEqual(n)&&(d.howMany+=1),Vg(s,e,t)});class Ig{constructor(t='default'){this.deltas=[],this.type=t}get baseVersion(){for(const t of this.deltas)if(null!==t.baseVersion)return t.baseVersion;return null}addDelta(t){return t.batch=this,this.deltas.push(t),t}*getOperations(){for(const t of this.deltas)yield*t.operations}}class Fg extends Au{static get className(){return'engine.model.delta.RootAttributeDelta'}}Cu.register(Fg);class Ng extends du{constructor(n,e){super(null),this.sourcePosition=ly.createFromPosition(n),this.howMany=e}get type(){return'detach'}_validate(){if(this.sourcePosition.root.document)throw new Ga('detach-operation-on-document-node: Cannot detach document node.')}_execute(){Co(zm.createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return'engine.model.operation.DetachOperation'}}class Dg extends Dm{constructor(n,e,t='main'){super(e),this._doc=n,this.rootName=t}get document(){return this._doc}is(n,e){return e?'rootElement'==n&&e==this.name||super.is(n,e):'rootElement'==n||super.is(n)}toJSON(){return this.rootName}}class Mg{constructor(n,e){this.model=n,this.batch=e}createText(n,e){return new Im(n,e)}createElement(n,e){return new Dm(n,e)}createDocumentFragment(){return new cu}insert(s,e,t){this._assertWriterUsedCorrectly();const d=ly.createAt(e,t),n=s instanceof Im&&!s.parent?new Nu:new Fu;if(s.parent){if(ln(s.root,d.root))return void this.move(zm.createOn(s),d);if(s.root.document)throw new Error('model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree.');else this.remove(s)}const o=d.root.document?d.root.document.version:null,r=new hu(d,s,o);if(this.batch.addDelta(n),n.addOperation(r),this.model.applyOperation(r),s instanceof cu)for(const[n,t]of s.markers){const o=ly.createAt(t.root),e=new zm(t.start._getCombined(o,d),t.end._getCombined(o,d));this.setMarker(n,e,{usingOperation:!0})}}insertText(a,e,t,o){e instanceof cu||e instanceof Dm||e instanceof ly?this.insert(this.createText(a),e,t):this.insert(this.createText(a,e),t,o)}insertElement(a,e,t,o){e instanceof cu||e instanceof Dm||e instanceof ly?this.insert(this.createElement(a),e,t):this.insert(this.createElement(a,e),t,o)}append(n,e){this.insert(n,e,'end')}appendText(n,e,t){e instanceof cu||e instanceof Dm?this.insert(this.createText(n),e,'end'):this.insert(this.createText(n,e),t,'end')}appendElement(n,e,t){e instanceof cu||e instanceof Dm?this.insert(this.createElement(n),e,'end'):this.insert(this.createElement(n,e),t,'end')}setTextData(n,e){e._data=n}setAttribute(n,e,t){this._assertWriterUsedCorrectly(),t instanceof zm?nn(this,n,e,t):rn(this,n,e,t)}setAttributes(a,e){for(const[t,o]of rt(a))this.setAttribute(t,o,e)}removeAttribute(n,e){this._assertWriterUsedCorrectly(),e instanceof zm?nn(this,n,null,e):rn(this,n,null,e)}clearAttributes(n){this._assertWriterUsedCorrectly();const e=(n)=>{for(const e of n.getAttributeKeys())this.removeAttribute(e,n)};if(!(n instanceof zm))e(n);else for(const t of n.getItems())e(t)}move(s,e,t){if(this._assertWriterUsedCorrectly(),!(s instanceof zm))throw new Ga('writer-move-invalid-range: Invalid range to move.');if(!s.isFlat)throw new Ga('writer-move-range-not-flat: Range to move is not flat.');const o=ly.createAt(e,t);if(!ln(s.root,o.root))throw new Ga('writer-move-different-document: Range is going to be moved between different documents.');const n=new Su;this.batch.addDelta(n);const i=s.root.document?s.root.document.version:null,r=new pu(s.start,s.end.offset-s.start.offset,o,i);n.addOperation(r),this.model.applyOperation(r)}remove(n){this._assertWriterUsedCorrectly();const a=(n,e)=>{const t=new Ou;this.batch.addDelta(t),sn(n,e,t,this.model)};if(n instanceof zm){const t=n.getMinimalFlatRanges().reverse();for(const n of t)a(n.start,n.end.offset-n.start.offset)}else{const e=n.is('text')?n.offsetSize:1;a(ly.createBefore(n),e)}}merge(d){this._assertWriterUsedCorrectly();const e=new Eu;this.batch.addDelta(e);const t=d.nodeBefore,o=d.nodeAfter;if(!(t instanceof Dm))throw new Ga('writer-merge-no-element-before: Node before merge position must be an element.');if(!(o instanceof Dm))throw new Ga('writer-merge-no-element-after: Node after merge position must be an element.');const n=ly.createFromParentAndOffset(o,0),i=ly.createFromParentAndOffset(t,t.maxOffset),r=d.root.document?d.root.document.version:null,a=new pu(n,o.maxOffset,i,r);a.isSticky=!0,e.addOperation(a),this.model.applyOperation(a),sn(d,1,e,this.model)}rename(a,e){if(this._assertWriterUsedCorrectly(),!(a instanceof Dm))throw new Ga('writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');const t=new Ru;this.batch.addDelta(t);const o=a.root.document?a.root.document.version:null,n=new ku(ly.createBefore(a),a.name,e,o);t.addOperation(n),this.model.applyOperation(n)}split(c,a){this._assertWriterUsedCorrectly();let u=c.parent;if(!u.parent)throw new Ga('writer-split-element-no-parent: Element with no parent can not be split.');if(a||(a=u.parent),!c.parent.getAncestors({includeSelf:!0}).includes(a))throw new Ga('writer-split-invalid-limit-element: Limit element is not a position ancestor.');let o,n;do{const e=new Pu;this.batch.addDelta(e);const t=new Dm(u.name,u.getAttributes()),r=u.root.document?u.root.document.version:null,a=new hu(ly.createAfter(u),t,r);e.addOperation(a),this.model.applyOperation(a);const i=null===r?null:r+1,s=new pu(c,u.maxOffset-c.offset,ly.createFromParentAndOffset(t,0),i);s.isSticky=!0,e.addOperation(s),this.model.applyOperation(s),o||n||(o=u,n=t),c=ly.createBefore(t),u=c.parent}while(u!==a);return{position:c,range:new zm(ly.createAt(o,'end'),ly.createAt(n))}}wrap(d,e){if(this._assertWriterUsedCorrectly(),!d.isFlat)throw new Ga('writer-wrap-range-not-flat: Range to wrap is not flat.');const t=e instanceof Dm?e:new Dm(e);if(0<t.childCount)throw new Ga('writer-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==t.parent)throw new Ga('writer-wrap-element-attached: Element to wrap with is already attached to tree model.');const o=new Vu;this.batch.addDelta(o);const n=d.root.document?d.root.document.version:null,i=new hu(d.end,t,n);o.addOperation(i),this.model.applyOperation(i);const r=null===n?null:n+1,a=ly.createFromParentAndOffset(t,0),s=new pu(d.start,d.end.offset-d.start.offset,a,r);o.addOperation(s),this.model.applyOperation(s)}unwrap(a){if(this._assertWriterUsedCorrectly(),null===a.parent)throw new Ga('writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');const e=new Iu;this.batch.addDelta(e);const t=ly.createFromParentAndOffset(a,0),o=t.root.document?t.root.document.version:null,n=new pu(t,a.maxOffset,ly.createBefore(a),o);n.isSticky=!0,e.addOperation(n),this.model.applyOperation(n),sn(ly.createBefore(a),1,e,this.model)}setMarker(i,d,c){this._assertWriterUsedCorrectly();let u,n,p;i instanceof zm?(u=ey(),n=i,p=!!d&&!!d.usingOperation):(u='string'==typeof i?i:i.name,d instanceof zm?(n=d,p=!!c&&!!c.usingOperation):(n=null,p=!!d&&!!d.usingOperation));const m=this.model.markers.get(u);if(!p){if(!n)throw new Ga('writer-setMarker-no-range: Range parameter is required when adding a new marker.');return m&&m.managedUsingOperations&&!p&&an(this,u,m.getRange(),null),this.model.markers._set(u,n,p)}if(!n&&!m)throw new Ga('writer-setMarker-no-range: Range parameter is required when adding a new marker.');const f=m?m.getRange():null;return n?an(this,u,f,n):an(this,u,null,f),this.model.markers.get(u)}removeMarker(a){this._assertWriterUsedCorrectly();const r='string'==typeof a?a:a.name;if(!this.model.markers.has(r))throw new Ga('writer-removeMarker-no-marker: Trying to remove marker which does not exist.');const t=this.model.markers.get(r);if(!t.managedUsingOperations)return void this.model.markers._remove(r);const o=t.getRange();an(this,r,o,null)}setSelection(n,e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(n,e,t)}setSelectionFocus(n,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,e)}setSelectionAttribute(n,o){if(this._assertWriterUsedCorrectly(),'string'==typeof n)this._setSelectionAttribute(n,o);else for(const[e,t]of rt(n))this._setSelectionAttribute(e,t)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),'string'==typeof n)this._removeSelectionAttribute(n);else for(const e of n)this._removeSelectionAttribute(e)}overrideSelectionGravity(t){this.model.document.selection._overrideGravity(t)}restoreSelectionGravity(){this.model.document.selection._restoreGravity()}_setSelectionAttribute(a,e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const o=$m._getStoreAttributeKey(a);this.setAttribute(o,e,t.anchor.parent)}t._setAttribute(a,e)}_removeSelectionAttribute(n){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const t=$m._getStoreAttributeKey(n);this.removeAttribute(t,e.anchor.parent)}e._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new Ga('writer-incorrect-use: Trying to use a writer outside the change() block.')}}class Bg{constructor(){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(n){switch(n.type){case'insert':{if(this._isInInsertedElement(n.position.parent))return;this._markInsert(n.position.parent,n.position.offset,n.nodes.maxOffset);break}case'addAttribute':case'removeAttribute':case'changeAttribute':{for(const e of n.range.getItems())this._isInInsertedElement(e.parent)||this._markAttribute(e);break}case'remove':case'move':case'reinsert':{const e=this._isInInsertedElement(n.sourcePosition.parent),t=this._isInInsertedElement(n.targetPosition.parent);e||this._markRemove(n.sourcePosition.parent,n.sourcePosition.offset,n.howMany),t||this._markInsert(n.targetPosition.parent,n.getMovedRangeStart().offset,n.howMany);break}case'rename':{if(this._isInInsertedElement(n.position.parent))return;this._markRemove(n.position.parent,n.position.offset,1),this._markInsert(n.position.parent,n.position.offset,1);break}}this._cachedChanges=null}bufferMarkerChange(a,e,r){const i=this._changedMarkers.get(a);i?(i.newRange=r,null==i.oldRange&&null==i.newRange&&this._changedMarkers.delete(a)):this._changedMarkers.set(a,{oldRange:e,newRange:r})}getMarkersToRemove(){const n=[];for(const[e,a]of this._changedMarkers)null!=a.oldRange&&n.push({name:e,range:a.oldRange});return n}getMarkersToAdd(){const n=[];for(const[e,a]of this._changedMarkers)null!=a.newRange&&n.push({name:e,range:a.newRange});return n}getChanges(n={includeChangesInGraveyard:!1}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const d=[];for(const t of this._changesInElement.keys()){const o=this._changesInElement.get(t).sort((n,e)=>n.offset===e.offset?n.type==e.type?0:'remove'==n.type?-1:1:n.offset<e.offset?-1:1),c=this._elementSnapshots.get(t),n=dn(t.getChildren()),r=cn(c.length,o);let u=0,s=0;for(const o of r)if('i'===o)d.push(this._getInsertDiff(t,u,n[u].name)),u++;else if('r'===o)d.push(this._getRemoveDiff(t,u,c[s].name)),s++;else if('a'===o){const o=n[u].attributes,e=c[s].attributes;let a;if('$text'==n[u].name)a=zm.createFromParentsAndOffsets(t,u,t,u+1);else{const n=t.offsetToIndex(u);a=zm.createFromParentsAndOffsets(t,u,t.getChild(n),0)}d.push(...this._getAttributesDiff(a,e,o)),u++,s++}else u++,s++}d.sort((n,e)=>n.position.root==e.position.root?n.position.isEqual(e.position)?n.changeCount<e.changeCount?-1:1:n.position.isBefore(e.position)?-1:1:n.position.root.rootName<e.position.root.rootName?-1:1);for(let t=1;t<d.length;t++){const o=d[t-1],e=d[t],n='remove'==o.type&&'remove'==e.type&&'$text'==o.name&&'$text'==e.name&&o.position.isEqual(e.position),i='insert'==o.type&&'insert'==e.type&&'$text'==o.name&&'$text'==e.name&&o.position.parent==e.position.parent&&o.position.offset+o.length==e.position.offset,r='attribute'==o.type&&'attribute'==e.type&&o.position.parent==e.position.parent&&o.range.isFlat&&e.range.isFlat&&o.position.offset+o.length==e.position.offset&&o.attributeKey==e.attributeKey&&o.attributeOldValue==e.attributeOldValue&&o.attributeNewValue==e.attributeNewValue;(n||i||r)&&(d[t-1].length++,r&&(d[t-1].range.end=d[t-1].range.end.getShiftedBy(1)),d.splice(t,1),t--)}for(const e of d)delete e.changeCount,'attribute'==e.type&&(delete e.position,delete e.length);return this._changeCount=0,this._cachedChangesWithGraveyard=d.slice(),this._cachedChanges=d.slice().filter(mn),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(a,e,r){const i={type:'insert',offset:e,howMany:r,count:this._changeCount++};this._markChange(a,i)}_markRemove(a,e,r){const i={type:'remove',offset:e,howMany:r,count:this._changeCount++};this._markChange(a,i),this._removeAllNestedChanges(a,e,r)}_markAttribute(n){const e={type:'attribute',offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,e)}_markChange(n,e){this._makeSnapshot(n);const t=this._getChangesForElement(n);this._handleChange(e,t),t.push(e);for(let o=0;o<t.length;o++)1>t[o].howMany&&(t.splice(o,1),o--)}_getChangesForElement(n){let e;return this._changesInElement.has(n)?e=this._changesInElement.get(n):(e=[],this._changesInElement.set(n,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,dn(t.getChildren()))}_handleChange(a,r){a.nodesToHandle=a.howMany;for(const e of r){const o=a.offset+a.howMany,s=e.offset+e.howMany;if('insert'==a.type&&('insert'==e.type&&(a.offset<=e.offset?e.offset+=a.howMany:a.offset<s&&(e.howMany+=a.nodesToHandle,a.nodesToHandle=0)),'remove'==e.type&&a.offset<e.offset&&(e.offset+=a.howMany),'attribute'==e.type))if(a.offset<=e.offset)e.offset+=a.howMany;else if(a.offset<s){const t=e.howMany;e.howMany=a.offset-e.offset,r.unshift({type:'attribute',offset:o,howMany:t-e.howMany,count:this._changeCount++})}if('remove'==a.type){if('insert'==e.type)if(o<=e.offset)e.offset-=a.howMany;else if(o<=s){if(a.offset<e.offset){const n=o-e.offset;e.offset=a.offset,e.howMany-=n,a.nodesToHandle-=n}else e.howMany-=a.nodesToHandle,a.nodesToHandle=0;}else if(a.offset<=e.offset)a.nodesToHandle-=e.howMany,e.howMany=0;else if(a.offset<s){const n=s-a.offset;e.howMany-=n,a.nodesToHandle-=n}if('remove'==e.type&&(a.offset+a.howMany<=e.offset?e.offset-=a.howMany:a.offset<e.offset&&(e.offset=a.offset,e.howMany+=a.nodesToHandle,a.nodesToHandle=0)),'attribute'==e.type)if(o<=e.offset)e.offset-=a.howMany;else if(a.offset<e.offset){const n=o-e.offset;e.offset=a.offset,e.howMany-=n}else if(a.offset<s)if(o<=s){const t=e.howMany;e.howMany=a.offset-e.offset;const n=t-e.howMany-a.nodesToHandle;r.unshift({type:'attribute',offset:a.offset,howMany:n,count:this._changeCount++})}else e.howMany-=s-a.offset}if('attribute'==a.type){if('insert'==e.type)if(a.offset<e.offset&&o>e.offset){if(o>s){const t={type:'attribute',offset:s,howMany:o-s,count:this._changeCount++};this._handleChange(t,r),r.push(t)}a.nodesToHandle=e.offset-a.offset}else a.offset>=e.offset&&a.offset<s&&(o>s?(a.nodesToHandle=o-s,a.offset=s):a.nodesToHandle=0);'attribute'==e.type&&a.offset>=e.offset&&o<=s&&(a.nodesToHandle=0)}}a.howMany=a.nodesToHandle,delete a.nodesToHandle}_getInsertDiff(n,e,t){return{type:'insert',position:ly.createFromParentAndOffset(n,e),name:t,length:1,changeCount:this._changeCount++}}_getRemoveDiff(n,e,t){return{type:'remove',position:ly.createFromParentAndOffset(n,e),name:t,length:1,changeCount:this._changeCount++}}_getAttributesDiff(a,e,s){const o=[];s=new Map(s);for(const[n,d]of e){const e=s.has(n)?s.get(n):null;e!==d&&o.push({type:'attribute',position:a.start,range:zm.createFromRange(a),length:1,attributeKey:n,attributeOldValue:d,attributeNewValue:e,changeCount:this._changeCount++}),s.delete(n)}for(const[t,n]of s)o.push({type:'attribute',position:a.start,range:zm.createFromRange(a),length:1,attributeKey:t,attributeOldValue:null,attributeNewValue:n,changeCount:this._changeCount++});return o}_isInInsertedElement(a){const e=a.parent;if(!e)return!1;const r=this._changesInElement.get(e),o=a.startOffset;if(r)for(const t of r)if('insert'==t.type&&o>=t.offset&&o<t.offset+t.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(a,e,t){const o=zm.createFromParentsAndOffsets(a,e,a,e+t);for(const n of o.getItems({shallow:!0}))n.is('element')&&(this._elementSnapshots.delete(n),this._changesInElement.delete(n),this._removeAllNestedChanges(n,0,n.maxOffset))}}class Lg{constructor(){this._deltas=[],this._historyPoints=new Map,this._undoPairs=new Map,this._undoneDeltas=new Set}addDelta(n){if(0<n.operations.length&&!this._historyPoints.has(n.baseVersion)){const e=this._deltas.length;this._deltas[e]=n,this._historyPoints.set(n.baseVersion,e)}}*getDeltas(n=0,a=Va){if(0!==this._deltas.length){let t=this._getIndex(n);if(-1!=t)for(;t<this._deltas.length;){const n=this._deltas[t++];if(n.baseVersion>=a)break;yield n}}}getDelta(n){const e=this._historyPoints.get(n);return void 0===e?null:this._deltas[e]}setDeltaAsUndone(n,e){this._undoPairs.set(e,n),this._undoneDeltas.add(n)}isUndoingDelta(t){return this._undoPairs.has(t)}isUndoneDelta(t){return this._undoneDeltas.has(t)}getUndoneDelta(t){return this._undoPairs.get(t)}_getIndex(n){const e=this._historyPoints.get(n);if(void 0===e){const e=this._deltas[this._deltas.length-1],t=e.baseVersion+e.operations.length;if(0>n||n>=t)return-1;throw new Ga('model-history-wrong-version: Given base version points to the middle of a delta.')}return e}}const zg='$graveyard';class jg{constructor(n){this.model=n,this.version=0,this.history=new Lg(this),this.selection=new $m(this),this.roots=new wc({idProperty:'rootName'}),this.differ=new Bg,this._postFixers=new Set,this.createRoot('$root',zg),this.listenTo(n,'applyOperation',(n,e)=>{const t=e[0];if(t.isDocumentOperation&&t.baseVersion!==this.version)throw new Ga('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:t})},{priority:'highest'}),this.listenTo(n,'applyOperation',(n,e)=>{const t=e[0];t.isDocumentOperation&&this.differ.bufferOperation(t)},{priority:'high'}),this.listenTo(n,'applyOperation',(n,e)=>{const t=e[0];t.isDocumentOperation&&(this.version++,this.history.addDelta(t.delta))},{priority:'low'});let a=!1;this.listenTo(this.selection,'change',()=>{a=!0}),this.listenTo(n,'_change',(t,e)=>{(!this.differ.isEmpty||a)&&(this._callPostFixers(e),this.fire('change',e.batch),this.differ.reset(),a=!1)}),this.listenTo(n.markers,'update',(a,r,e,t)=>{this.differ.bufferMarkerChange(r.name,e,t),e||r.on('change',(t,e)=>{this.differ.bufferMarkerChange(r.name,e,r.getRange())})})}get graveyard(){return this.getRoot(zg)}createRoot(n='$root',e='main'){if(this.roots.get(e))throw new Ga('model-document-createRoot-name-exists: Root with specified name already exists.',{name:e});const a=new Dg(this,n,e);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t='main'){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,(t)=>t.rootName).filter((t)=>t!=zg)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=yd(this);return t.selection='[engine.model.DocumentSelection]',t.model='[engine.model.Model]',t}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const a=this._getDefaultRoot(),e=this.model.schema,t=new ly(a,[0]),o=e.getNearestSelectionRange(t);return o||new zm(t)}_validateSelectionRange(t){return bn(t.start)&&bn(t.end)}_callPostFixers(n){let e=!1;do for(const t of this._postFixers)if(e=t(n),e)break;while(e)}}l(jg,ts);class qg{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(s,d,t=!1){const o=s instanceof Wg?s.name:s,n=this._markers.get(o);if(n){const a=n.getRange();let e=!1;return a.isEqual(d)||(n._attachLiveRange(Um.createFromRange(d)),e=!0),t!=n.managedUsingOperations&&(n._managedUsingOperations=t,e=!0),e&&this.fire('update:'+o,n,a,d),n}const e=Um.createFromRange(d),r=new Wg(o,e,t);return this._markers.set(o,r),this.fire('update:'+o,r,null,d),r}_remove(n){const e=n instanceof Wg?n.name:n,t=this._markers.get(e);return!!t&&(this._markers.delete(e),this.fire('update:'+e,t,t.getRange(),null),this._destroyMarker(t),!0)}*getMarkersAtPosition(n){for(const e of this)e.getRange().containsPosition(n)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(n){for(const e of this._markers.values())e.name.startsWith(n+':')&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}l(qg,ts);class Wg{constructor(n,e,t){this.name=n,this._managedUsingOperations=t,this._liveRange=this._attachLiveRange(e)}get managedUsingOperations(){if(!this._liveRange)throw new Ga('marker-destroyed: Cannot use a destroyed marker instance.');return this._managedUsingOperations}getStart(){if(!this._liveRange)throw new Ga('marker-destroyed: Cannot use a destroyed marker instance.');return ly.createFromPosition(this._liveRange.start)}getEnd(){if(!this._liveRange)throw new Ga('marker-destroyed: Cannot use a destroyed marker instance.');return ly.createFromPosition(this._liveRange.end)}getRange(){if(!this._liveRange)throw new Ga('marker-destroyed: Cannot use a destroyed marker instance.');return zm.createFromRange(this._liveRange)}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate('change:range').to(this),t.delegate('change:content').to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating('change:range',this),this._liveRange.stopDelegating('change:content',this),this._liveRange.detach(),this._liveRange=null}}l(Wg,ts);class Hg extends ly{constructor(n,e,t){if(super(n,e),!this.root.is('rootElement'))throw new Ga('model-liveposition-root-not-rootelement: LivePosition\'s root has to be an instance of RootElement.');this.stickiness=t||'sticksToNext',_n.call(this)}detach(){this.stopListening()}}l(Hg,ts);class Ug{constructor(n,e,t){this.model=n,this.writer=e,this.position=t,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._filterAttributesOf=[]}handleNodes(a,e){a=Array.from(a);for(let t=0;t<a.length;t++){const o=a[t];this._handleNode(o,{isFirst:0===t&&e.isFirst,isLast:t===a.length-1&&e.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?zm.createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}_handleNode(n,e){if(this.schema.isObject(n))return void this._handleObject(n,e);const t=this._checkAndSplitToAllowedPosition(n,e);return t?void(this._insert(n),this._mergeSiblingsOf(n,e)):void this._handleDisallowedNode(n,e)}_handleObject(n,e){this._checkAndSplitToAllowedPosition(n)?this._insert(n):this._tryAutoparagraphing(n,e)}_handleDisallowedNode(n,e){n.is('element')?this.handleNodes(n.getChildren(),e):this._tryAutoparagraphing(n,e)}_insert(n){if(!this.schema.checkChild(this.position,n))return void Cm.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:n,position:this.position});const o=Hg.createFromPosition(this.position);this.writer.insert(n,this.position),this.position=ly.createFromPosition(o),o.detach(),this.nodeToSelect=this.schema.isObject(n)&&!this.schema.checkChild(this.position,'$text')?n:null,this._filterAttributesOf.push(n)}_mergeSiblingsOf(a,e){if(a instanceof Dm){const t=this._canMergeLeft(a,e),o=this._canMergeRight(a,e),n=Hg.createBefore(a),i=Hg.createAfter(a);if(t){const t=Hg.createFromPosition(this.position);this.writer.merge(n),this.position=ly.createFromPosition(t),t.detach()}if(o){this.position.isEqual(i)||Cm.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=ly.createAt(i.nodeBefore,'end');const t=new Hg(this.position.root,this.position.path,'sticksToPrevious');this.writer.merge(i),this.position=ly.createFromPosition(t),t.detach()}(t||o)&&this._filterAttributesOf.push(this.position.parent),n.detach(),i.detach()}}_canMergeLeft(n,e){const t=n.previousSibling;return e.isFirst&&t instanceof Dm&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,n)}_canMergeRight(n,e){const t=n.nextSibling;return e.isLast&&t instanceof Dm&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(n,t)}_tryAutoparagraphing(n,e){const t=this.writer.createElement('paragraph');this._getAllowedIn(t,this.position.parent)&&this.schema.checkChild(t,n)&&(t._appendChildren(n),this._handleNode(t,e))}_checkAndSplitToAllowedPosition(n){const e=this._getAllowedIn(n,this.position.parent);if(!e)return!1;for(;e!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const t=this.position.parent;this.position=ly.createBefore(t),t.isEmpty&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=ly.createAfter(this.position.parent);else{const t=ly.createAfter(this.position.parent);this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(n,e){return this.schema.checkChild(e,n)?e:e.parent?this._getAllowedIn(n,e.parent):null}}const Kg=' ,.?!:;"-()';class $g{constructor(){this.markers=new qg,this.document=new jg(this),this.schema=new iu,this._pendingChanges=[],this._currentWriter=null,['insertContent','deleteContent','modifySelection','getSelectedContent','applyOperation'].forEach((t)=>this.decorate(t)),this.on('applyOperation',(n,e)=>{const t=e[0];t._validate()},{priority:'highest'}),this.schema.register('$root',{isLimit:!0}),this.schema.register('$block',{allowIn:'$root',isBlock:!0}),this.schema.register('$text',{allowIn:'$block'}),this.schema.register('$clipboardHolder',{allowContentOf:'$root',isLimit:!0}),this.schema.extend('$text',{allowIn:'$clipboardHolder'}),this.schema.register('$marker',{allowIn:['$root','$block']})}change(t){return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Ig,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}enqueueChange(n,o){'string'==typeof n?n=new Ig(n):'function'==typeof n&&(o=n,n=new Ig),this._pendingChanges.push({batch:n,callback:o}),1==this._pendingChanges.length&&this._runPendingChanges()}applyOperation(t){t._execute()}transformDeltas(n,e,t=!1){return Sg.transformDeltaSets(n,e,t?this.document:null)}insertContent(n,e){wn(this,n,e)}deleteContent(n,e){vn(this,n,e)}modifySelection(n,e){En(this,n,e)}getSelectedContent(t){return Nn(this,t)}hasContent(n){if(n instanceof Dm&&(n=zm.createIn(n)),n.isCollapsed)return!1;for(const e of n.getItems())if(e.is('textProxy')||this.schema.isObject(e))return!0;return!1}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];for(;this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new Mg(this,e);const t=this._pendingChanges[0].callback(this._currentWriter);n.push(t),this.fire('_change',this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return n}}l($g,mc);class Gg{constructor(){this._listener=Object.create(Hc)}listenTo(t){this._listener.listenTo(t,'keydown',(n,e)=>{this._listener.fire('_keydown:'+Z(e),e)})}set(a,r,e={}){const t=X(a),n=e.priority;this._listener.listenTo(this._listener,'_keydown:'+t,(t,e)=>{r(e,()=>{e.preventDefault(),e.stopPropagation(),t.stop()}),t.return=!0},{priority:n})}press(t){return!!this._listener.fire('_keydown:'+Z(t),t)}destroy(){this._listener.stopListening()}}class Jg extends Gg{constructor(t){super(),this.editor=t}set(n,a,e={}){if('string'==typeof a){const n=a;a=(e,t)=>{this.editor.execute(n),t()}}super.set(n,a,e)}}class Qg{constructor(n){const e=this.constructor.build&&this.constructor.build.plugins;this.config=new Ka(n,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',e),this.plugins=new Xm(this,e),this.commands=new Zm,this.locale=new tu(this.config.get('language')),this.t=this.locale.t,this.set('isReadOnly',!1),this.model=new $g,this.data=new su(this.model),this.editing=new Ym(this.model),this.editing.view.document.bind('isReadOnly').to(this),this.conversion=new lu,this.conversion.register('downcast',[this.editing.downcastDispatcher,this.data.downcastDispatcher]),this.conversion.register('editingDowncast',[this.editing.downcastDispatcher]),this.conversion.register('dataDowncast',[this.data.downcastDispatcher]),this.conversion.register('upcast',[this.data.upcastDispatcher]),this.keystrokes=new Jg(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){function n(n,a){return n.reduce((t,e)=>e[a]?t.then(e[a].bind(e)):t,Promise.resolve())}const a=this,t=this.config;return function(){const o=t.get('plugins')||[],e=t.get('removePlugins')||[];return a.plugins.load(o,e)}().then((e)=>n(e,'init').then(()=>n(e,'afterInit'))).then(()=>this.fire('pluginsReady'))}destroy(){return this.fire('destroy'),this.stopListening(),this.commands.destroy(),this.plugins.destroy().then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})}execute(...t){this.commands.execute(...t)}static create(n){return new Promise((e)=>{const t=new this(n);e(t.initPlugins().then(()=>{t.fire('dataReady'),t.fire('ready')}).then(()=>t))})}}l(Qg,mc);const Yg={setData(t){this.data.set(t)},getData(){return this.data.get()}},Xg={updateElement(){Mn(this.element,this.data.get())}};class Zg{getHtml(n){const e=document.implementation.createHTMLDocument(''),t=e.createElement('div');return t.appendChild(n),t.innerHTML}}class ef{constructor(){this._domParser=new DOMParser,this._domConverter=new qc({blockFiller:Dc}),this._htmlWriter=new Zg}toData(n){const e=this._domConverter.viewToDom(n,document);return this._htmlWriter.getHtml(e)}toView(n){const e=this._toDom(n);return this._domConverter.domToView(e)}_toDom(a){const e=this._domParser.parseFromString(a,'text/html'),t=e.createDocumentFragment(),o=e.body.childNodes;for(;0<o.length;)t.appendChild(o[0]);return t}}class tf{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(n,o){if(this.has(n))throw new Ga('componentfactory-item-exists: The item already exists in the component factory.',{name:n});this._components.set(Ln(n),{callback:o,originalName:n})}create(t){if(!this.has(t))throw new Ga('componentfactory-item-missing: The required component is not registered in the factory.',{name:t});return this._components.get(Ln(t)).callback(this.editor.locale)}has(t){return this._components.has(Ln(t))}}class of{constructor(){this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new Ga('focusTracker-add-element-already-exist');this.listenTo(t,'focus',()=>this._focus(t),{useCapture:!0}),this.listenTo(t,'blur',()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}l(of,Hc),l(of,mc);class nf{constructor(n,e){this.editor=n,this.view=e,this.componentFactory=new tf(n),this.focusTracker=new of,this._toolbarConfig=jn(n.config.get('toolbar'))}init(){const n=this.editor,e=this.view;e.render(),e.stickyPanel.bind('isActive').to(this.focusTracker,'isFocused'),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset);const t=n.editing.view.document.getRoot();e.editable.bind('isReadOnly').to(t),e.editable.bind('isFocused').to(n.editing.view.document),e.editable.name=t.rootName,this.focusTracker.add(this.view.editableElement),this.view.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),zn({origin:n.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:n.keystrokes,toolbar:this.view.toolbar})}destroy(){this.view.destroy()}}class rf extends wc{constructor(t){super({idProperty:'viewUid'}),this.on('add',(n,e,t)=>{e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}),this.on('remove',(n,e)=>{e.element&&this._parentElement&&e.element.remove()}),this.locale=t,this._parentElement=null}destroy(){this.map((t)=>t.destroy())}setParent(t){this._parentElement=t}delegate(...a){if(!a.length||!qn(a))throw new Ga('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:(e)=>{for(const t of this)for(const o of a)t.delegate(o).to(e);this.on('add',(t,o)=>{for(const n of a)o.delegate(n).to(e)}),this.on('remove',(t,o)=>{for(const n of a)o.stopDelegating(n,e)})}}}}l(wc,mc);var af=function(n,e){return vd(n,!0,!0,e)};class sf{constructor(t){Object.assign(this,Qn(Jn(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData=di(),this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new Ga('ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.');this._revertTemplateFromNode(t,this._revertData)}*getViews(){function*n(e){if(e.children)for(const t of e.children)ai(t)?yield t:si(t)&&(yield*n(t))}yield*n(this)}static bind(a,r){return{to(i,s){return new df({eventNameOrFunction:i,attribute:i,observable:a,emitter:r,callback:s})},if(s,d,l){return new cf({observable:a,emitter:r,attribute:s,valueIfTrue:d,callback:l})}}}static extend(n,e){n._isRendered&&Cm.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),ii(n,Qn(Jn(e)))}_renderNode(n){let e;if(e=n.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new Ga('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.');return this.text?this._renderText(n):this._renderElement(n)}_renderElement(n){let e=n.node;return e||(e=n.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(n),this._renderElementChildren(n),this._setUpListeners(n),e}_renderText(n){let o=n.node;return o?n.revertData.text=o.textContent:o=n.node=document.createTextNode(''),Wn(this.text)?this._bindToObservable({schema:this.text,updater:Kn(o),data:n}):o.textContent=this.text.join(''),o}_renderAttributes(d){let l,t,o,n;if(this.attributes){const i=d.node,r=d.revertData;for(l in this.attributes)if(o=i.getAttribute(l),t=this.attributes[l],r&&(r.attributes[l]=o),n=ss(t[0])&&t[0].ns?t[0].ns:null,Wn(t)){const a=n?t[0].value:t;r&&ci(l)&&a.unshift(o),this._bindToObservable({schema:a,updater:$n(i,l,n),data:d})}else'style'==l&&'string'!=typeof t[0]?this._renderStyleAttribute(t[0],d):(r&&o&&ci(l)&&t.unshift(o),t=t.map((t)=>t?t.value||t:t).reduce((n,e)=>n.concat(e),[]).reduce(oi,''),ri(t)||i.setAttributeNS(n,l,t))}}_renderStyleAttribute(a,e){const r=e.node;for(const o in a){const n=a[o];Wn(n)?this._bindToObservable({schema:[n],updater:Gn(r,o),data:e}):r.style[o]=n}}_renderElementChildren(a){const e=a.node,s=a.intoFragment?document.createDocumentFragment():e,t=a.isApplying;let o=0;for(const i of this.children)if(li(i)){if(!t){i.setParent(e);for(const t of i)s.appendChild(t.element)}}else if(ai(i))t||(!i.isRendered&&i.render(),s.appendChild(i.element));else if(De(i))s.appendChild(i);else if(t){const e=a.revertData,t=di();e.children.push(t),i._renderNode({node:s.childNodes[o++],isApplying:!0,revertData:t})}else s.appendChild(i.render());a.intoFragment&&e.appendChild(s)}_setUpListeners(a){if(this.eventListeners)for(const e in this.eventListeners){const t=this.eventListeners[e].map((t)=>{const[o,n]=e.split('@');return t.activateDomEventListener(o,n,a)});a.revertData&&a.revertData.bindings.push(t)}}_bindToObservable({schema:a,updater:e,data:t}){const o=t.revertData;Un(a,e,t);const n=a.filter((t)=>!ri(t)).filter((t)=>t.observable).map((o)=>o.activateAttributeListener(a,e,t));o&&o.bindings.push(n)}_revertTemplateFromNode(a,e){for(const t of e.bindings)for(const n of t)n();if(e.text)return void(a.textContent=e.text);for(const t in e.attributes){const o=e.attributes[t];null===o?a.removeAttribute(t):a.setAttribute(t,o)}for(let t=0;t<e.children.length;++t)this._revertTemplateFromNode(a.childNodes[t],e.children[t])}}l(sf,ts);class lf{constructor(t){Object.assign(this,t)}getValue(n){const e=this.observable[this.attribute];return this.callback?this.callback(e,n):e}activateAttributeListener(a,e,t){const o=()=>Un(a,e,t);return this.emitter.listenTo(this.observable,'change:'+this.attribute,o),()=>{this.emitter.stopListening(this.observable,'change:'+this.attribute,o)}}}class df extends lf{activateDomEventListener(a,r,e){const o=(n,e)=>{(!r||e.target.matches(r))&&('function'==typeof this.eventNameOrFunction?this.eventNameOrFunction(e):this.observable.fire(this.eventNameOrFunction,e))};return this.emitter.listenTo(e.node,a,o),()=>{this.emitter.stopListening(e.node,a,o)}}}class cf extends lf{getValue(n){const e=super.getValue(n);return!ri(e)&&(this.valueIfTrue||!0)}}var mf=t(11),uf=t.n(mf);class pf{constructor(n){this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new wc,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',(e,t)=>{t.locale=n}),this.decorate('render')}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=sf.bind(this,this)}createCollection(){const t=new rf;return this._viewCollections.add(t),t}registerChildren(n){v(n)||(n=[n]);for(const e of n)this._unboundChildren.add(e)}deregisterChildren(n){v(n)||(n=[n]);for(const e of n)this._unboundChildren.remove(e)}setTemplate(t){this.template=new sf(t)}extendTemplate(t){sf.extend(this.template,t)}render(){if(this.isRendered)throw new Ga('ui-view-render-already-rendered: This View has already been rendered.');this.template&&(this.element=this.template.render(),this.registerChildren(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((t)=>t.destroy())}}l(pf,Hc),l(pf,mc);var gf=t(14),ff=t.n(gf);class hf extends pf{constructor(t){super(t),this.body=this.createCollection()}render(){super.render(),this._renderBodyCollection()}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const t=this._bodyCollectionContainer=new sf({tag:'div',attributes:{class:['ck-body','ck-rounded-corners','ck-reset_all']},children:this.body}).render();document.body.appendChild(t)}}var bf=t(16),_f=t.n(bf);class kf extends pf{constructor(n){super(n),this.set('text'),this.set('for');const e=this.bindTemplate;this.setTemplate({tag:'label',attributes:{class:['ck-label'],for:e.to('for')},children:[{text:e.to('text')}]})}}class wf extends hf{constructor(n){super(n);const e=ey();this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(e),this.setTemplate({tag:'div',attributes:{class:['ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:n.language,"aria-labelledby":`ck-editor__aria-label_${e}`},children:[this._voiceLabelView,{tag:'div',attributes:{class:'ck-editor__top ck-reset_all',role:'presentation'},children:this.top},{tag:'div',attributes:{class:'ck-editor__main',role:'presentation'},children:this.main}]})}_createVoiceLabel(n){const e=this.t,o=new kf;return o.text=e('af'),o.extendTemplate({attributes:{id:`ck-editor__aria-label_${n}`,class:'ck-voice-label'}}),o}}class vf extends pf{constructor(n,e){super(n);const t=this.bindTemplate;e&&(this.element=this.editableElement=e),this.setTemplate({tag:'div',attributes:{class:[t.to('isFocused',(t)=>t?'ck-focused':'ck-blurred'),'ck','ck-editor__editable','ck-content','ck-rounded-corners'],contenteditable:t.to('isReadOnly',(t)=>!t)}}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.externalElement=e}render(){super.render(),this.externalElement?this.template.apply(this.element=this.externalElement):this.editableElement=this.element}destroy(){this.externalElement&&this.template.revert(this.externalElement),super.destroy()}}class yf extends vf{constructor(t,e){super(t,e);const o=this.bindTemplate,n=this.t;this.set('name',null),this.extendTemplate({attributes:{role:'textbox',"aria-label":o.to('name',(t)=>n('ae',[t])),class:'ck-editor__editable_inline'}})}}var xf=t(18),Cf=t.n(xf);const Af=mi('px');class Tf extends pf{constructor(n){super(n);const e=this.bindTemplate;this.set('isActive',!1),this.set('isSticky',!1),this.set('limiterElement',null),this.set('limiterBottomOffset',50),this.set('viewportTopOffset',0),this.set('_marginLeft',null),this.set('_isStickyToTheLimiter',!1),this.set('_hasViewportTopOffset',!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new sf({tag:'div',attributes:{class:['ck-sticky-panel__placeholder'],style:{display:e.to('isSticky',(t)=>t?'block':'none'),height:e.to('isSticky',(t)=>t?Af(this._panelRect.height):null)}}}).render(),this._contentPanel=new sf({tag:'div',attributes:{class:['ck-sticky-panel__content',e.if('isSticky','ck-sticky-panel__content_sticky'),e.if('_isStickyToTheLimiter','ck-sticky-panel__content_sticky_bottom-limit')],style:{width:e.to('isSticky',(t)=>t?Af(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to('_hasViewportTopOffset',(t)=>t?Af(this.viewportTopOffset):null),bottom:e.to('_isStickyToTheLimiter',(t)=>t?Af(this.limiterBottomOffset):null),marginLeft:e.to('_marginLeft')}},children:this.content}).render(),this.setTemplate({tag:'div',attributes:{class:['ck-sticky-panel']},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(jc.window,'scroll',()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const n=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<n.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Af(-jc.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class Pf{constructor(a){if(Object.assign(this,a),a.actions&&a.keystrokeHandler)for(const n in a.actions){let e=a.actions[n];'string'==typeof e&&(e=[e]);for(const t of e)a.keystrokeHandler.set(t,(t,e)=>{this[n](),e()})}}get first(){return this.focusables.find(ui)||null}get last(){return this.focusables.filter(ui).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let a=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,t)=>{const o=e.element===this.focusTracker.focusedElement;return o&&(a=t),o}),a)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(a){const e=this.current,r=this.focusables.length;if(!r)return null;if(null===e)return this[1===a?'first':'last'];let i=(e+r+a)%r;do{const e=this.focusables.get(i);if(ui(e))return e;i=(i+r+a)%r}while(i!==e);return null}}class Ef extends pf{constructor(t){super(t),this.setTemplate({tag:'span',attributes:{class:['ck-toolbar__separator']}})}}var Sf=t(20),Of=t.n(Sf);class Rf extends pf{constructor(n){super(n);const e=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new of,this.keystrokes=new Gg,this.set('isVertical',!1),this.set('className'),this._focusCycler=new Pf({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),this.setTemplate({tag:'div',attributes:{class:['ck-toolbar',e.if('isVertical','ck-toolbar_vertical'),e.to('className')]},children:this.items,on:{mousedown:pi(this)}})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on('add',(n,e)=>{this.focusTracker.add(e.element)}),this.items.on('remove',(n,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(n,o){n.map((t)=>{'|'==t?this.items.add(new Ef):o.has(t)?this.items.add(o.create(t)):Cm.warn('toolbarview-item-unavailable: The requested toolbar item is unavailable.',{name:t})})}}var Vf=t(22),If=t.n(Vf);class Ff extends wf{constructor(t){super(t),this.stickyPanel=new Tf(t),this.toolbar=new Rf(t),this.editable=new yf(t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}get editableElement(){return this.editable.element}}class Nf{constructor(){this._replacedElements=[]}replace(n,o){this._replacedElements.push({element:n,newElement:o}),n.style.display='none',o&&n.parentNode.insertBefore(o,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:e})=>{n.style.display='',e&&e.remove()}),this._replacedElements=[]}}class Df extends Qg{constructor(n,e){super(e),this._elementReplacer=new Nf,this.element=n,this.data.processor=new ef,this.model.document.createRoot(),this.ui=new nf(this,new Ff(this.locale)),Bn(this)}destroy(){return this.updateElement(),this._elementReplacer.restore(),this.ui.destroy(),super.destroy()}static create(a,e){return new Promise((t)=>{const o=new this(a,e);t(o.initPlugins().then(()=>o.ui.init()).then(()=>{o._elementReplacer.replace(a,o.ui.view.element),o.fire('uiReady')}).then(()=>o.editing.view.attachDomRoot(o.ui.view.editableElement)).then(()=>o.data.init(gi(a))).then(()=>{o.fire('dataReady'),o.fire('ready')}).then(()=>o))})}}l(Df,Yg),l(Df,Xg);class Mf{constructor(t){this.editor=t}destroy(){this.stopListening()}}l(Mf,mc);class Bf{constructor(t){this.files=fi(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(n,e){this._native.setData(n,e)}}class Lf extends gm{constructor(n){function e(o,e){e.preventDefault();const r=e.dropRange?[e.dropRange]:Array.from(a.selection.getRanges());a.fire('clipboardInput',{dataTransfer:e.dataTransfer,targetRanges:r})}super(n);const a=this.document;this.domEventType=['paste','copy','cut','drop','dragover'],this.listenTo(a,'paste',e,{priority:'low'}),this.listenTo(a,'drop',e,{priority:'low'})}onDomEvent(n){const e={dataTransfer:new Bf(n.clipboardData?n.clipboardData:n.dataTransfer)};'drop'==n.type&&(e.dropRange=hi(this.view,n)),this.fire(n.type,n,e)}}const zf=['figcaption','li'];class jf extends Mf{static get pluginName(){return'Clipboard'}init(){function a(t,i){const n=i.dataTransfer;i.preventDefault();const l=s.data.toView(s.model.getSelectedContent(d.selection));o.fire('clipboardOutput',{dataTransfer:n,content:l,method:t.name})}const s=this.editor,d=s.model.document,t=s.editing.view,o=t.document;this._htmlDataProcessor=new ef,t.addObserver(Lf),this.listenTo(o,'clipboardInput',(n,e)=>{if(s.isReadOnly)return;const o=e.dataTransfer;let a='';o.getData('text/html')?a=_i(o.getData('text/html')):o.getData('text/plain')&&(a=bi(o.getData('text/plain'))),a=this._htmlDataProcessor.toView(a),this.fire('inputTransformation',{content:a}),t.scrollToTheSelection()},{priority:'low'}),this.listenTo(this,'inputTransformation',(n,o)=>{if(!o.content.isEmpty){const t=this.editor.data,e=this.editor.model,n=t.toModel(o.content,'$clipboardHolder');if(0==n.childCount)return;e.insertContent(n,d.selection)}},{priority:'low'}),this.listenTo(o,'copy',a,{priority:'low'}),this.listenTo(o,'cut',(e,t)=>{s.isReadOnly?t.preventDefault():a(e,t)},{priority:'low'}),this.listenTo(o,'clipboardOutput',(t,e)=>{e.content.isEmpty||(e.dataTransfer.setData('text/html',this._htmlDataProcessor.toData(e.content)),e.dataTransfer.setData('text/plain',ki(e.content))),'cut'==e.method&&s.model.deleteContent(d.selection)},{priority:'low'})}}class qf{constructor(n){function a(){this.isEnabled=!1}this.editor=n,this.set('value',void 0),this.set('isEnabled',!1),this.decorate('execute'),this.listenTo(this.editor.model.document,'change',()=>{this.refresh()}),this.on('execute',(t)=>{this.isEnabled||t.stop()},{priority:'high'}),this.listenTo(n,'change:isReadOnly',(t,e,o)=>{o?(this.on('change:isEnabled',a,{priority:'lowest'}),this.isEnabled=!1):(this.off('change:isEnabled',a),this.refresh())})}refresh(){this.isEnabled=!0}execute(){}destroy(){this.stopListening()}}l(qf,mc);class Wf extends qf{execute(){const n=this.editor.model,e=n.document;n.change((t)=>{wi(this.editor.model,t,e.selection,n.schema),this.fire('afterExecute',{writer:t})})}}class Hf extends Kc{constructor(n){super(n);const a=this.document;a.on('keydown',(t,e)=>{if(this.isEnabled&&e.keyCode==Oc.enter){let o;a.once('enter',(t)=>o=t,{priority:'highest'}),a.fire('enter',new pm(a,e.domEvent)),o&&o.stop.called&&t.stop()}})}observe(){}}class Uf extends Mf{static get pluginName(){return'Enter'}init(){const a=this.editor,e=a.editing.view,t=e.document;e.addObserver(Hf),a.commands.add('enter',new Wf(a)),this.listenTo(t,'enter',(t,o)=>{a.execute('enter'),o.preventDefault(),e.scrollToTheSelection()},{priority:'low'})}}class Kf{constructor(n,e=20){this.model=n,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=(n,e)=>{'transparent'!=e.type&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on('change',this._changeCallback),this.model.document.selection.on('change:range',this._selectionChangeCallback),this.model.document.selection.on('change:attribute',this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=new Ig),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off('change',this._changeCallback),this.model.document.selection.off('change:range',this._selectionChangeCallback),this.model.document.selection.off('change:attribute',this._selectionChangeCallback)}_reset(t){(!this.isLocked||t)&&(this._batch=null,this.size=0)}}class $f extends qf{constructor(n,e){super(n),this._buffer=new Kf(n.model,e)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(s={}){const e=this.editor.model,d=e.document,o=s.text||'',n=o.length,i=s.range||d.selection.getFirstRange(),r=s.resultRange;e.enqueueChange(this._buffer.batch,(a)=>{const e=i.isCollapsed;this._buffer.lock(),e||a.remove(i),o&&a.insertText(o,d.selection.getAttributes(),i.start),r?a.setSelection(r):e&&a.setSelection(i.start.getShiftedBy(n)),this._buffer.unlock(),this._buffer.input(n)})}}class Gf extends Mf{static get pluginName(){return'Input'}init(){const n=this.editor,e=n.editing.view,a=new $f(n,n.config.get('typing.undoStep')||20);n.commands.add('input',a),this.listenTo(e.document,'keydown',(n,e)=>{this._handleKeydown(e,a)},{priority:'lowest'}),this.listenTo(e.document,'mutations',(n,e,t)=>{this._handleMutations(e,t)})}_handleKeydown(a,e){const t=this.editor.model,o=t.document,n=e.buffer;!e.isEnabled||xi(a)||o.selection.isCollapsed||(n.lock(),t.enqueueChange(n.batch,()=>{this.editor.model.deleteContent(o.selection)}),n.unlock())}_handleMutations(n,e){new Jf(this.editor).handle(n,e)}}class Jf{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(n,e){if(Pi(n))this._handleContainerChildrenMutations(n,e);else for(const t of n)this._handleTextMutation(t,e),this._handleTextNodeInsertion(t)}_handleContainerChildrenMutations(y,e){const t=Ti(y);if(!t)return;const k=this.editor.editing.view.domConverter,n=k.mapViewToDom(t),i=new qc,r=this.editor.data.toModel(i.domToView(n)).getChild(0),a=this.editor.editing.mapper.toModelElement(t);if(!a)return;const v=Array.from(r.getChildren()),l=Array.from(a.getChildren());if(!Ei(v)||!Ei(l))return;const d=v.map((t)=>t.data).join('').replace(/\u00A0/g,' '),c=l.map((t)=>t.data).join('');if(c===d)return;const m=Ce(c,d),{firstChangeAt:u,insertions:p,deletions:g}=Si(m);let f=null;e&&(f=this.editing.mapper.toModelRange(e.getFirstRange()));const w=d.substr(u,p),x=zm.createFromParentsAndOffsets(a,u,a,u+g);this.editor.execute('input',{text:w,range:x,resultRange:f})}_handleTextMutation(p,e){if('text'!=p.type)return;const t=p.newText.replace(/\u00A0/g,' '),o=p.oldText.replace(/\u00A0/g,' '),n=Ce(o,t),{firstChangeAt:i,insertions:r,deletions:a}=Si(n);let s=null;e&&(s=this.editing.mapper.toModelRange(e.getFirstRange()));const f=new bc(p.node,i),d=this.editing.mapper.toModelPosition(f),c=zm.createFromPositionAndShift(d,a),g=t.substr(i,r);this.editor.execute('input',{text:g,range:c,resultRange:s})}_handleTextNodeInsertion(a){if('children'==a.type){const e=Ai(a),t=new bc(a.node,e.index),o=this.editing.mapper.toModelPosition(t),n=e.values[0].data;this.editor.execute('input',{text:n.replace(/\u00A0/g,' '),range:new zm(o)})}}}const Qf=[Z('arrowUp'),Z('arrowRight'),Z('arrowDown'),Z('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229];for(let o=112;135>=o;o++)Qf.push(o);class Yf extends qf{constructor(n,e){super(n),this.direction=e,this._buffer=new Kf(n.model,n.config.get('typing.undoStep'))}execute(s={}){const e=this.editor.model,t=e.document;e.enqueueChange(this._buffer.batch,(o)=>{this._buffer.lock();const n=new Hm(t.selection),i=n.isCollapsed;if(n.isCollapsed&&e.modifySelection(n,{direction:this.direction,unit:s.unit}),this._shouldEntireContentBeReplacedWithParagraph(s.sequence||1))return void this._replaceEntireContentWithParagraph(o);if(n.isCollapsed)return;let d=0;n.getFirstRange().getMinimalFlatRanges().forEach((t)=>{d+=G(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(n,{doNotResetEntireContent:i}),this._buffer.input(d),o.setSelection(n),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(s){if(1<s)return!1;const e=this.editor.model,t=e.document,o=t.selection,n=e.schema.getLimitElement(o),i=o.isCollapsed&&o.containsEntireContent(n);if(!i)return!1;if(!e.schema.checkChild(n,'paragraph'))return!1;const d=n.getChild(0);return!(d&&'paragraph'===d.name)}_replaceEntireContentWithParagraph(a){const e=this.editor.model,t=e.document,o=t.selection,n=e.schema.getLimitElement(o),i=new Dm('paragraph');a.remove(zm.createIn(n)),a.insert(i,n),a.setSelection(i,0)}}class Xf extends Kc{constructor(n){super(n);const s=n.document;let d=0;s.on('keyup',(n,e)=>{(e.keyCode==Oc.delete||e.keyCode==Oc.backspace)&&(d=0)}),s.on('keydown',(t,e)=>{const n={};if(e.keyCode==Oc.delete)n.direction='forward',n.unit='character';else if(e.keyCode==Oc.backspace)n.direction='backward',n.unit='codePoint';else return;const o=Pc.isMac?e.altKey:e.ctrlKey;n.unit=o?'word':n.unit,n.sequence=++d;let r;s.once('delete',(t)=>r=t,{priority:'highest'}),s.fire('delete',new pm(s,e.domEvent,n)),r&&r.stop.called&&t.stop()})}observe(){}}class Zf extends Mf{static get pluginName(){return'Delete'}init(){const a=this.editor,e=a.editing.view,t=e.document;e.addObserver(Xf),a.commands.add('forwardDelete',new Yf(a,'forward')),a.commands.add('delete',new Yf(a,'backward')),this.listenTo(t,'delete',(t,o)=>{a.execute('forward'==o.direction?'forwardDelete':'delete',{unit:o.unit,sequence:o.sequence}),o.preventDefault(),e.scrollToTheSelection()})}}class eh extends Mf{static get requires(){return[Gf,Zf]}static get pluginName(){return'Typing'}}class th extends qf{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=0<this._stack.length}addBatch(n){const a=this.editor.model.document.selection,t={ranges:a.hasOwnRange?Array.from(a.getRanges()):[],isBackward:a.isBackward};this._stack.push({batch:n,selection:t}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(a,s,d){const e=this.editor.model,n=e.document,o=[];for(const r of a){const a=Oi(r,d),e=a.find((t)=>t.start.root!=n.graveyard);e&&o.push(e)}o.length&&e.change((n)=>{n.setSelection(o,{backward:s})})}_undo(a){const d=this.editor.model,t=d.document,o=new Ig;this._createdBatches.add(o);const e=a.deltas.slice();e.reverse();for(const n of e)if(n.operations.some((t)=>t.isDocumentOperation)){const r=n.baseVersion+n.operations.length,e=Array.from(t.history.getDeltas(r)),i=d.transformDeltas([n.getReversed()],e,!0),a=i.deltasA;for(const r of a){r.baseVersion=t.version,o.addDelta(r);for(const e of r.operations)d.applyOperation(e);t.history.setDeltaAsUndone(n,r)}}return o}}class oh extends th{execute(n=null){const e=n?this._stack.findIndex((e)=>e.batch==n):this._stack.length-1,a=this._stack.splice(e,1)[0];this.editor.model.enqueueChange(()=>{const n=this._undo(a.batch),e=this.editor.model.document.history.getDeltas(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,e),this.fire('revert',a.batch,n)}),this.refresh()}}class nh extends th{execute(){const a=this._stack.pop();this.editor.model.enqueueChange(()=>{const e=a.batch.deltas[a.batch.deltas.length-1],t=e.baseVersion+e.operations.length,o=this.editor.model.document.history.getDeltas(t);this._restoreSelection(a.selection.ranges,a.selection.isBackward,o),this._undo(a.batch)}),this.refresh()}}class ih extends Mf{constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new oh(t),this._redoCommand=new nh(t),t.commands.add('undo',this._undoCommand),t.commands.add('redo',this._redoCommand),this.listenTo(t.model,'applyOperation',(n,e)=>{const t=e[0];if(t.isDocumentOperation){const n=t.delta.batch;this._batchRegistry.has(n)||'transparent'==n.type||(this._redoCommand._createdBatches.has(n)?this._undoCommand.addBatch(n):!this._undoCommand._createdBatches.has(n)&&(this._undoCommand.addBatch(n),this._redoCommand.clearStack()),this._batchRegistry.add(n))}},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',(n,e,t)=>{this._redoCommand.addBatch(t)}),t.keystrokes.set('CTRL+Z','undo'),t.keystrokes.set('CTRL+Y','redo'),t.keystrokes.set('CTRL+SHIFT+Z','redo')}}var rh=t(24),ah=t.n(rh);class sh extends pf{constructor(){super();const t=this.bindTemplate;this.set('content',''),this.set('viewBox','0 0 20 20'),this.set('fillColor',''),this.setTemplate({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:'ck-icon',viewBox:t.to('viewBox')}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on('change:content',()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on('change:fillColor',()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const n=new DOMParser().parseFromString(this.content.trim(),'image/svg+xml'),e=n.querySelector('svg'),t=e.getAttribute('viewBox');for(t&&(this.viewBox=t),this.element.innerHTML='';0<e.childNodes.length;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll('.ck-icon__fill').forEach((t)=>{t.style.fill=this.fillColor})}}var lh=t(26),dh=t.n(lh);class ch extends pf{constructor(n){super(n),this.set('text',''),this.set('position','s');const e=this.bindTemplate;this.setTemplate({tag:'span',attributes:{class:['ck-tooltip',e.to('position',(t)=>'ck-tooltip_'+t),e.if('text','ck-hidden',(t)=>!t.trim())]},children:[{tag:'span',attributes:{class:['ck-tooltip__text']},children:[{text:e.to('text')}]}]})}}var mh=t(28),uh=t.n(mh);class ph extends pf{constructor(n){super(n);const e=this.bindTemplate;this.set('icon'),this.set('isEnabled',!0),this.set('isOn',!1),this.set('isVisible',!0),this.set('keystroke'),this.set('label'),this.set('tabindex',-1),this.set('tooltip'),this.set('tooltipPosition','s'),this.set('type','button'),this.set('withText',!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(),this.iconView=new sh,this.iconView.extendTemplate({attributes:{class:'ck-button__icon'}}),this.bind('_tooltipString').to(this,'tooltip',this,'label',this,'keystroke',this._getTooltipString.bind(this)),this.setTemplate({tag:'button',attributes:{class:['ck-button',e.to('isEnabled',(t)=>t?'ck-enabled':'ck-disabled'),e.if('isVisible','ck-hidden',(t)=>!t),e.to('isOn',(t)=>t?'ck-on':'ck-off'),e.if('withText','ck-button_with-text')],type:e.to('type',(t)=>t?t:'button'),tabindex:e.to('tabindex')},children:this.children,on:{mousedown:e.to((t)=>{t.preventDefault()}),click:e.to((t)=>{this.isEnabled?this.fire('execute'):t.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind('content').to(this,'icon'),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView)}focus(){this.element.focus()}_createTooltipView(){const t=new ch;return t.bind('text').to(this,'_tooltipString'),t.bind('position').to(this,'tooltipPosition'),t}_createLabelView(){const t=new pf;return t.setTemplate({tag:'span',attributes:{class:['ck-button__label']},children:[{text:this.bindTemplate.to('label')}]}),t}_getTooltipString(n,a,t){return n?'string'==typeof n?n:(t&&(t=ee(t)),n instanceof Function?n(a,t):`${a}${t?` (${t})`:''}`):''}}var gh=t(30),fh=t.n(gh),hh=t(31),bh=t.n(hh);class _h extends Mf{init(){const t=this.editor,e=t.t;this._addButton('undo',e('ag'),'CTRL+Z',fh.a),this._addButton('redo',e('ah'),'CTRL+Y',bh.a)}_addButton(d,e,l,c){const u=this.editor;u.ui.componentFactory.add(d,(i)=>{const r=u.commands.get(d),a=new ph(i);return a.set({label:e,icon:c,keystroke:l,tooltip:!0}),a.bind('isEnabled').to(r,'isEnabled'),this.listenTo(a,'execute',()=>u.execute(d)),a})}}class kh extends Mf{static get requires(){return[ih,_h]}static get pluginName(){return'Undo'}}class wh extends Mf{static get requires(){return[jf,Uf,eh,kh]}static get pluginName(){return'Essentials'}}class vh{constructor(){const t=new window.FileReader;this._reader=t,this.set('loaded',0),t.onprogress=(t)=>{this.loaded=t.loaded}}get error(){return this._reader.error}read(a){const e=this._reader;return this.total=a.size,new Promise((t,o)=>{e.onload=()=>{t(e.result)},e.onerror=()=>{o('error')},e.onabort=()=>{o('aborted')},this._reader.readAsDataURL(a)})}abort(){this._reader.abort()}}l(vh,mc);class yh extends Mf{static get pluginName(){return'FileRepository'}init(){this.loaders=new wc,this.set('uploaded',0),this.set('uploadTotal',null),this.bind('uploadedPercent').to(this,'uploaded',this,'uploadTotal',(n,e)=>e?100*(n/e):0)}getLoader(n){for(const e of this.loaders)if(e.file==n)return e;return null}createLoader(n){if(!this.createUploadAdapter)return Cm.error('filerepository-no-upload-adapter: Upload adapter is not defined.'),null;const e=new xh(n);return e._adapter=this.createUploadAdapter(e),this.loaders.add(e),e.on('change:uploaded',()=>{let n=0;for(const e of this.loaders)n+=e.uploaded;this.uploaded=n}),e.on('change:uploadTotal',()=>{let n=0;for(const e of this.loaders)e.uploadTotal&&(n+=e.uploadTotal);this.uploadTotal=n}),e}destroyLoader(n){const e=n instanceof xh?n:this.getLoader(n);e._destroy(),this.loaders.remove(e)}}l(yh,mc);class xh{constructor(n,e){this.id=ey(),this.file=n,this._adapter=e,this._reader=new vh,this.set('status','idle'),this.set('uploaded',0),this.set('uploadTotal',null),this.bind('uploadedPercent').to(this,'uploaded',this,'uploadTotal',(n,e)=>e?100*(n/e):0),this.set('uploadResponse',null)}read(){if('idle'!=this.status)throw new Ga('filerepository-read-wrong-status: You cannot call read if the status is different than idle.');return this.status='reading',this._reader.read(this.file).then((t)=>(this.status='idle',t)).catch((t)=>{if('aborted'===t)throw this.status='aborted','aborted';throw this.status='error',this._reader.error})}upload(){if('idle'!=this.status)throw new Ga('filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.');return this.status='uploading',this._adapter.upload().then((t)=>(this.uploadResponse=t,this.status='idle',t)).catch((t)=>{if('aborted'===this.status)throw'aborted';throw this.status='error',t})}abort(){const t=this.status;this.status='aborted','reading'==t&&this._reader.abort(),'uploading'==t&&this._adapter.abort&&this._adapter.abort(),this._destroy()}_destroy(){this._reader=void 0,this._adapter=void 0,this.data=void 0,this.uploadResponse=void 0,this.file=void 0}}l(xh,mc);const Ch='ckCsrfToken',Ah=40,Th='abcdefghijklmnopqrstuvwxyz0123456789';class Ph extends Mf{static get requires(){return[yh]}static get pluginName(){return'CKFinderUploadAdapter'}init(){const n=this.editor.config.get('ckfinder.uploadUrl');n&&(this.editor.plugins.get(yh).createUploadAdapter=(e)=>new Eh(e,n,this.editor.t))}}class Eh{constructor(t,e,o){this.loader=t,this.url=e,this.t=o}upload(){return new Promise((n,e)=>{this._initRequest(),this._initListeners(n,e),this._sendRequest()})}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open('POST',this.url,!0),t.responseType='json'}_initListeners(a,e){const o=this.xhr,n=this.loader,i=this.t,r=i('a')+` ${n.file.name}.`;o.addEventListener('error',()=>e(r)),o.addEventListener('abort',()=>e()),o.addEventListener('load',()=>{const t=o.response;return t&&t.uploaded?void a({default:t.url}):e(t&&t.error&&t.error.message?t.error.message:r)}),o.upload&&o.upload.addEventListener('progress',(t)=>{t.lengthComputable&&(n.uploadTotal=t.total,n.uploaded=t.loaded)})}_sendRequest(){const t=new FormData;t.append('upload',this.loader.file),t.append('ckCsrfToken',Vi()),this.xhr.send(t)}}class Sh{constructor(s,e,t){let i;i='function'==typeof t?t:()=>{s.execute(t)},s.model.document.on('change',()=>{const t=Array.from(s.model.document.differ.getChanges()),n=t[0];if(1!=t.length||'insert'!==n.type||'$text'!=n.name||1!=n.length)return;const o=n.position.textNode||n.position.nodeAfter;if(!o.parent.is('paragraph'))return;const r=e.exec(o.data);r&&s.model.enqueueChange((n)=>{const e=zm.createFromParentsAndOffsets(o.parent,0,o.parent,r[0].length);n.remove(e),i({match:r})})})}}class Oh{constructor(u,e,t){let s,n,i,r;e instanceof RegExp?s=e:i=e,'string'==typeof t?n=t:r=t,i=i||((n)=>{let d;const t=[],c=[];for(;null!==(d=s.exec(n))&&!(d&&4>d.length);){let{index:o,1:e,2:n,3:r}=d;o+=d[0].length-(e+n+r).length;const a=[o,o+e.length],i=[o+e.length+n.length,o+e.length+n.length+r.length];t.push(a),t.push(i),c.push([o+e.length,o+e.length+n.length])}return{remove:t,format:c}}),r=r||((a,e)=>{for(const t of e)a.setAttribute(n,!0,t);a.removeSelectionAttribute(n)}),u.model.document.on('change',()=>{const e=u.model.document.selection;if(!e.isCollapsed)return;const t=Array.from(u.model.document.differ.getChanges()),o=t[0];if(1!=t.length||'insert'!==o.type||'$text'!=o.name||1!=o.length)return;const a=e.focus.parent,s=Di(a).slice(0,e.focus.offset),l=i(s),d=Mi(a,l.format),c=Mi(a,l.remove);d.length&&c.length&&u.model.enqueueChange((a)=>{const e=u.model.schema.getValidRanges(d,n);r(a,e);for(const t of c.reverse())a.remove(t)})})}}class Rh extends Mf{static get pluginName(){return'Autoformat'}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get('bulletedList')&&new Sh(this.editor,/^[*-]\s$/,'bulletedList'),t.get('numberedList')&&new Sh(this.editor,/^\d+[.|)]\s$/,'numberedList')}_addBasicStylesAutoformats(){const t=this.editor.commands;t.get('bold')&&(new Oh(this.editor,/(\*\*)([^*]+)(\*\*)$/g,'bold'),new Oh(this.editor,/(__)([^_]+)(__)$/g,'bold')),t.get('italic')&&(new Oh(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,'italic'),new Oh(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic')),t.get('code')&&new Oh(this.editor,/(`)([^`]+)(`)$/g,'code')}_addHeadingAutoformats(){const t=this.editor.commands.get('heading');t&&t.modelElements.filter((t)=>t.match(/^heading[1-6]$/)).forEach((n)=>{const a=n[7],t=new RegExp(`^(#{${a}})\\s$`);new Sh(this.editor,t,()=>{this.editor.execute('heading',{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get('blockQuote')&&new Sh(this.editor,/^>\s$/,'blockQuote')}}class Vh extends qf{constructor(n,e){super(n),this.attributeKey=e}refresh(){const n=this.editor.model,e=n.document;this.value=e.selection.hasAttribute(this.attributeKey),this.isEnabled=n.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(a={}){const r=this.editor.model,e=r.document,t=e.selection,n=void 0===a.forceValue?!this.value:a.forceValue;r.change((a)=>{if(t.isCollapsed)n?a.setSelectionAttribute(this.attributeKey,!0):a.removeSelectionAttribute(this.attributeKey);else{const e=r.schema.getValidRanges(t.getRanges(),this.attributeKey);for(const o of e)n?a.setAttribute(this.attributeKey,n,o):a.removeAttribute(this.attributeKey,o)}})}}const Ih='bold';class My extends Mf{init(){const t=this.editor;t.model.schema.extend('$text',{allowAttributes:Ih}),t.conversion.attributeToElement({model:Ih,view:'strong',upcastAlso:['b',{style:{"font-weight":'bold'}}]}),t.commands.add(Ih,new Vh(t,Ih)),t.keystrokes.set('CTRL+B',Ih)}}var Nh=t(32),Dh=t.n(Nh);const Mh='bold';class Bh extends Mf{init(){const a=this.editor,e=a.t;a.ui.componentFactory.add(Mh,(o)=>{const t=a.commands.get(Mh),n=new ph(o);return n.set({label:e('c'),icon:Dh.a,keystroke:'CTRL+B',tooltip:!0}),n.bind('isOn','isEnabled').to(t,'value','isEnabled'),this.listenTo(n,'execute',()=>a.execute(Mh)),n})}}class Lh extends Mf{static get requires(){return[My,Bh]}static get pluginName(){return'Bold'}}const zh='italic';class Dy extends Mf{init(){const t=this.editor;t.model.schema.extend('$text',{allowAttributes:zh}),t.conversion.attributeToElement({model:zh,view:'i',upcastAlso:['em',{style:{"font-style":'italic'}}]}),t.commands.add(zh,new Vh(t,zh)),t.keystrokes.set('CTRL+I',zh)}}var qh=t(33),Wh=t.n(qh);const Hh='italic';class Uh extends Mf{init(){const a=this.editor,e=a.t;a.ui.componentFactory.add(Hh,(o)=>{const t=a.commands.get(Hh),n=new ph(o);return n.set({label:e('b'),icon:Wh.a,keystroke:'CTRL+I',tooltip:!0}),n.bind('isOn','isEnabled').to(t,'value','isEnabled'),this.listenTo(n,'execute',()=>a.execute(Hh)),n})}}class Kh extends Mf{static get requires(){return[Dy,Uh]}static get pluginName(){return'Italic'}}class $h extends qf{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const a=this.editor.model,e=a.document,t=a.schema,o=Array.from(e.selection.getSelectedBlocks());a.change((n)=>{if(this.value)this._removeQuote(n,o.filter(Li));else{const e=o.filter((n)=>Li(n)||ji(t,n));this._applyQuote(n,e)}})}_getValue(){const t=Bi(this.editor.model.document.selection.getSelectedBlocks());return!!(t&&Li(t))}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,e=this.editor.model.schema,t=Bi(n.getSelectedBlocks());return!!t&&ji(e,t)}_removeQuote(n,e){zi(e).reverse().forEach((e)=>{if(e.start.isAtStart&&e.end.isAtEnd)return void n.unwrap(e.start.parent);if(e.start.isAtStart){const t=ly.createBefore(e.start.parent);return void n.move(e,t)}e.end.isAtEnd||n.split(e.end);const t=ly.createAfter(e.end.parent);n.move(e,t)})}_applyQuote(a,e){const r=[];zi(e).reverse().forEach((e)=>{let t=Li(e.start);t||(t=new Dm('blockQuote'),a.wrap(e,t)),r.push(t)}),r.reverse().reduce((e,t)=>e.nextSibling==t?(a.merge(ly.createAfter(e)),e):t)}}class Gh extends Mf{init(){const n=this.editor,e=n.model.schema;n.commands.add('blockQuote',new $h(n)),e.register('blockQuote',{allowWhere:'$block',allowContentOf:'$root'}),e.addChildCheck((n,e)=>{if(n.endsWith('blockQuote')&&'blockQuote'==e.name)return!1}),n.conversion.elementToElement({model:'blockQuote',view:'blockquote'})}afterInit(){const n=this.editor,a=n.commands.get('blockQuote');this.listenTo(this.editor.editing.view.document,'enter',(t,e)=>{const o=this.editor.model.document,n=o.selection.getLastPosition().parent;o.selection.isCollapsed&&n.isEmpty&&a.value&&(this.editor.execute('blockQuote'),this.editor.editing.view.scrollToTheSelection(),e.preventDefault(),t.stop())})}}var Jh=t(34),Qh=t.n(Jh),Yh=t(35),Xh=t.n(Yh);class Zh extends Mf{init(){const a=this.editor,e=a.t;a.ui.componentFactory.add('blockQuote',(o)=>{const t=a.commands.get('blockQuote'),n=new ph(o);return n.set({label:e('d'),icon:Qh.a,tooltip:!0}),n.bind('isOn','isEnabled').to(t,'value','isEnabled'),this.listenTo(n,'execute',()=>a.execute('blockQuote')),n})}}class eb extends Mf{static get requires(){return[Gh,Zh]}static get pluginName(){return'BlockQuote'}}const tb=/^data:(\S*?);base64,/;class ob{constructor(n,a,r){if(!n)throw new Error('File must be provided');if(!a)throw new Error('Token must be provided');if(!r)throw new Error('Api address must be provided');this.file=Wi(n)?qi(n):n,this._token=a,this._apiAddress=r}onProgress(n){return this.on('progress',(e,t)=>n(t)),this}onError(n){return this.once('error',(e,t)=>n(t)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open('POST',this._apiAddress),t.setRequestHeader('Authorization',this._token.value),t.responseType='json',this.xhr=t}_attachXHRListeners(){function n(t){return()=>a.fire('error',t)}const a=this,r=this.xhr;r.addEventListener('error',n('Network Error')),r.addEventListener('abort',n('Abort')),r.upload&&r.upload.addEventListener('progress',(t)=>{t.lengthComputable&&this.fire('progress',{total:t.total,uploaded:t.loaded})}),r.addEventListener('load',()=>{const n=r.status,e=r.response;if(200>n||299<n)return this.fire('error',e.message||e.error)})}_sendRequest(){const a=new FormData,r=this.xhr;return a.append('file',this.file),new Promise((t,o)=>{r.addEventListener('load',()=>{const n=r.status,e=r.response;return 200>n||299<n?o(e.message||e.error):t(e)}),r.addEventListener('error',()=>o('Network Error')),r.addEventListener('abort',()=>o('Abort')),r.send(a)})}}l(ob,ts);const nb={refreshInterval:36e5,autoRefresh:!0};class ib{constructor(n,o=nb){if(!n)throw new Error('`tokenUrl` must be provided');this.set('value',o.initValue),this._tokenUrl=n,this._options=Object.assign({},nb,o)}init(){return new Promise((n,e)=>(this._options.autoRefresh&&this._startRefreshing(),this.value?void n(this):void this._refreshToken().then(n).catch(e)))}_refreshToken(){return new Promise((a,e)=>{const t=new XMLHttpRequest;t.open('GET',this._tokenUrl),t.addEventListener('load',()=>{const o=t.status,n=t.response;return 200>o||299<o?e('Cannot download new token!'):(this.set('value',n),a(this))}),t.addEventListener('error',()=>e('Network Error')),t.addEventListener('abort',()=>e('Abort')),t.send()})}_startRefreshing(){this._refreshInterval=setInterval(this._refreshToken.bind(this),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(n,e=nb){const t=new ib(n,e);return t.init()}}l(ib,mc);class rb extends Mf{init(){const n=this.editor,e=n.config,t=e.get('cloudServices')||{};for(const n in t)this[n]=t[n];return this.tokenUrl?(this.token=new rb.Token(this.tokenUrl),this.token.init()):void(this.token=null)}}rb.Token=ib;class ab extends Mf{static get requires(){return[yh,rb]}init(){const a=this.editor,e=a.plugins.get(rb),t=e.token,o=e.uploadUrl;t&&(this._uploadGateway=new ab._UploadGateway(t,o),a.plugins.get(yh).createUploadAdapter=(t)=>new sb(this._uploadGateway,t))}}class sb{constructor(n,e){this.uploadGateway=n,this.loader=e}upload(){return this.fileUploader=this.uploadGateway.upload(this.loader.file),this.fileUploader.on('progress',(n,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded}),this.fileUploader.send()}abort(){this.fileUploader.abort()}}ab._UploadGateway=class{constructor(n,o){if(!n)throw new Error('Token must be provided');if(!o)throw new Error('Api address must be provided');this._token=n,this._apiAddress=o}upload(t){return new ob(t,this._token,this._apiAddress)}};class lb{constructor(){this._stack=[]}add(a,e){const r=this._stack,o=r[0];this._insertDescriptor(a);const s=r[0];o===s||$i(o,s)||this.fire('change:top',{oldDescriptor:o,newDescriptor:s,writer:e})}remove(a,e){const r=this._stack,o=r[0];this._removeDescriptor(a);const s=r[0];o===s||$i(o,s)||this.fire('change:top',{oldDescriptor:o,newDescriptor:s,writer:e})}_insertDescriptor(a){const e=this._stack,t=e.findIndex((e)=>e.id===a.id);if(!$i(a,e[t])){-1<t&&e.splice(t,1);let o=0;for(;e[o]&&Gi(e[o],a);)o++;e.splice(o,0,a)}}_removeDescriptor(n){const e=this._stack,t=e.findIndex((e)=>e.id===n);-1<t&&e.splice(t,1)}}l(lb,ts);const db=Symbol('isWidget'),cb=Symbol('label'),mb='ck-widget',ub='ck-widget_selected',pb=Symbol('isImage');class gb extends Mf{init(){const a=this.editor,e=a.model.schema,o=a.t,n=a.conversion;e.register('image',{isObject:!0,isBlock:!0,allowWhere:'$block',allowAttributes:['alt','src','srcset']}),n.for('dataDowncast').add(gt({model:'image',view:(n,e)=>sr(e)})),n.for('editingDowncast').add(gt({model:'image',view:(n,e)=>nr(sr(e),e,o('e'))})),n.for('downcast').add(Ki('src')).add(Ki('alt')).add(Ui()),n.for('upcast').add(ao({view:{name:'img',attribute:{src:!0}},model:(n,e)=>e.createElement('image',{src:n.getAttribute('src')})})).add(so({view:{name:'img',key:'alt'},model:'alt'})).add(so({view:{name:'img',key:'srcset'},model:{key:'srcset',value:(n)=>{const e={data:n.getAttribute('srcset')};return n.hasAttribute('width')&&(e.width=n.getAttribute('width')),e}}})).add(Hi())}}class fb extends gm{constructor(t){super(t),this.domEventType='mousedown'}onDomEvent(t){this.fire(t.type,t)}}var hb=t(37),bb=t.n(hb);const _b=X('Ctrl+A');class kb extends Mf{static get pluginName(){return'Widget'}init(){const n=this.editor.editing.view,e=n.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on('selection',(a,e,t)=>{this._clearPreviouslySelectedWidgets(t.writer);const o=t.writer,n=o.document.selection,i=n.getSelectedElement();for(const r of n.getRanges())for(const a of r){const e=a.item;e.is('element')&&Qi(e)&&(o.addClass(ub,e),this._previouslySelected.add(e),e==i&&o.setSelection(n.getRanges(),{fake:!0,label:er(i)}))}},{priority:'low'}),n.addObserver(fb),this.listenTo(e,'mousedown',(...t)=>this._onMousedown(...t)),this.listenTo(e,'keydown',(...t)=>this._onKeydown(...t),{priority:'high'}),this.listenTo(e,'delete',(n,e)=>{this._handleDelete('forward'==e.direction)&&(e.preventDefault(),n.stop())},{priority:'high'})}_onMousedown(s,e){const t=this.editor,o=t.editing.view,n=o.document;let i=e.target;if(cr(i))return;if(!Qi(i)&&(i=i.findAncestor(Qi),!i))return;e.preventDefault(),n.isFocused||o.focus();const d=t.editing.mapper.toModelElement(i);t.model.change(()=>{this._setSelectionOverElement(d)})}_onKeydown(a,e){const t=e.keyCode,o=t==Oc.delete||t==Oc.arrowdown||t==Oc.arrowright;let n=!1;lr(t)?n=this._handleArrowKeys(o):dr(e)&&(n=this._selectAllNestedEditableContent()||this._selectAllContent()),n&&(e.preventDefault(),a.stop())}_handleDelete(a){if(this.editor.isReadOnly)return;const e=this.editor.model.document,r=e.selection;if(!r.isCollapsed)return;const t=this._getObjectElementNextToSelection(a);if(t)return this.editor.model.change((n)=>{for(let e=r.anchor.parent;e.isEmpty;){const t=e;e=t.parent,n.remove(t)}this._setSelectionOverElement(t)}),!0}_handleArrowKeys(s){const e=this.editor.model,t=e.schema,o=e.document,d=o.selection,n=d.getSelectedElement();if(n&&t.isObject(n)){const o=s?d.getLastPosition():d.getFirstPosition(),n=t.getNearestSelectionRange(o,s?'forward':'backward');return n&&e.change((t)=>{t.setSelection(n)}),!0}if(!d.isCollapsed)return;const r=this._getObjectElementNextToSelection(s);if(r instanceof Dm&&t.isObject(r))return e.change(()=>{this._setSelectionOverElement(r)}),!0}_selectAllNestedEditableContent(){const n=this.editor.model,e=n.document.selection,t=n.schema.getLimitElement(e);return e.getFirstRange().root!=t&&(n.change((n)=>{n.setSelection(zm.createIn(t))}),!0)}_selectAllContent(){const a=this.editor.model,e=this.editor.editing,t=e.view,o=t.document,n=o.selection,i=n.getSelectedElement();if(i&&Qi(i)){const t=e.mapper.toModelElement(i.parent);return a.change((n)=>{n.setSelection(zm.createIn(t))}),!0}return!1}_setSelectionOverElement(n){this.editor.model.change((e)=>{e.setSelection(zm.createOn(n))})}_getObjectElementNextToSelection(a){const e=this.editor.model,t=e.schema,o=e.document.selection,n=new Hm(o);e.modifySelection(n,{direction:a?'forward':'backward'});const i=a?n.focus.nodeBefore:n.focus.nodeAfter;return i instanceof Dm&&t.isObject(i)?i:null}_clearPreviouslySelectedWidgets(n){for(const e of this._previouslySelected)n.removeClass(ub,e);this._previouslySelected.clear()}}class wb extends qf{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=ar(t),this.value=!!(ar(t)&&t.hasAttribute('alt'))&&t.getAttribute('alt')}execute(n){const e=this.editor.model,a=e.document.selection.getSelectedElement();e.change((e)=>{e.setAttribute('alt',n.newValue,a)})}}class vb extends Mf{init(){this.editor.commands.add('imageTextAlternative',new wb(this.editor))}}class yb extends pf{constructor(a,e){super(a);const t=`ck-input-${ey()}`;this.set('label'),this.set('value'),this.set('isReadOnly',!1),this.labelView=this._createLabelView(t),this.inputView=this._createInputView(e,t);const o=this.bindTemplate;this.setTemplate({tag:'div',attributes:{class:['ck-labeled-input',o.if('isReadOnly','ck-disabled')]},children:[this.labelView,this.inputView]})}_createLabelView(n){const e=new kf(this.locale);return e.for=n,e.bind('text').to(this,'label'),e}_createInputView(n,e){const t=new n(this.locale);return t.id=e,t.bind('value').to(this),t.bind('isReadOnly').to(this),t}select(){this.inputView.select()}focus(){this.inputView.focus()}}var xb=t(39),Cb=t.n(xb);class Ab extends pf{constructor(n){super(n),this.set('value'),this.set('id'),this.set('placeholder'),this.set('isReadOnly',!1);const e=this.bindTemplate;this.setTemplate({tag:'input',attributes:{type:'text',class:['ck-input','ck-input-text'],id:e.to('id'),placeholder:e.to('placeholder'),readonly:e.to('isReadOnly')}})}render(){super.render();const a=(t)=>{this.element.value=t||0===t?t:''};a(this.value),this.on('change:value',(e,t,o)=>{a(o)})}select(){this.element.select()}focus(){this.element.focus()}}var Tb=t(3),Pb=t.n(Tb),Eb=t(4),Sb=t.n(Eb),Ob=t(41),Rb=t.n(Ob);class Vb extends pf{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new of,this.keystrokes=new Gg,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e('ab'),Pb.a),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(e('ac'),Sb.a,'cancel'),this._focusables=new rf,this._focusCycler=new Pf({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),this.saveButtonView.extendTemplate({attributes:{class:['ck-button-action']}}),this.setTemplate({tag:'form',attributes:{class:['ck-text-alternative-form'],tabindex:'-1'},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),ur({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((t)=>{this._focusables.add(t),this.focusTracker.add(t.element)})}_createButton(a,r,i){const o=new ph(this.locale);return o.set({label:a,icon:r,tooltip:!0}),i&&o.delegate('execute').to(this,i),o}_createLabeledInputView(){const n=this.locale.t,e=new yb(this.locale,Ab);return e.label=n('ai'),e.inputView.placeholder=n('ai'),e}}var Ib=t(43),Fb=t.n(Ib);const Nb=mi('px'),Db=jc.document.body;class Ny extends pf{constructor(n){super(n);const e=this.bindTemplate;this.set('top',0),this.set('left',0),this.set('position','arrow_nw'),this.set('isVisible',!1),this.set('withArrow',!0),this.set('className'),this.content=this.createCollection(),this.setTemplate({tag:'div',attributes:{class:['ck-balloon-panel',e.to('position',(t)=>`ck-balloon-panel_${t}`),e.if('isVisible','ck-balloon-panel_visible'),e.if('withArrow','ck-balloon-panel_with-arrow'),e.to('className')],style:{top:e.to('top',Nb),left:e.to('left',Nb)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(a){this.show();const e=Ny.defaultPositions,t=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast],limiter:Db,fitInViewport:!0},a),{top:o,left:s,name:d}=gr(t);Object.assign(this,{top:o,left:s,position:d})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,'change:isVisible',this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,'change:isVisible',this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(d){this.attachTo(d);const e=_r(d.target),l=d.limiter?_r(d.limiter):Db;this.listenTo(jc.document,'scroll',(c,n)=>{const i=n.target,r=e&&i.contains(e),a=l&&i.contains(l);(r||a||!e||!l)&&this.attachTo(d)},{useCapture:!0}),this.listenTo(jc.window,'resize',()=>{this.attachTo(d)})}_stopPinning(){this.stopListening(jc.document,'scroll'),this.stopListening(jc.window,'resize')}}Ny.arrowHorizontalOffset=25,Ny.arrowVerticalOffset=10,Ny.defaultPositions={northArrowSouth:(n,e)=>({top:kr(n,e),left:n.left+n.width/2-e.width/2,name:'arrow_s'}),northArrowSouthEast:(n,e)=>({top:kr(n,e),left:n.left+n.width/2-e.width+Ny.arrowHorizontalOffset,name:'arrow_se'}),northArrowSouthWest:(n,e)=>({top:kr(n,e),left:n.left+n.width/2-Ny.arrowHorizontalOffset,name:'arrow_sw'}),northWestArrowSouth:(n,e)=>({top:kr(n,e),left:n.left-e.width/2,name:'arrow_s'}),northWestArrowSouthWest:(n,e)=>({top:kr(n,e),left:n.left-Ny.arrowHorizontalOffset,name:'arrow_sw'}),northWestArrowSouthEast:(n,e)=>({top:kr(n,e),left:n.left-e.width+Ny.arrowHorizontalOffset,name:'arrow_se'}),northEastArrowSouth:(n,e)=>({top:kr(n,e),left:n.right-e.width/2,name:'arrow_s'}),northEastArrowSouthEast:(n,e)=>({top:kr(n,e),left:n.right-e.width+Ny.arrowHorizontalOffset,name:'arrow_se'}),northEastArrowSouthWest:(n,e)=>({top:kr(n,e),left:n.right-Ny.arrowHorizontalOffset,name:'arrow_sw'}),southArrowNorth:(n,e)=>({top:wr(n,e),left:n.left+n.width/2-e.width/2,name:'arrow_n'}),southArrowNorthEast:(n,e)=>({top:wr(n,e),left:n.left+n.width/2-e.width+Ny.arrowHorizontalOffset,name:'arrow_ne'}),southArrowNorthWest:(n,e)=>({top:wr(n,e),left:n.left+n.width/2-Ny.arrowHorizontalOffset,name:'arrow_nw'}),southWestArrowNorth:(n,e)=>({top:wr(n,e),left:n.left-e.width/2,name:'arrow_n'}),southWestArrowNorthWest:(n,e)=>({top:wr(n,e),left:n.left-Ny.arrowHorizontalOffset,name:'arrow_nw'}),southWestArrowNorthEast:(n,e)=>({top:wr(n,e),left:n.left-e.width+Ny.arrowHorizontalOffset,name:'arrow_ne'}),southEastArrowNorth:(n,e)=>({top:wr(n,e),left:n.right-e.width/2,name:'arrow_n'}),southEastArrowNorthEast:(n,e)=>({top:wr(n,e),left:n.right-e.width+Ny.arrowHorizontalOffset,name:'arrow_ne'}),southEastArrowNorthWest:(n,e)=>({top:wr(n,e),left:n.right-Ny.arrowHorizontalOffset,name:'arrow_nw'})};class Bb extends Mf{static get pluginName(){return'ContextualBalloon'}init(){this.view=new Ny,this.positionLimiter=()=>{const n=this.editor.editing.view,e=n.document,t=e.selection.editableElement;return t?n.domConverter.mapViewToDom(t.root):null},this._stack=new Map,this.editor.ui.view.body.add(this.view),this.editor.ui.focusTracker.add(this.view.element)}get visibleView(){const t=this._stack.get(this.view.content.get(0));return t?t.view:null}hasView(t){return this._stack.has(t)}add(t){if(this.hasView(t.view))throw new Ga('contextualballoon-add-view-exist: Cannot add configuration of the same view twice.');this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(t.view,t),this._show(t)}remove(n){if(!this.hasView(n))throw new Ga('contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.');if(this.visibleView===n){this.view.content.remove(n),this._stack.delete(n);const e=Array.from(this._stack.values()).pop();e?this._show(e):this.view.hide()}else this._stack.delete(n)}updatePosition(t){t&&(this._stack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition())}_show({view:n,balloonClassName:e=''}){this.view.className=e,this.view.content.add(n),this.view.pin(this._getBalloonPosition())}_getBalloonPosition(){let t=Bi(this._stack.values()).position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}var Lb=t(45),zb=t.n(Lb);class jb extends Mf{static get requires(){return[Bb]}init(){this._createButton(),this._createForm()}_createButton(){const a=this.editor,e=a.t;a.ui.componentFactory.add('imageTextAlternative',(o)=>{const t=a.commands.get('imageTextAlternative'),n=new ph(o);return n.set({label:e('w'),icon:zb.a,tooltip:!0}),n.bind('isEnabled').to(t,'isEnabled'),this.listenTo(n,'execute',()=>this._showForm()),n})}_createForm(){const n=this.editor,e=n.editing.view,t=e.document;this._balloon=this.editor.plugins.get('ContextualBalloon'),this._form=new Vb(n.locale),this._form.render(),this.listenTo(this._form,'submit',()=>{n.execute('imageTextAlternative',{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,'cancel',()=>{this._hideForm(!0)}),this._form.keystrokes.set('Esc',(n,e)=>{this._hideForm(!0),e()}),this.listenTo(e,'render',()=>{rr(t.selection)?this._isVisible&&vr(n):this._hideForm(!0)}),mr({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._form.element],callback:()=>this._hideForm()})}_showForm(){if(!this._isVisible){const n=this.editor,e=n.commands.get('imageTextAlternative'),t=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:yr(n)}),t.value=t.inputView.element.value=e.value||'',this._form.labeledInput.select()}}_hideForm(t){this._isVisible&&(this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView==this._form}}class qb extends Mf{static get requires(){return[vb,jb]}static get pluginName(){return'ImageTextAlternative'}}var Wb=t(46),Hb=t.n(Wb);class Ub extends Mf{static get requires(){return[gb,kb,qb]}static get pluginName(){return'Image'}}class Kb extends pf{constructor(t){super(t),this.buttonView=new ph(t),this._fileInputView=new $b(t),this._fileInputView.bind('acceptedType').to(this),this._fileInputView.bind('allowMultipleFiles').to(this),this._fileInputView.delegate('done').to(this),this.setTemplate({tag:'span',attributes:{class:'ck-file-dialog-button'},children:[this.buttonView,this._fileInputView]}),this.buttonView.on('execute',()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class $b extends pf{constructor(n){super(n),this.set('acceptedType'),this.set('allowMultipleFiles',!1);const e=this.bindTemplate;this.setTemplate({tag:'input',attributes:{class:['ck-hidden'],type:'file',tabindex:'-1',accept:e.to('acceptedType'),multiple:e.to('allowMultipleFiles')},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire('done',this.element.files),this.element.value=''})}})}open(){this.element.click()}}var Gb=t(48),Jb=t.n(Gb);class Qb extends Mf{init(){const a=this.editor,e=a.t;a.ui.componentFactory.add('imageUpload',(o)=>{const t=new Kb(o),n=a.commands.get('imageUpload');return t.set({acceptedType:'image/*',allowMultipleFiles:!0}),t.buttonView.set({label:e('r'),icon:Jb.a,tooltip:!0}),t.buttonView.bind('isEnabled').to(n),t.on('done',(e,t)=>{for(const o of Array.from(t)){const e=Cr(a.model.document.selection);xr(o)&&a.execute('imageUpload',{file:o,insertAt:e})}}),t})}}var Yb=t(49),Xb=t.n(Yb),Zb=t(50),Vy=t.n(Zb);class Fy extends Mf{constructor(t){super(t),this.placeholder='data:image/svg+xml;utf8,'+encodeURIComponent(Xb.a)}init(){const t=this.editor;t.editing.downcastDispatcher.on('attribute:uploadStatus:image',(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(a,u,t){const p=this.editor,n=u.item,o=n.getAttribute('uploadId');if(t.consumable.consume(u.item,a.name)&&o){const r=p.plugins.get(yh),i=this.placeholder,e=u.attributeNewValue,a=p.editing.mapper.toViewElement(n),s=t.writer;if('reading'==e){s.addClass(['ck-appear','ck-infinite-progress','ck-image-upload-placeholder'],a);const t=a.getChild(0);return void s.setAttribute('src',i,t)}if('uploading'==e){const n=r.loaders.get(o);if(n){const o=Ar(s);s.removeClass(['ck-infinite-progress','ck-image-upload-placeholder'],a),s.insert(bc.createAt(a,'end'),o),n.on('change:uploadedPercent',(e,t,n)=>{p.editing.view.change((e)=>{e.setStyle('width',n+'%',o)})})}return}const d=Tr(a);d?s.remove(_c.createOn(d)):s.removeClass('ck-infinite-progress',a),s.removeClass(['ck-appear','ck-image-upload-placeholder'],a)}}}const Ly=Symbol('progress-bar');class By extends qf{execute(d){const e=this.editor,t=e.model.document,o=d.file,n=e.plugins.get(yh);e.model.change((i)=>{const r=n.createLoader(o);if(!r)return;const c=new Dm('image',{uploadId:r.id});let s;s=d.insertAt?new Hm([new zm(d.insertAt)]):t.selection,e.model.insertContent(c,s),c.parent&&i.setSelection(zm.createOn(c))})}}class Uy extends Mf{static get pluginName(){return'Notification'}init(){this.on('show:warning',(n,e)=>{window.alert(e.message)},{priority:'lowest'})}showSuccess(n,o={}){this._showNotification({message:n,type:'success',namespace:o.namespace,title:o.title})}showInfo(n,o={}){this._showNotification({message:n,type:'info',namespace:o.namespace,title:o.title})}showWarning(n,o={}){this._showNotification({message:n,type:'warning',namespace:o.namespace,title:o.title})}_showNotification(n){const e=`show:${n.type}`+(n.namespace?`:${n.namespace}`:'');this.fire(e,{message:n.message,type:n.type,title:n.title||''})}}class jy extends Mf{static get requires(){return[yh,Uy]}init(){const a=this.editor,s=a.model.document,e=a.model.schema,d=a.plugins.get(yh);e.extend('image',{allowAttributes:['uploadId','uploadStatus']}),a.commands.add('imageUpload',new By(a)),a.editing.view.document.on('clipboardInput',(e,t)=>{if(Pr(t.dataTransfer))return;let o=new Hm(t.targetRanges.map((e)=>a.editing.mapper.toModelRange(e)));for(const i of t.dataTransfer.files){const t=Cr(o);xr(i)&&(a.execute('imageUpload',{file:i,insertAt:t}),e.stop()),o=s.selection}}),a.editing.view.document.on('dragover',(n,e)=>{e.preventDefault()}),s.on('change',()=>{const n=s.differ.getChanges({includeChangesInGraveyard:!0});for(const a of n)if('insert'==a.type&&'image'==a.name){const t=a.position.nodeAfter,e='$graveyard'==a.position.root.rootName,n=t.getAttribute('uploadId');if(!n)continue;const o=d.loaders.get(n);if(!o)continue;e?o.abort():'idle'==o.status&&this._load(o,t)}})}_load(d,l){function o(){i.enqueueChange('transparent',(t)=>{t.removeAttribute('uploadId',l),t.removeAttribute('uploadStatus',l)}),a.destroyLoader(d)}const e=this.editor,i=e.model,n=e.locale.t,a=e.plugins.get(yh),r=e.plugins.get(Uy);i.enqueueChange('transparent',(t)=>{t.setAttribute('uploadStatus','reading',l)}),d.read().then((o)=>{const t=e.editing.mapper.toViewElement(l),n=t.getChild(0),a=d.upload();return e.editing.view.change((t)=>{t.setAttribute('src',o,n)}),i.enqueueChange('transparent',(t)=>{t.setAttribute('uploadStatus','uploading',l)}),a}).then((a)=>{i.enqueueChange('transparent',(e)=>{e.setAttributes({uploadStatus:'complete',src:a.default},l);let o=0;const t=Object.keys(a).filter((n)=>{const e=parseInt(n,10);if(!isNaN(e))return o=Fa(o,e),!0}).map((e)=>`${a[e]} ${e}w`).join(', ');''!=t&&e.setAttribute('srcset',{data:t,width:o},l)}),o()}).catch((e)=>{'error'==d.status&&r.showWarning(e,{title:n('s'),namespace:'upload'}),o(),i.enqueueChange('transparent',(t)=>{t.remove(l)})})}}class zy extends Mf{static get pluginName(){return'ImageUpload'}static get requires(){return[jy,Qb,Fy]}}class Hy extends Mf{static get requires(){return[ab,Ub,zy]}static get pluginName(){return'EasyImage'}}class Wy extends qf{refresh(){const n=this.editor.model,e=n.document,t=Bi(e.selection.getSelectedBlocks());this.value=!!t&&t.is('paragraph'),this.isEnabled=!!t&&Er(t,n.schema)}execute(a={}){const r=this.editor.model,e=r.document;r.change((t)=>{const n=(a.selection||e.selection).getSelectedBlocks();for(const o of n)!o.is('paragraph')&&Er(o,r.schema)&&t.rename(o,'paragraph')})}}class Yy extends Mf{static get pluginName(){return'Paragraph'}init(){const n=this.editor,e=n.model,t=n.data;n.commands.add('paragraph',new Wy(n)),e.schema.register('paragraph',{inheritAllFrom:'$block'}),n.conversion.elementToElement({model:'paragraph',view:'p'}),t.upcastDispatcher.on('element',(n,a,t)=>{if(t.consumable.test(a.viewItem,{name:a.viewItem.name}))if(Yy.paragraphLikeElements.has(a.viewItem.name)){if(a.viewItem.isEmpty)return;const o=t.writer.createElement('paragraph'),e=t.splitToAllowedParent(o,a.modelCursor);if(!e)return;t.writer.insert(o,e.position);const{modelRange:r}=t.convertChildren(a.viewItem,ly.createAt(o));a.modelRange=new zm(ly.createBefore(o),r.end),a.modelCursor=a.modelRange.end}else Or(a.viewItem,a.modelCursor,t.schema)&&(a=Object.assign(a,Sr(a.viewItem,a.modelCursor,t)))},{priority:'low'}),t.upcastDispatcher.on('text',(n,e,t)=>{e.modelRange||Or(e.viewItem,e.modelCursor,t.schema)&&(e=Object.assign(e,Sr(e.viewItem,e.modelCursor,t)))},{priority:'lowest'}),e.document.registerPostFixer((t)=>this._autoparagraphEmptyRoots(t)),n.on('dataReady',()=>{e.enqueueChange('transparent',(t)=>this._autoparagraphEmptyRoots(t))},{priority:'lowest'})}_autoparagraphEmptyRoots(a){const e=this.editor.model;for(const t of e.document.getRootNames()){const o=e.document.getRoot(t);if(o.isEmpty&&'$graveyard'!=o.rootName&&e.schema.checkChild(o,'paragraph'))return a.insertElement('paragraph',o),!0}}}Yy.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);class qy extends qf{constructor(n,e){super(n),this.modelElements=e}refresh(){const n=Bi(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some((e)=>Rr(n,e,this.editor.model.schema))}execute(a={}){const r=this.editor.model,t=r.document,o=a.value;this.modelElements.includes(o)&&r.change((n)=>{const e=Array.from(t.selection.getSelectedBlocks()).filter((t)=>Rr(t,o,r.schema));for(const a of e)a.is(o)||n.rename(a,o)})}}const $y='paragraph';class Ky extends Mf{constructor(t){super(t),t.config.define('heading',{options:[{model:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{model:'heading1',view:'h2',title:'Heading 1',class:'ck-heading_heading1'},{model:'heading2',view:'h3',title:'Heading 2',class:'ck-heading_heading2'},{model:'heading3',view:'h4',title:'Heading 3',class:'ck-heading_heading3'}]})}static get requires(){return[Yy]}init(){const a=this.editor,e=a.config.get('heading.options'),t=[];for(const o of e)o.model!==$y&&(a.model.schema.register(o.model,{inheritAllFrom:'$block'}),a.conversion.elementToElement(o),t.push(o.model));a.commands.add('heading',new qy(a,t))}afterInit(){const a=this.editor,e=a.commands.get('enter'),s=a.config.get('heading.options');e&&this.listenTo(e,'afterExecute',(e,t)=>{const n=a.model.document.selection.getFirstPosition().parent,o=s.some((t)=>n.is(t.model));o&&!n.is($y)&&0===n.childCount&&t.writer.rename(n,$y)})}}class Gy{constructor(n,e){e&&ac(this,e),n&&this.set(n)}}l(Gy,mc);class Qy extends pf{constructor(n){super(n);const e=this.bindTemplate;this.set('isVisible',!1),this.children=this.createCollection(),this.setTemplate({tag:'div',attributes:{class:['ck-reset','ck-dropdown__panel',e.if('isVisible','ck-dropdown__panel-visible')]},children:this.children,on:{selectstart:e.to((t)=>t.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;'function'==typeof t.focusLast?t.focusLast():t.focus()}}}var Jy=t(52),Zy=t.n(Jy);class Xy extends pf{constructor(a,e,t){super(a);const o=this.bindTemplate;this.buttonView=e,this.panelView=t,this.set('isOpen',!1),this.set('isEnabled',!0),this.focusTracker=new of,this.keystrokes=new Gg,this.setTemplate({tag:'div',attributes:{class:['ck-dropdown',o.to('isEnabled',(t)=>t?'':'ck-disabled')]},children:[e,t]}),e.extendTemplate({attributes:{class:['ck-dropdown__button']}})}render(){super.render(),this.listenTo(this.buttonView,'open',()=>{this.isOpen=!this.isOpen}),this.panelView.bind('isVisible').to(this,'isOpen'),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const t=(n,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set('arrowdown',(n,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set('arrowright',(n,e)=>{this.isOpen&&e()}),this.keystrokes.set('arrowleft',t),this.keystrokes.set('esc',t)}focus(){this.buttonView.focus()}}var e_=t(54),t_=t.n(e_);class n_ extends ph{constructor(t){super(t),this.arrowView=this._createArrowView(),this.delegate('execute').to(this,'open')}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new sh;return t.content=t_.a,t.extendTemplate({attributes:{class:'ck-dropdown__arrow'}}),t}}var o_=t(55),a_=t.n(o_);class r_ extends pf{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new of,this.keystrokes=new Gg,this._focusCycler=new Pf({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),this.setTemplate({tag:'ul',attributes:{class:['ck-reset','ck-list']},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on('add',(n,e)=>{this.focusTracker.add(e.element)}),this.items.on('remove',(n,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class i_ extends pf{constructor(){super(),this.set('tabindex',-1),this.keystrokes=new Gg;const t=this.bindTemplate;this.setTemplate({tag:'li',attributes:{class:['ck-list__item',t.to('class'),t.if('isActive','ck-list__item_active')],style:t.to('style'),tabindex:t.to('tabindex')},children:[{text:t.to('label')}],on:{click:t.to('execute')}})}render(){super.render();const t=(n,e)=>{this.fire('execute'),e()};this.keystrokes.listenTo(this.element),this.keystrokes.set('Enter',t),this.keystrokes.set('Space',t)}focus(){this.element.focus()}}var s_=t(57),d_=t.n(s_),l_=t(59),c_=t.n(l_),u_=t(5),p_=t.n(u_);class m_ extends Mf{init(){const u=this.editor,e=u.t,o=this._getLocalizedOptions(),a=e('f'),t=e('g');u.ui.componentFactory.add('heading',(e)=>{const n={},r=new wc,p=u.commands.get('heading'),s=u.commands.get('paragraph'),l=[p];for(const a of o){const e=new Gy({label:a.title,class:a.class});'paragraph'===a.model?(e.bind('isActive').to(s,'value'),e.set('commandName','paragraph'),l.push(s)):(e.bind('isActive').to(p,'value',(e)=>e===a.model),e.set({commandName:'heading',commandValue:a.model})),r.add(e),n[a.model]=a.title}const d=Vr(e);return Ir(d,r),d.buttonView.set({isOn:!1,withText:!0,tooltip:t}),d.extendTemplate({attributes:{class:['ck-heading-dropdown']}}),d.bind('isEnabled').toMany(l,'isEnabled',(...t)=>t.some((t)=>t)),d.buttonView.bind('label').to(p,'value',s,'value',(r,e)=>{const t=r||e&&'paragraph';return n[t]?n[t]:a}),this.listenTo(d,'execute',(e)=>{u.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),u.editing.view.focus()}),d})}_getLocalizedOptions(){const n=this.editor,e=n.t,a={Paragraph:e('h'),"Heading 1":e('i'),"Heading 2":e('j'),"Heading 3":e('k')};return n.config.get('heading.options').map((t)=>{const e=a[t.title];return e&&e!=t.title&&(t=Object.assign({},t,{title:e})),t})}}class f_ extends Mf{static get requires(){return[Ky,m_]}static get pluginName(){return'Heading'}}var g_=t(62),h_=t.n(g_);const b_=new WeakMap,y_=Symbol('imageCaption');class __ extends Mf{init(){const s=this.editor,e=s.editing.view,o=s.model.schema,n=s.data,i=s.editing,r=s.t;o.register('caption',{allowIn:'image',allowContentOf:'$block',isLimit:!0}),s.model.document.registerPostFixer((t)=>this._insertMissingModelCaptionElement(t)),s.conversion.for('upcast').add(ao({view:Wr,model:'caption'})),n.downcastDispatcher.on('insert:caption',ay((t)=>t.createContainerElement('figcaption'),!1));const a=jr(e,r('l'));i.downcastDispatcher.on('insert:caption',ay(a)),i.downcastDispatcher.on('insert',this._fixCaptionVisibility((t)=>t.item),{priority:'high'}),i.downcastDispatcher.on('remove',this._fixCaptionVisibility((t)=>t.position.parent),{priority:'high'}),e.document.registerPostFixer((t)=>this._updateCaptionVisibility(t))}_updateCaptionVisibility(d){const l=this.editor.editing.mapper,e=this._lastSelectedCaption;let t;const n=this.editor.model.document.selection,o=n.getSelectedElement();if(o&&o.is('image')){const n=qr(o);t=l.toViewElement(n)}const r=n.getFirstPosition(),a=Kr(r.parent);if(a&&(t=l.toViewElement(a)),t)return e?e===t?Gr(t,d):($r(e,d),this._lastSelectedCaption=t,Gr(t,d)):(this._lastSelectedCaption=t,Gr(t,d));if(e){const n=$r(e,d);return this._lastSelectedCaption=null,n}return!1}_fixCaptionVisibility(d){return(e,t,o)=>{const n=d(t),i=Kr(n),r=this.editor.editing.mapper,a=o.writer;if(i){const t=r.toViewElement(i);t&&(i.childCount?a.removeClass('ck-hidden',t):a.addClass('ck-hidden',t))}}}_insertMissingModelCaptionElement(n){const e=this.editor.model,a=e.document.differ.getChanges();for(const e of a)if('insert'==e.type&&'image'==e.name){const t=e.position.nodeAfter;if(!qr(t))return n.appendElement('caption',t),!0}}}var k_=t(64),v_=t.n(k_);class w_ extends Mf{static get requires(){return[__]}static get pluginName(){return'ImageCaption'}}class x_ extends qf{constructor(n,e){super(n),this._defaultStyle=!1,this.styles=e.reduce((n,e)=>(n[e.name]=e,e.isDefault&&(this._defaultStyle=e.name),n),{})}refresh(){const n=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=ar(n),!n)this.value=!1;else if(n.hasAttribute('imageStyle')){const e=n.getAttribute('imageStyle');this.value=!!this.styles[e]&&e}else this.value=this._defaultStyle}execute(a={}){const r=a.value;if(!this.styles[r])return;const e=this.editor.model,t=e.document.selection.getSelectedElement();e.change((n)=>{this.styles[r].isDefault?n.removeAttribute('imageStyle',t):n.setAttribute('imageStyle',r,t)})}}var C_=t(66),T_=t.n(C_),S_=t(67),P_=t.n(S_),E_=t(68),A_=t.n(E_),O_=t(69),I_=t.n(O_);const R_={full:{name:'full',title:'Full size image',icon:T_.a,isDefault:!0},side:{name:'side',title:'Side image',icon:I_.a,className:'image-style-side'},alignLeft:{name:'alignLeft',title:'Left aligned image',icon:P_.a,className:'image-style-align-left'},alignCenter:{name:'alignCenter',title:'Centered image',icon:A_.a,className:'image-style-align-center'},alignRight:{name:'alignRight',title:'Right aligned image',icon:I_.a,className:'image-style-align-right'}},M_={full:T_.a,left:P_.a,right:I_.a,center:A_.a};class D_ extends Mf{static get requires(){return[gb]}static get pluginName(){return'ImageStyleEditing'}init(){const a=this.editor,e=a.model.schema,t=a.data,o=a.editing;a.config.define('image.styles',['full','side']);const n=Xr(a.config.get('image.styles'));e.extend('image',{allowAttributes:'imageStyle'});const i=Jr(n);o.downcastDispatcher.on('attribute:imageStyle:image',i),t.downcastDispatcher.on('attribute:imageStyle:image',i),t.upcastDispatcher.on('element:figure',Qr(n),{priority:'low'}),a.commands.add('imageStyle',new x_(a,n))}}var N_=t(70),V_=t.n(N_);class F_ extends Mf{get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Full size image":t('m'),"Side image":t('n'),"Left aligned image":t('o'),"Centered image":t('p'),"Right aligned image":t('q')}}init(){const n=this.editor,e=n.config.get('image.styles'),t=ea(Xr(e),this.localizedDefaultStylesTitles);for(const n of t)this._createButton(n)}_createButton(a){const e=this.editor,t=`imageStyle:${a.name}`;e.ui.componentFactory.add(t,(t)=>{const o=e.commands.get('imageStyle'),n=new ph(t);return n.set({label:a.title,icon:a.icon,tooltip:!0}),n.bind('isEnabled').to(o,'isEnabled'),n.bind('isOn').to(o,'value',(e)=>e===a.name),this.listenTo(n,'execute',()=>e.execute('imageStyle',{value:a.name})),n})}}class L_ extends Mf{static get requires(){return[D_,F_]}static get pluginName(){return'ImageStyle'}}class B_ extends Mf{static get requires(){return[Bb]}static get pluginName(){return'ImageToolbar'}init(){const n=this.editor,e=n.plugins.get('BalloonToolbar');e&&this.listenTo(e,'show',(e)=>{rr(n.editing.view.document.selection)&&e.stop()},{priority:'high'})}afterInit(){const n=this.editor,e=n.config.get('image.toolbar');e&&e.length&&(this._balloon=this.editor.plugins.get('ContextualBalloon'),this._toolbar=new Rf,this._toolbar.fillFromConfig(e,n.ui.componentFactory),this.listenTo(n.editing.view,'render',()=>{this._checkIsVisible()}),this.listenTo(n.ui.focusTracker,'change:isFocused',()=>{this._checkIsVisible()},{priority:'low'}))}_checkIsVisible(){const t=this.editor;t.ui.focusTracker.isFocused?rr(t.editing.view.document.selection)?this._showToolbar():this._hideToolbar():this._hideToolbar()}_showToolbar(){const t=this.editor;this._isVisible?vr(t):!this._balloon.hasView(this._toolbar)&&this._balloon.add({view:this._toolbar,position:yr(t),balloonClassName:'ck-toolbar-container'})}_hideToolbar(){this._isVisible&&this._balloon.remove(this._toolbar)}get _isVisible(){return this._balloon.visibleView==this._toolbar}}class U_ extends qf{refresh(){const n=this.editor.model,e=n.document;this.value=e.selection.getAttribute('linkHref'),this.isEnabled=n.schema.checkAttributeInSelection(e.selection,'linkHref')}execute(a){const e=this.editor.model,s=e.document.selection;e.change((o)=>{if(s.isCollapsed){const e=s.getFirstPosition();if(s.hasAttribute('linkHref')){const e=ta(s.getFirstPosition(),s.getAttribute('linkHref'));o.setAttribute('linkHref',a,e),o.setSelection(e)}else if(''!==a){const t=rt(s.getAttributes());t.set('linkHref',a);const n=o.createText(a,t);o.insert(n,e),o.setSelection(zm.createOn(n))}}else{const n=e.schema.getValidRanges(s.getRanges(),'linkHref');for(const e of n)o.setAttribute('linkHref',a,e)}})}}class j_ extends qf{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute('linkHref')}execute(){const n=this.editor.model,a=n.document.selection;n.change((n)=>{const e=a.isCollapsed?[ta(a.getFirstPosition(),a.getAttribute('linkHref'))]:a.getRanges();for(const o of e)n.removeAttribute('linkHref',o)})}}const z_=Symbol('linkElement');var H_=t(72),W_=t.n(H_);class Y_ extends Mf{init(){const t=this.editor;t.model.schema.extend('$text',{allowAttributes:'linkHref'}),t.conversion.for('downcast').add(ht({model:'linkHref',view:ia})),t.conversion.for('upcast').add(io({view:{name:'a',attribute:{href:!0}},model:{key:'linkHref',value:(t)=>t.getAttribute('href')}})),t.commands.add('link',new U_(t)),t.commands.add('unlink',new j_(t)),ry(t.editing.view,t.model,this,'linkHref'),this._setupLinkHighlight()}_setupLinkHighlight(){const a=this.editor,r=this.editor.model,t=r.document,s={id:'linkBoundaries',class:'ck-link_selected',priority:1};a.conversion.for('editingDowncast').add(_t({model:'linkBoundaries',view:s})),t.registerPostFixer((o)=>{const e=t.selection,n=r.markers.get('linkBoundaries');if(e.hasAttribute('linkHref')){const a=ta(e.getFirstPosition(),e.getAttribute('linkHref'));if(!n||!n.getRange().isEqual(a))return o.setMarker('linkBoundaries',a),!0}else if(n)return o.removeMarker('linkBoundaries'),!0;return!1}),a.editing.downcastDispatcher.on('attribute:linkHref',(n,e,a)=>{const t=e.item;if((t instanceof $m||t instanceof Hm)&&t.isCollapsed){const n=a.writer,e=n.document.selection,t=It(s);a.writer.wrap(e.getFirstRange(),t)}})}}class q_ extends gm{constructor(t){super(t),this.domEventType='click'}onDomEvent(t){this.fire(t.type,t)}}var $_=t(74),K_=t.n($_);class G_ extends pf{constructor(t){super(t);const e=t.t;this.focusTracker=new of,this.keystrokes=new Gg,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(e('ab'),Pb.a),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(e('ac'),Sb.a,'cancel'),this._focusables=new rf,this._focusCycler=new Pf({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),this.saveButtonView.extendTemplate({attributes:{class:['ck-button-action']}}),this.setTemplate({tag:'form',attributes:{class:['ck-link-form'],tabindex:'-1'},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),ur({view:this});const t=[this.urlInputView,this.saveButtonView,this.cancelButtonView];t.forEach((t)=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const n=this.locale.t,e=new yb(this.locale,Ab);return e.label=n('ad'),e.inputView.placeholder='https://example.com',e}_createButton(a,r,i){const o=new ph(this.locale);return o.set({label:a,icon:r,tooltip:!0}),i&&o.delegate('execute').to(this,i),o}}var Q_=t(76),J_=t.n(Q_),Z_=t(77),X_=t.n(Z_),ek=t(78),tk=t.n(ek);class nk extends pf{constructor(t){super(t);const e=t.t;this.focusTracker=new of,this.keystrokes=new Gg,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e('x'),J_.a,'unlink'),this.editButtonView=this._createButton(e('y'),X_.a,'edit'),this.set('href'),this._focusables=new rf,this._focusCycler=new Pf({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),this.setTemplate({tag:'div',attributes:{class:['ck-link-actions'],tabindex:'-1'},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render();const t=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];t.forEach((t)=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(a,r,i){const o=new ph(this.locale);return o.set({label:a,icon:r,tooltip:!0}),o.delegate('execute').to(this,i),o}_createPreviewButton(){const t=new ph(this.locale),e=this.bindTemplate,o=this.t;return t.set({withText:!0,tooltip:o('z')}),t.extendTemplate({attributes:{class:['ck-link-actions__preview'],href:e.to('href'),target:'_blank'}}),t.bind('label').to(this,'href',(t)=>t||o('aa')),t.bind('isEnabled').to(this,'href',(t)=>!!t),t.template.tag='a',t.template.eventListeners={},t}}var ok=t(80),ak=t.n(ok);const rk='Ctrl+K';class ik extends Mf{static get requires(){return[Bb]}init(){const t=this.editor;t.editing.view.addObserver(q_),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(Bb),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}_createActionsView(){const a=this.editor,e=new nk(a.locale),t=a.commands.get('link'),o=a.commands.get('unlink');return e.bind('href').to(t,'value'),e.editButtonView.bind('isEnabled').to(t),e.unlinkButtonView.bind('isEnabled').to(o),this.listenTo(e,'edit',()=>{this._addFormView()}),this.listenTo(e,'unlink',()=>{a.execute('unlink'),this._hideUI()}),e.keystrokes.set('Esc',(n,e)=>{this._hideUI(),e()}),e}_createFormView(){const n=this.editor,e=new G_(n.locale),t=n.commands.get('link');return e.urlInputView.bind('value').to(t,'value'),e.urlInputView.bind('isReadOnly').to(t,'isEnabled',(t)=>!t),e.saveButtonView.bind('isEnabled').to(t),this.listenTo(e,'submit',()=>{n.execute('link',e.urlInputView.inputView.element.value),this._removeFormView()}),this.listenTo(e,'cancel',()=>{this._removeFormView()}),e.keystrokes.set('Esc',(n,e)=>{this._removeFormView(),e()}),e}_createToolbarLinkButton(){const t=this.editor,a=t.commands.get('link'),o=t.t;t.keystrokes.set(rk,(n,e)=>{e(),a.isEnabled&&this._showUI()}),t.ui.componentFactory.add('link',(n)=>{const e=new ph(n);return e.isEnabled=!0,e.label=o('t'),e.icon=ak.a,e.keystroke=rk,e.tooltip=!0,e.bind('isEnabled').to(a,'isEnabled'),this.listenTo(e,'execute',()=>this._showUI()),e})}_enableUserBalloonInteractions(){const t=this.editor.editing.view.document;this.listenTo(t,'click',()=>{const t=this._getSelectedLinkElement();t&&this._showUI()}),this.editor.keystrokes.set('Tab',(n,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:'high'}),this.editor.keystrokes.set('Esc',(n,e)=>{this._isUIVisible&&(this._hideUI(),e())}),mr({emitter:this.formView,activator:()=>this._isUIVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){const n=this.editor,e=n.commands.get('link');this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=e.value||''}_removeFormView(){this._isFormInPanel&&(this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(){const n=this.editor,e=n.commands.get('link');!e.isEnabled||this._isUIInPanel||(this._getSelectedLinkElement()?this._addActionsView():(this._addActionsView(),this._addFormView()),this._startUpdatingUIOnViewRender())}_hideUI(){if(this._isUIInPanel){const t=this.editor.editing.view;this.stopListening(t,'render'),this._removeFormView(),this._balloon.remove(this.actionsView),t.focus()}}_startUpdatingUIOnViewRender(){function a(){return o.document.selection.focus.getAncestors().reverse().find((t)=>t.is('element'))}const e=this.editor,t=e.editing,o=t.view;let n=this._getSelectedLinkElement(),s=a();this.listenTo(o,'render',()=>{const e=this._getSelectedLinkElement(),t=a();(!n||e)&&(n||t===s)?this._balloon.updatePosition(this._getBalloonPositionData()):this._hideUI(),n=e,s=t})}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const a=this.editor.editing.view,e=a.document,t=this._getSelectedLinkElement(),o=t?a.domConverter.mapViewToDom(t):a.domConverter.viewRangeToDom(e.selection.getFirstRange());return{target:o}}_getSelectedLinkElement(){const a=this.editor.editing.view.document.selection;if(a.isCollapsed)return sa(a.getFirstPosition());else{const e=a.getFirstRange().getTrimmed(),t=sa(e.start),o=sa(e.end);return t&&t==o?_c.createIn(t).getTrimmed().isEqual(e)?t:null:null}}}class sk extends Mf{static get requires(){return[Y_,ik]}static get pluginName(){return'Link'}}class dk extends qf{constructor(n,e){super(n),this.type='bulleted'==e?'bulleted':'numbered'}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const a=this.editor.model,e=a.document,r=Array.from(e.selection.getSelectedBlocks()).filter((e)=>da(e,a.schema)),o=!0===this.value;a.change((a)=>{if(o){let s=r[r.length-1].nextSibling,d=Va,n=[];for(;s&&'listItem'==s.name&&0!==s.getAttribute('indent');){const a=s.getAttribute('indent');a<d&&(d=a);const e=a-d;n.push({element:s,indent:e}),s=s.nextSibling}n=n.reverse();for(const e of n)a.setAttribute('indent',e.indent,e.element)}if(!o){let n=Va;for(const e of r)e.is('listItem')&&e.getAttribute('indent')<n&&(n=e.getAttribute('indent'));n=0===n?1:n,la(r,!0,n),la(r,!1,n)}for(const e of r.reverse())o&&'listItem'==e.name?a.rename(e,'paragraph'):o||'listItem'==e.name?o||'listItem'!=e.name||e.getAttribute('type')==this.type||a.setAttribute('type',this.type,e):(a.setAttributes({type:this.type,indent:0},e),a.rename(e,'listItem'))})}_getValue(){const t=Bi(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is('listItem')&&t.getAttribute('type')==this.type}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,e=this.editor.model.schema,t=Bi(n.getSelectedBlocks());return!!t&&da(t,e)}}class lk extends qf{constructor(n,e){super(n),this._indentBy='forward'==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model,e=n.document;let a=Array.from(e.selection.getSelectedBlocks());n.change((n)=>{const e=a[a.length-1];for(let t=e.nextSibling;t&&'listItem'==t.name&&t.getAttribute('indent')>e.getAttribute('indent');)a.push(t),t=t.nextSibling;0>this._indentBy&&(a=a.reverse());for(const e of a){const t=e.getAttribute('indent')+this._indentBy;0>t?n.rename(e,'paragraph'):n.setAttribute('indent',t,e)}})}_checkEnabled(){const a=Bi(this.editor.model.document.selection.getSelectedBlocks());if(!a||!a.is('listItem'))return!1;if(0<this._indentBy){const e=a.getAttribute('indent'),t=a.getAttribute('type');for(let o=a.previousSibling;o&&o.is('listItem')&&o.getAttribute('indent')>=e;){if(o.getAttribute('indent')==e)return o.getAttribute('type')==t;o=o.previousSibling}return!1}return!0}}class ck extends Mf{static get requires(){return[Yy]}init(){const a=this.editor;a.model.schema.register('listItem',{inheritAllFrom:'$block',allowAttributes:['type','indent']});const e=a.data,t=a.editing;a.model.document.registerPostFixer((e)=>xa(a.model,e)),t.mapper.registerViewToModelLength('li',Ra),e.mapper.registerViewToModelLength('li',Ra),t.mapper.on('modelToViewPosition',va),t.mapper.on('viewToModelPosition',ya),e.mapper.on('modelToViewPosition',va),t.downcastDispatcher.on('insert',ha,{priority:'high'}),t.downcastDispatcher.on('insert:listItem',ua),e.downcastDispatcher.on('insert',ha,{priority:'high'}),e.downcastDispatcher.on('insert:listItem',ua),t.downcastDispatcher.on('attribute:type:listItem',ga),e.downcastDispatcher.on('attribute:type:listItem',ga),t.downcastDispatcher.on('attribute:indent:listItem',fa),e.downcastDispatcher.on('attribute:indent:listItem',fa),t.downcastDispatcher.on('remove:listItem',pa),t.downcastDispatcher.on('remove',ba,{priority:'low'}),e.downcastDispatcher.on('remove:listItem',pa),e.downcastDispatcher.on('remove',ba,{priority:'low'}),e.upcastDispatcher.on('element:ul',ka,{priority:'high'}),e.upcastDispatcher.on('element:ol',ka,{priority:'high'}),e.upcastDispatcher.on('element:li',wa,{priority:'high'}),e.upcastDispatcher.on('element:li',_a),a.model.on('insertContent',Ca,{priority:'high'}),a.commands.add('numberedList',new dk(a,'numbered')),a.commands.add('bulletedList',new dk(a,'bulleted')),a.commands.add('indentList',new lk(a,'forward')),a.commands.add('outdentList',new lk(a,'backward'));const o=this.editor.editing.view.document;this.listenTo(o,'enter',(a,e)=>{const t=this.editor.model.document,o=t.selection.getLastPosition().parent;t.selection.isCollapsed&&'listItem'==o.name&&o.isEmpty&&(this.editor.execute('outdentList'),e.preventDefault(),a.stop())}),this.listenTo(o,'delete',(a,e)=>{if('backward'===e.direction){const t=this.editor.model.document.selection;if(t.isCollapsed){const r=t.getFirstPosition();if(r.isAtStart){const t=r.parent;if('listItem'===t.name){const o=t.previousSibling&&'listItem'===t.previousSibling.name;o||(this.editor.execute('outdentList'),e.preventDefault(),a.stop())}}}}},{priority:'high'});const n=(a)=>(e,t)=>{const o=this.editor.commands.get(a);o.isEnabled&&(this.editor.execute(a),t())};this.editor.keystrokes.set('Tab',n('indentList')),this.editor.keystrokes.set('Shift+Tab',n('outdentList'))}}var uk=t(81),pk=t.n(uk),mk=t(82),fk=t.n(mk);class gk extends Mf{init(){const t=this.editor.t;this._addButton('numberedList',t('u'),pk.a),this._addButton('bulletedList',t('v'),fk.a)}_addButton(s,e,d){const l=this.editor;l.ui.componentFactory.add(s,(n)=>{const i=l.commands.get(s),r=new ph(n);return r.set({label:e,icon:d,tooltip:!0}),r.bind('isOn','isEnabled').to(i,'value','isEnabled'),this.listenTo(r,'execute',()=>l.execute(s)),r})}}class hk extends Mf{static get requires(){return[ck,gk]}static get pluginName(){return'List'}}class bk extends Df{}e['default']=bk,bk.build={plugins:[wh,Ph,Rh,Lh,Kh,eb,Hy,f_,Ub,w_,L_,B_,zy,sk,hk,Yy,zy],config:{toolbar:{items:['heading','|','bold','italic','link','bulletedList','numberedList','imageUpload','blockQuote','undo','redo']},image:{toolbar:['imageStyle:full','imageStyle:side','|','imageTextAlternative']},language:'en'}}},function(n){var e=function(){return this}();try{e=e||Function('return this')()||(1,eval)('this')}catch(t){'object'==typeof window&&(e=window)}n.exports=e},function(n,e){'use strict';e.a=function(t){return t&&t.Object===Object?t:null}},function(n,u,t){'use strict';(function(o){var m=t(10),n=t(1),i={function:!0,object:!0},r=i[typeof p]&&p&&!p.nodeType?p:void 0,a=i[typeof o]&&o&&!o.nodeType?o:void 0,s=a&&a.exports===r?r:void 0,l=s?n.a.Buffer:void 0,d=l?function(t){return t instanceof l}:Object(m.a)(!1);u.a=d}).call(u,t(2)(n))},function(n,e){'use strict';e.a=function(t){return function(){return t}}},function(a,e,t){var o=t(12);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-hidden{display:none!important}.ck-reset,.ck-reset_all,.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:999;--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-focus-border:#47a4f5;--ck-color-focus-shadow:#77baf8;--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-focus-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-focus-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-focus-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-item-background-hover:var(--ck-color-base-foreground);--ck-color-list-item-background-active:var(--ck-color-base-active);--ck-color-list-item-background-active-focus:var(--ck-color-base-active-focus);--ck-color-list-item-text-active:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#c2c2c2;--ck-color-upload-bar-background:#6cb5f9;--ck-color-upload-infinite-background:rgba(0,0,0,.1);--ck-color-link-default:#0000f0;--ck-color-link-selected-background:#c9ebfd;--ck-disabled-opacity:.5;--ck-focus-outer-shadow:0 0 3px var(--ck-color-focus-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset,.ck-reset_all,.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck-reset_all,.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck-reset_all .ck-rtl *{text-align:right}.ck-reset_all iframe{vertical-align:inherit}.ck-reset_all textarea{white-space:pre-wrap}.ck-reset_all input[type=password],.ck-reset_all input[type=text],.ck-reset_all textarea{cursor:text}.ck-reset_all input[type=password][disabled],.ck-reset_all input[type=text][disabled],.ck-reset_all textarea[disabled]{cursor:default}.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck-reset_all button::-moz-focus-inner{padding:0;border:0}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit) * 1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit) * 0.8);--ck-spacing-small:calc(var(--ck-spacing-unit) * 0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit) * 0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit) * 0.16)}'},function(t){t.exports=function(a){var r='undefined'!=typeof window&&window.location;if(!r)throw new Error('fixUrls requires window.location');if(!a||'string'!=typeof a)return a;var s=r.protocol+'//'+r.host,o=s+r.pathname.replace(/\/[^\/]*$/,'/'),n=a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,e){var t=e.trim().replace(/^"(.*)"$/,function(n,e){return e}).replace(/^'(.*)'$/,function(n,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(t))return n;var a;return a=0===t.indexOf('//')?t:0===t.indexOf('/')?s+t:o+t.replace(/^\.\//,''),'url('+JSON.stringify(a)+')'});return n}},function(a,e,t){var o=t(15);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-editor__editable{border-radius:0}.ck-editor__editable.ck-rounded-corners,.ck-rounded-corners .ck-editor__editable{border-radius:var(--ck-border-radius)}.ck-editor__editable.ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}'},function(a,e,t){var o=t(17);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-label{display:block}.ck-voice-label{display:none}.ck-label{font-weight:700}'},function(a,e,t){var o=t(19);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-editor .ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck-editor .ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck-editor .ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}'},function(a,e,t){var o=t(21);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row wrap;align-items:center}.ck-toolbar.ck-toolbar_vertical{flex-direction:column}.ck-toolbar__separator{display:inline-block}.ck-toolbar__newline{display:block;width:100%}.ck-toolbar_floating{flex-wrap:nowrap}.ck-toolbar{border-radius:0}.ck-rounded-corners .ck-toolbar,.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck-toolbar>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck-toolbar.ck-toolbar_vertical{padding:0}.ck-toolbar.ck-toolbar_vertical>*{width:100%;margin:0;border-radius:0;border:0}.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck-toolbar{border:0}.ck-toolbar__separator{align-self:stretch;width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck-toolbar__newline{margin:0}'},function(a,e,t){var o=t(23);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-editor{position:relative}.ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal);border-radius:0}.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners,.ck-rounded-corners .ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners,.ck-rounded-corners .ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-radius:var(--ck-border-radius);border-radius:0}.ck-editor__main .ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-editor__main .ck-editor__editable.ck-rounded-corners,.ck-rounded-corners .ck-editor__main .ck-editor__editable{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck-editor__main .ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}'},function(a,e,t){var o=t(25);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='svg.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base) * var(--ck-font-size-normal))}svg.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}svg.ck-icon,svg.ck-icon *{color:inherit;cursor:inherit}svg.ck-icon *{fill:currentColor}'},function(a,e,t){var o=t(27);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-tooltip,.ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck-tooltip__text{display:inline-block}.ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck-tooltip{left:50%}.ck-tooltip.ck-tooltip_s{bottom:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-color:transparent transparent var(--ck-color-tooltip-background);border-width:0 var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size)}.ck-tooltip.ck-tooltip_n{top:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-color:var(--ck-color-tooltip-background) transparent transparent;border-width:var(--ck-tooltip-arrow-size) var(--ck-tooltip-arrow-size) 0}.ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck-tooltip__text,.ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck-tooltip__text:after{border-style:solid;left:50%}.ck-tooltip,.ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}'},function(a,e,t){var o=t(29);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-button,a.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck-button .ck-tooltip,a.ck-button .ck-tooltip{display:block}.ck-button,a.ck-button{position:relative}.ck-button.ck-button_with-text .ck-button__label,a.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck-button:hover .ck-tooltip,a.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck-button .ck-button__label,.ck-button:focus:not(:hover) .ck-tooltip,a.ck-button .ck-button__label,a.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck-button,a.ck-button{background:var(--ck-color-button-default-background)}.ck-button:not(.ck-disabled):focus,.ck-button:not(.ck-disabled):hover,a.ck-button:not(.ck-disabled):focus,a.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-focus-background)}.ck-button:not(.ck-disabled):active,a.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck-button.ck-disabled,a.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck-button,a.ck-button{border-radius:0}.ck-button.ck-rounded-corners,.ck-rounded-corners .ck-button,.ck-rounded-corners a.ck-button,a.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-button,a.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent}.ck-button:focus,a.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;border-color:transparent}.ck-button.ck-disabled .ck-button__icon,a.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck-button.ck-disabled .ck-button__label,a.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck-button.ck-button_with-text,a.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}.ck-button.ck-button_with-text .ck-button__icon,a.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1 * var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}.ck-button.ck-on,a.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck-button.ck-on:not(.ck-disabled):focus,.ck-button.ck-on:not(.ck-disabled):hover,a.ck-button.ck-on:not(.ck-disabled):focus,a.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-focus-background)}.ck-button.ck-on:not(.ck-disabled):active,a.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck-button.ck-on.ck-disabled,a.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck-button .ck-button__icon use,.ck-button .ck-button__icon use *,a.ck-button .ck-button__icon use,a.ck-button .ck-button__icon use *{color:inherit}.ck-button .ck-button__label,a.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}.ck-button-action,a.ck-button-action{background:var(--ck-color-button-action-background)}.ck-button-action:not(.ck-disabled):focus,.ck-button-action:not(.ck-disabled):hover,a.ck-button-action:not(.ck-disabled):focus,a.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-focus-background)}.ck-button-action:not(.ck-disabled):active,a.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck-button-action.ck-disabled,a.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck-button-action,a.ck-button-action{color:var(--ck-color-button-action-text)}.ck-button-bold,a.ck-button-bold{font-weight:700}'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z" fill="#000" fill-rule="nonzero"/></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z" fill="#000" fill-rule="nonzero"/></svg>'},function(t){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z" fill="#000" fill-rule="evenodd"/></svg>\n'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z" fill="#333" fill-rule="evenodd"/></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563zM11 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563z"/></g></svg>\n'},function(a,e,t){var o=t(36);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-content blockquote{overflow:hidden;padding-left:1.5em;margin-left:0;font-style:italic;border-left:5px solid #ccc}'},function(a,e,t){var o=t(38);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports=':root{--ck-widget-outline-thickness:3px;--ck-color-widget-border-blurred:#dedede;--ck-color-widget-border-hover:#ffd15c;--ck-color-widget-editable-focused-background:var(--ck-color-base-background),}.ck-widget{margin:var(--ck-spacing-standard) 0;padding:0}.ck-widget.ck-widget_selected,.ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-widget-border-blurred)}.ck-widget:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-widget-border-hover)}.ck-widget .ck-editable{border:1px solid transparent}.ck-widget .ck-editable.ck-editable_focused,.ck-widget .ck-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focused-background)}'},function(a,e,t){var o=t(40);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports=':root{--ck-input-text-width:18em}.ck-input-text{border-radius:0}.ck-input-text.ck-rounded-corners,.ck-rounded-corners .ck-input-text{border-radius:var(--ck-border-radius)}.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition-property:box-shadow,border;transition:.2s ease-in-out}.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}'},function(a,e,t){var o=t(42);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck-text-alternative-form .ck-label{display:none}.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck-text-alternative-form:focus{outline:none}.ck-text-alternative-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(a,e,t){var o=t(44);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-z-default)}.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-z-default) + 1)}.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-z-default)}.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-z-default) + 1)}.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-z-default)}.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-z-default) + 1)}.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck-balloon-panel{border-radius:0}.ck-balloon-panel.ck-rounded-corners,.ck-rounded-corners .ck-balloon-panel{border-radius:var(--ck-border-radius)}.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck-balloon-panel[class*=arrow_n]:after,.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border)}.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck-balloon-panel[class*=arrow_s]:after,.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent}.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent;margin-bottom:var(--ck-balloon-arrow-offset)}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012.9.093 1.676.675 2.017 1.513.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z" fill="#000" fill-rule="evenodd"/></svg>'},function(a,e,t){var o=t(47);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-content .image{clear:both;text-align:center}.ck-content .image>img{display:block;margin:0 auto;max-width:100%}'},function(t){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z" fill="#000" fill-rule="nonzero"/></svg>\n'},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><g fill="none" fill-rule="evenodd"><rect width="700" height="250" fill="#F7F7F7" rx="4"/><text fill="#5F6F77" font-family="Arial,sans-serif" font-size="24"><tspan x="247.9" y="135">Uploading image\u2026</tspan></text></g></svg>\n'},function(a,e,t){var o=t(51);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='figure.image{position:relative;overflow:hidden}figure.image.ck-infinite-progress:before{content:"";position:absolute;top:0;right:0}figure.image .ck-progress-bar{position:absolute;top:0;left:0}:root{--ck-image-upload-progress-line-width:30px}figure.image.ck-appear{animation:a .7s}figure.image.ck-infinite-progress:before{width:var(--ck-image-upload-progress-line-width);height:2px;background:var(--ck-color-upload-infinite-background);animation-name:b;animation-duration:1.5s;animation-iteration-count:infinite;transition-timing-function:linear}figure.image.ck-image-upload-placeholder>img{width:100%}figure.image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes a{0%{opacity:0}to{opacity:1}}@keyframes b{0%{width:var(--ck-image-upload-progress-line-width);right:0}50%{width:calc(var(--ck-image-upload-progress-line-width) * 1.5)}to{right:100%}}'},function(a,e,t){var o=t(53);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-dropdown{display:inline-block;position:relative}.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default);position:absolute;top:50%;transform:translate3d(0,-50%,0)}.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute;left:0;transform:translate3d(0,100%,0)}.ck-dropdown__panel-visible{display:inline-block;will-change:transform}:root{--ck-dropdown-arrow-size:calc(0.5 * var(--ck-icon-size))}.ck-dropdown{font-size:inherit}.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);width:var(--ck-dropdown-arrow-size)}.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}.ck-dropdown .ck-button.ck-dropdown__button{padding-right:calc(2.5 * var(--ck-spacing-standard))}.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck-dropdown__panel{border-radius:0;box-shadow:var(--ck-drop-shadow),0 0}.ck-dropdown__panel.ck-rounded-corners,.ck-rounded-corners .ck-dropdown__panel{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}'},function(t){t.exports='<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z" fill="#000" fill-rule="evenodd"/></svg>'},function(a,e,t){var o=t(56);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden}.ck-list__item{display:block}.ck-list__item:focus{position:relative;z-index:var(--ck-z-default)}.ck-list{border-radius:0}.ck-list.ck-rounded-corners,.ck-rounded-corners .ck-list{border-radius:var(--ck-border-radius)}.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck-list__item{padding:var(--ck-spacing-medium);cursor:default;min-width:12em}.ck-list__item:focus,.ck-list__item:hover{background:var(--ck-color-list-item-background-hover)}.ck-list__item:focus{box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck-list__item_active{background:var(--ck-color-list-item-background-active);color:var(--ck-color-list-item-text-active)}.ck-list__item_active:focus,.ck-list__item_active:hover{background:var(--ck-color-list-item-background-active-focus)}'},function(a,e,t){var o=t(58);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-toolbar-dropdown .ck-toolbar{flex-wrap:nowrap}.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck-toolbar-dropdown .ck-toolbar{border:0}'},function(a,e,t){var o=t(60);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners,.ck-rounded-corners .ck-dropdown .ck-dropdown__panel .ck-list{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck-dropdown .ck-dropdown__panel .ck-list>.ck-list__item{line-height:calc(.8*var(--ck-line-height-base)*var(--ck-font-size-base));padding:calc(.4*var(--ck-line-height-base)*var(--ck-font-size-base))}'},function(t){t.exports='.ck-heading_heading1{font-size:20px}.ck-heading_heading2{font-size:17px}.ck-heading_heading3{font-size:14px}[class*=ck-heading_heading]{font-weight:700}.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}'},function(a,e,t){var o=t(63);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-placeholder:before{content:attr(data-placeholder);pointer-events:none;cursor:text;color:var(--ck-color-engine-placeholder-text)}'},function(a,e,t){var o=t(65);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-content .image>figcaption{color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}'},function(t){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM4.5 7.5V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06C3.475 13.5 3 13.093 3 12.59V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(t){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z" fill-rule="nonzero"/></svg>'},function(t){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM6.5 7.5V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(t){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM2 7.5V6h5.674v1.5zM2 10.5V9h5.674v1.5zM2 13.5V12h5.674v1.5zM10.5 7.5V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(a,e,t){var o=t(71);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports=':root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}'},function(a,e,t){var o=t(73);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-link_selected{background:var(--ck-color-link-selected-background);outline:1px solid var(--ck-color-link-selected-background)}'},function(a,e,t){var o=t(75);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-link-form .ck-labeled-input{display:inline-block}.ck-link-form .ck-label{display:none}.ck-link-form{padding:var(--ck-spacing-standard)}.ck-link-form:focus{outline:none}.ck-link-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zM16.927 17.695l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></g></svg>'},function(t){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z" fill="#000" fill-rule="nonzero"/></svg>\n'},function(a,e,t){var o=t(79);'string'==typeof o&&(o=[[a.i,o,'']]);var s={singleton:!0,hmr:!0},i;s.transform=i,t(0)(o,s),o.locals&&(a.exports=o.locals),!1},function(t){t.exports='.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}.ck-link-actions{padding:var(--ck-spacing-standard)}.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck-link-actions .ck-button.ck-link-actions__preview,.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-standard);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck-link-actions:focus{outline:none}.ck-link-actions>:not(:first-child){margin-left:var(--ck-spacing-standard)}'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z" fill="#000" fill-rule="evenodd"/></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z" fill="#454545" fill-rule="evenodd"/></svg>'},function(t){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z" fill="#454545" fill-rule="evenodd"/></svg>'}])['default']});CKEDITOR_TRANSLATIONS.add('en',{a:'Cannot upload file:',b:'Italic',c:'Bold',d:'Block quote',e:'image widget',f:'Choose heading',g:'Heading',h:'Paragraph',i:'Heading 1',j:'Heading 2',k:'Heading 3',l:'Enter image caption',m:'Full size image',n:'Side image',o:'Left aligned image',p:'Centered image',q:'Right aligned image',r:'Insert image',s:'Upload failed',t:'Link',u:'Numbered List',v:'Bulleted List',w:'Change image text alternative',x:'Unlink',y:'Edit link',z:'Open link in new tab',aa:'This link has no URL',ab:'Save',ac:'Cancel',ad:'Link URL',ae:'Rich Text Editor, %0',af:'Rich Text Editor',ag:'Undo',ah:'Redo',ai:'Text alternative'})},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),d=n(1),l=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=(u=Object(d.b)('store'),u(p=Object(d.c)(p=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.addPatient=e.addPatient.bind(e),e}return r(t,e),l(t,[{key:'addPatient',value:function(){var e=this.props.store.notewriterStore;e.add()}},{key:'render',value:function(){return s.a.createElement('div',{className:'notewriter-actions'},s.a.createElement('div',{className:'button-group'},s.a.createElement('button',{className:'button',onClick:this.addPatient},'Add patient'),s.a.createElement('div',{className:'dropdown'},s.a.createElement('button',{className:'button has-dropdown-icon'},'Other'),s.a.createElement('div',{className:'dropdown-body'},s.a.createElement('a',{className:'dropdown-item',href:''},'Some action'),s.a.createElement('a',{className:'dropdown-item',href:''},'Another action'),s.a.createElement('span',{className:'dropdown-item-sep'}),s.a.createElement('a',{className:'dropdown-item',href:''},'CSS dropdown without JS')))))}}]),t}(i.Component))||p)||p),u,p;t.a=c},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=n(37);t.a=new function e(){o(this,e),this.notewriterStore=new a.a(this)}},function(e,t,n){'use strict';function o(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t,n,o,a){var r={};return Object.keys(o).forEach(function(e){r[e]=o[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,('value'in r||r.initializer)&&(r.writable=!0),r=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},r),a&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(a):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var i=n(8),s=n(38),d=n.n(s),l=n(40),c=n.n(l),u=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=(m=function(){function e(){a(this,e),o(this,'patient',f,this),o(this,'activePatientIndex',g,this),this.patient=[{name:'Test name',createdAt:d()().format('MMMM Do YYYY, h:mm:ss a'),id:this.generateUniqueId(),notes:''},{name:'Another name',createdAt:d()().format('MMMM Do YYYY, h:mm:ss a'),id:this.generateUniqueId(),notes:''}]}return u(e,[{key:'add',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'New patient';this.patient.push({name:e,createdAt:d()().format('MMMM Do YYYY, h:mm:ss a'),id:this.generateUniqueId(),notes:''}),this.setLastItemAsIndex()}},{key:'delete',value:function(e){this.patient=this.patient.filter(function(t,n){return n!==e}),this.setLastItemAsIndex()}},{key:'update',value:function(e,t,n){this.patient.map(function(o){return o.id===e&&(o[t]=n),o})}},{key:'generateUniqueId',value:function(){return c.a.create().hex}},{key:'setActivePatientIndex',value:function(e){this.activePatientIndex=e}},{key:'setLastItemAsIndex',value:function(){this.setActivePatientIndex(this.patient.length-1)}}]),e}(),f=r(m.prototype,'patient',[i.j],{enumerable:!0,initializer:function(){return[]}}),g=r(m.prototype,'activePatientIndex',[i.j],{enumerable:!0,initializer:function(){return 0}}),r(m.prototype,'add',[i.c],Object.getOwnPropertyDescriptor(m.prototype,'add'),m.prototype),r(m.prototype,'delete',[i.c],Object.getOwnPropertyDescriptor(m.prototype,'delete'),m.prototype),r(m.prototype,'update',[i.c],Object.getOwnPropertyDescriptor(m.prototype,'update'),m.prototype),m),m,f,g;t.a=p},function(e,t,n){var o=Math.ceil,a=Math.floor,r=Math.min;(function(e){var t;//! moment.js
(function(t,n){e.exports=n()})(this,function(){'use strict';function t(){return Dt.apply(null,arguments)}function n(e){return e instanceof Array||'[object Array]'===Object.prototype.toString.call(e)}function i(e){return null!=e&&'[object Object]'===Object.prototype.toString.call(e)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function d(e){return void 0===e}function l(e){return'number'==typeof e||'[object Number]'===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||'[object Date]'===Object.prototype.toString.call(e)}function u(e,t){var n=[],o;for(o=0;o<e.length;++o)n.push(t(e[o],o));return n}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,'toString')&&(e.toString=t.toString),p(t,'valueOf')&&(e.valueOf=t.valueOf),e}function g(e,t,n,o){return qe(e,t,n,o,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function b(e){return null==e._pf&&(e._pf=h()),e._pf}function m(e){if(null==e._isValid){var t=b(e),n=Nt.call(t.parsedDateParts,function(e){return null!=e}),o=!isNaN(e._d.getTime())&&0>t.overflow&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null==Object.isFrozen||!Object.isFrozen(e))e._isValid=o;else return o}return e._isValid}function y(e){var t=g(NaN);return null==e?b(t).userInvalidated=!0:f(b(t),e),t}function _(e,t){var n,o,a;if(d(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),d(t._i)||(e._i=t._i),d(t._f)||(e._f=t._f),d(t._l)||(e._l=t._l),d(t._strict)||(e._strict=t._strict),d(t._tzm)||(e._tzm=t._tzm),d(t._isUTC)||(e._isUTC=t._isUTC),d(t._offset)||(e._offset=t._offset),d(t._pf)||(e._pf=b(t)),d(t._locale)||(e._locale=t._locale),0<Vt.length)for(n=0;n<Vt.length;n++)o=Vt[n],a=t[o],d(a)||(e[o]=a);return e}function k(e){_(this,e),this._d=new Date(null==e._d?NaN:e._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===Ft&&(Ft=!0,t.updateOffset(this),Ft=!1)}function v(e){return e instanceof k||null!=e&&null!=e._isAMomentObject}function w(e){return 0>e?o(e)||0:a(e)}function x(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=w(t)),n}function C(e,t,n){var o=r(e.length,t.length),a=Mt(e.length-t.length),s=0,d;for(d=0;d<o;d++)(n&&e[d]!==t[d]||!n&&x(e[d])!==x(t[d]))&&s++;return s+a}function T(e){!1===t.suppressDeprecationWarnings&&'undefined'!=typeof console&&console.warn&&console.warn('Deprecation warning: '+e)}function S(e,n){var o=!0;return f(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),o){for(var a=[],r=0,i;r<arguments.length;r++){if(i='','object'==typeof arguments[r]){for(var s in i+='\n['+r+'] ',arguments[0])i+=s+': '+arguments[0][s]+', ';i=i.slice(0,-2)}else i=arguments[r];a.push(i)}T(e+'\nArguments: '+Array.prototype.slice.call(a).join('')+'\n'+new Error().stack),o=!1}return n.apply(this,arguments)},n)}function P(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Lt[e]||(T(n),Lt[e]=!0)}function E(e){return e instanceof Function||'[object Function]'===Object.prototype.toString.call(e)}function A(e,t){var n=f({},e),o;for(o in t)p(t,o)&&(i(e[o])&&i(t[o])?(n[o]={},f(n[o],e[o]),f(n[o],t[o])):null==t[o]?delete n[o]:n[o]=t[o]);for(o in e)p(e,o)&&!p(t,o)&&i(e[o])&&(n[o]=f({},n[o]));return n}function O(e){null!=e&&this.set(e)}function I(e,t){var n=e.toLowerCase();jt[n]=jt[n+'s']=jt[t]=e}function R(e){return'string'==typeof e?jt[e]||jt[e.toLowerCase()]:void 0}function M(e){var t={},n,o;for(o in e)p(e,o)&&(n=R(o),n&&(t[n]=e[o]));return t}function D(e,t){zt[e]=t}function N(e){var t=[];for(var n in e)t.push({unit:n,priority:zt[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function V(e,t,n){var o=''+Mt(e),a=t-o.length;return(0<=e?n?'+':'':'-')+Math.pow(10,Math.max(0,a)).toString().substr(1)+o}function F(e,t,n,o){var a=o;'string'==typeof o&&(a=function(){return this[o]()}),e&&(qt[e]=a),t&&(qt[t[0]]=function(){return V(a.apply(this,arguments),t[1],t[2])}),n&&(qt[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,''):e.replace(/\\/g,'')}function B(e){var t=e.match(Ht),n,o;for(n=0,o=t.length;n<o;n++)t[n]=qt[t[n]]?qt[t[n]]:L(t[n]);return function(n){var a='',r;for(r=0;r<o;r++)a+=E(t[r])?t[r].call(n,e):t[r];return a}}function U(e,t){return e.isValid()?(t=j(t,e.localeData()),Yt[t]=Yt[t]||B(t),Yt[t](e)):e.localeData().invalidDate()}function j(e,t){function n(e){return t.longDateFormat(e)||e}var o=5;for(Wt.lastIndex=0;0<=o&&Wt.test(e);)e=e.replace(Wt,n),Wt.lastIndex=0,o-=1;return e}function z(e,t,n){un[e]=E(t)?t:function(e){return e&&n?n:t}}function H(e,t){return p(un,e)?un[e](t._strict,t._locale):new RegExp(W(e))}function W(e){return Y(e.replace('\\','').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,o,a){return t||n||o||a}))}function Y(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')}function q(e,t){var n=t,o;for('string'==typeof e&&(e=[e]),l(t)&&(n=function(e,n){n[t]=x(e)}),o=0;o<e.length;o++)pn[e[o]]=n}function $(e,t){q(e,function(e,n,o,a){o._w=o._w||{},t(e,o._w,o,a)})}function K(e,t,n){null!=t&&p(pn,e)&&pn[e](t,n._a,n,e)}function G(e){return Q(e)?366:365}function Q(e){return 0==e%4&&0!=e%100||0==e%400}function J(e,n){return function(o){return null==o?Z(this,e):(X(this,e,o),t.updateOffset(this,n),this)}}function Z(e,t){return e.isValid()?e._d['get'+(e._isUTC?'UTC':'')+t]():NaN}function X(e,t,n){e.isValid()&&!isNaN(n)&&('FullYear'===t&&Q(e.year())&&1===e.month()&&29===e.date()?e._d['set'+(e._isUTC?'UTC':'')+t](n,e.month(),te(n,e.month())):e._d['set'+(e._isUTC?'UTC':'')+t](n))}function ee(e,t){return(e%t+t)%t}function te(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ee(t,12);return e+=(t-n)/12,1===n?Q(e)?29:28:31-n%7%2}function ne(e,t,n){var o=e.toLocaleLowerCase(),a,r,i;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;12>a;++a)i=g([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(i,'').toLocaleLowerCase(),this._longMonthsParse[a]=this.months(i,'').toLocaleLowerCase();return n?'MMM'===t?(r=xn.call(this._shortMonthsParse,o),-1===r?null:r):(r=xn.call(this._longMonthsParse,o),-1===r?null:r):'MMM'===t?(r=xn.call(this._shortMonthsParse,o),-1!==r)?r:(r=xn.call(this._longMonthsParse,o),-1===r?null:r):(r=xn.call(this._longMonthsParse,o),-1!==r)?r:(r=xn.call(this._shortMonthsParse,o),-1===r?null:r)}function oe(e,t){var n;if(!e.isValid())return e;if('string'==typeof t)if(/^\d+$/.test(t))t=x(t);else if(t=e.localeData().monthsParse(t),!l(t))return e;return n=r(e.date(),te(e.year(),t)),e._d['set'+(e._isUTC?'UTC':'')+'Month'](t,n),e}function ae(e){return null==e?Z(this,'Month'):(oe(this,e),t.updateOffset(this,!0),this)}function re(){function e(e,t){return t.length-e.length}var t=[],n=[],o=[],a,r;for(a=0;12>a;a++)r=g([2e3,a]),t.push(this.monthsShort(r,'')),n.push(this.months(r,'')),o.push(this.months(r,'')),o.push(this.monthsShort(r,''));for(t.sort(e),n.sort(e),o.sort(e),a=0;12>a;a++)t[a]=Y(t[a]),n[a]=Y(n[a]);for(a=0;24>a;a++)o[a]=Y(o[a]);this._monthsRegex=new RegExp('^('+o.join('|')+')','i'),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp('^('+n.join('|')+')','i'),this._monthsShortStrictRegex=new RegExp('^('+t.join('|')+')','i')}function ie(e,t,n,o,a,r,i){var s=new Date(e,t,n,o,a,r,i);return 100>e&&0<=e&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function se(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function de(e,t,n){var o=7+t-n,a=(7+se(e,0,o).getUTCDay()-t)%7;return-a+o-1}function le(e,t,n,o,a){var r=de(e,o,a),i=1+7*(t-1)+(7+n-o)%7+r,s,d;return 0>=i?(s=e-1,d=G(s)+i):i>G(e)?(s=e+1,d=i-G(e)):(s=e,d=i),{year:s,dayOfYear:d}}function ce(e,t,n){var o=de(e.year(),t,n),r=a((e.dayOfYear()-o-1)/7)+1,i,s;return 1>r?(s=e.year()-1,i=r+ue(s,t,n)):r>ue(e.year(),t,n)?(i=r-ue(e.year(),t,n),s=e.year()+1):(s=e.year(),i=r),{week:i,year:s}}function ue(e,t,n){var o=de(e,t,n),a=de(e+1,t,n);return(G(e)-o+a)/7}function pe(e,t){return'string'==typeof e?isNaN(e)?(e=t.weekdaysParse(e),'number'==typeof e?e:null):parseInt(e,10):e}function me(e,t){return'string'==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function fe(e,t,n){var o=e.toLocaleLowerCase(),a,r,i;if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;7>a;++a)i=g([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(i,'').toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(i,'').toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(i,'').toLocaleLowerCase();return n?'dddd'===t?(r=xn.call(this._weekdaysParse,o),-1===r?null:r):'ddd'===t?(r=xn.call(this._shortWeekdaysParse,o),-1===r?null:r):(r=xn.call(this._minWeekdaysParse,o),-1===r?null:r):'dddd'===t?(r=xn.call(this._weekdaysParse,o),-1!==r)?r:(r=xn.call(this._shortWeekdaysParse,o),-1!==r)?r:(r=xn.call(this._minWeekdaysParse,o),-1===r?null:r):'ddd'===t?(r=xn.call(this._shortWeekdaysParse,o),-1!==r)?r:(r=xn.call(this._weekdaysParse,o),-1!==r)?r:(r=xn.call(this._minWeekdaysParse,o),-1===r?null:r):(r=xn.call(this._minWeekdaysParse,o),-1!==r)?r:(r=xn.call(this._weekdaysParse,o),-1!==r)?r:(r=xn.call(this._shortWeekdaysParse,o),-1===r?null:r)}function ge(){function e(e,t){return t.length-e.length}var t=[],n=[],o=[],a=[],r,i,s,d,l;for(r=0;7>r;r++)i=g([2e3,1]).day(r),s=this.weekdaysMin(i,''),d=this.weekdaysShort(i,''),l=this.weekdays(i,''),t.push(s),n.push(d),o.push(l),a.push(s),a.push(d),a.push(l);for(t.sort(e),n.sort(e),o.sort(e),a.sort(e),r=0;7>r;r++)n[r]=Y(n[r]),o[r]=Y(o[r]),a[r]=Y(a[r]);this._weekdaysRegex=new RegExp('^('+a.join('|')+')','i'),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp('^('+o.join('|')+')','i'),this._weekdaysShortStrictRegex=new RegExp('^('+n.join('|')+')','i'),this._weekdaysMinStrictRegex=new RegExp('^('+t.join('|')+')','i')}function he(){return this.hours()%12||12}function be(e,t){F(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ye(e,t){return t._meridiemParse}function _e(e){return e?e.toLowerCase().replace('_','-'):e}function ke(e){for(var t=0,n,o,a,r;t<e.length;){for(r=_e(e[t]).split('-'),n=r.length,o=_e(e[t+1]),o=o?o.split('-'):null;0<n;){if(a=ve(r.slice(0,n).join('-')),a)return a;if(o&&o.length>=n&&C(r,o,!0)>=n-1)break;n--}t++}return Un}function ve(t){var n=null;if(!On[t]&&'undefined'!=typeof e&&e&&e.exports)try{n=Un._abbr;!function(){var t=new Error('Cannot find module "./locale"');throw t.code='MODULE_NOT_FOUND',t}(),we(n)}catch(t){}return On[t]}function we(e,t){var n;return e&&(n=d(t)?Ce(e):xe(e,t),n?Un=n:'undefined'!=typeof console&&console.warn&&console.warn('Locale '+e+' not found. Did you forget to load it?')),Un._abbr}function xe(e,t){if(null!==t){var n=An,o;if(t.abbr=e,null!=On[e])P('defineLocaleOverride','use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'),n=On[e]._config;else if(null!=t.parentLocale)if(null!=On[t.parentLocale])n=On[t.parentLocale]._config;else if(o=ve(t.parentLocale),null!=o)n=o._config;else return In[t.parentLocale]||(In[t.parentLocale]=[]),In[t.parentLocale].push({name:e,config:t}),null;return On[e]=new O(A(n,t)),In[e]&&In[e].forEach(function(e){xe(e.name,e.config)}),we(e),On[e]}return delete On[e],null}function Ce(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Un;if(!n(e)){if(t=ve(e),t)return t;e=[e]}return ke(e)}function Te(){return Bt(On)}function Se(e){var t=e._a,n;return t&&-2===b(e).overflow&&(n=0>t[fn]||11<t[fn]?fn:1>t[gn]||t[gn]>te(t[mn],t[fn])?gn:0>t[hn]||24<t[hn]||24===t[hn]&&(0!==t[bn]||0!==t[yn]||0!==t[_n])?hn:0>t[bn]||59<t[bn]?bn:0>t[yn]||59<t[yn]?yn:0>t[_n]||999<t[_n]?_n:-1,b(e)._overflowDayOfYear&&(n<mn||n>gn)&&(n=gn),b(e)._overflowWeeks&&-1===n&&(n=kn),b(e)._overflowWeekday&&-1===n&&(n=vn),b(e).overflow=n),e}function Pe(e,t,n){return null==e?null==t?n:t:e}function Ee(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Ae(e){var t=[],n,o,a,r,i;if(!e._d){for(a=Ee(e),e._w&&null==e._a[gn]&&null==e._a[fn]&&Oe(e),null!=e._dayOfYear&&(i=Pe(e._a[mn],a[mn]),(e._dayOfYear>G(i)||0===e._dayOfYear)&&(b(e)._overflowDayOfYear=!0),o=se(i,0,e._dayOfYear),e._a[fn]=o.getUTCMonth(),e._a[gn]=o.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=t[n]=a[n];for(;7>n;n++)e._a[n]=t[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[hn]&&0===e._a[bn]&&0===e._a[yn]&&0===e._a[_n]&&(e._nextDay=!0,e._a[hn]=0),e._d=(e._useUTC?se:ie).apply(null,t),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[hn]=24),e._w&&'undefined'!=typeof e._w.d&&e._w.d!==r&&(b(e).weekdayMismatch=!0)}}function Oe(e){var t,n,o,a,r,i,s,d;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,i=4,n=Pe(t.GG,e._a[mn],ce($e(),1,4).year),o=Pe(t.W,1),a=Pe(t.E,1),(1>a||7<a)&&(d=!0);else{r=e._locale._week.dow,i=e._locale._week.doy;var l=ce($e(),r,i);n=Pe(t.gg,e._a[mn],l.year),o=Pe(t.w,l.week),null==t.d?null==t.e?a=r:(a=t.e+r,(0>t.e||6<t.e)&&(d=!0)):(a=t.d,(0>a||6<a)&&(d=!0))}1>o||o>ue(n,r,i)?b(e)._overflowWeeks=!0:null==d?(s=le(n,o,a,r,i),e._a[mn]=s.year,e._dayOfYear=s.dayOfYear):b(e)._overflowWeekday=!0}function Ie(e){var t=e._i,n=Rn.exec(t)||Mn.exec(t),o,a,r,i,s,d;if(n){for(b(e).iso=!0,o=0,a=Nn.length;o<a;o++)if(Nn[o][1].exec(n[1])){i=Nn[o][0],r=!1!==Nn[o][2];break}if(null==i)return void(e._isValid=!1);if(n[3]){for(o=0,a=Vn.length;o<a;o++)if(Vn[o][1].exec(n[3])){s=(n[2]||' ')+Vn[o][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(n[4])if(Dn.exec(n[4]))d='Z';else return void(e._isValid=!1);e._f=i+(s||'')+(d||''),Be(e)}else e._isValid=!1}function Re(e,t,n,o,a,r){var i=[Me(e),Tn.indexOf(t),parseInt(n,10),parseInt(o,10),parseInt(a,10)];return r&&i.push(parseInt(r,10)),i}function Me(e){var t=parseInt(e,10);return 49>=t?2e3+t:999>=t?1900+t:t}function De(e){return e.replace(/\([^)]*\)|[\n\t]/g,' ').replace(/(\s\s+)/g,' ').trim()}function Ne(e,t,n){if(e){var o=Sn.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(o!==a)return b(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Ve(e,t,n){if(e)return Bn[e];if(t)return 0;var o=parseInt(n,10),a=o%100;return 60*((o-a)/100)+a}function Fe(e){var t=Ln.exec(De(e._i));if(t){var n=Re(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Ne(t[1],n,e))return;e._a=n,e._tzm=Ve(t[8],t[9],t[10]),e._d=se.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),b(e).rfc2822=!0}else e._isValid=!1}function Le(e){var n=Fn.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));if(Ie(e),!1===e._isValid)delete e._isValid;else return;if(Fe(e),!1===e._isValid)delete e._isValid;else return;t.createFromInputFallback(e)}function Be(e){if(e._f===t.ISO_8601)return void Ie(e);if(e._f===t.RFC_2822)return void Fe(e);e._a=[],b(e).empty=!0;var n=''+e._i,o=n.length,a=0,r,i,s,d,l;for(s=j(e._f,e._locale).match(Ht)||[],r=0;r<s.length;r++)d=s[r],i=(n.match(H(d,e))||[])[0],i&&(l=n.substr(0,n.indexOf(i)),0<l.length&&b(e).unusedInput.push(l),n=n.slice(n.indexOf(i)+i.length),a+=i.length),qt[d]?(i?b(e).empty=!1:b(e).unusedTokens.push(d),K(d,i,e)):e._strict&&!i&&b(e).unusedTokens.push(d);b(e).charsLeftOver=o-a,0<n.length&&b(e).unusedInput.push(n),12>=e._a[hn]&&!0===b(e).bigHour&&0<e._a[hn]&&(b(e).bigHour=void 0),b(e).parsedDateParts=e._a.slice(0),b(e).meridiem=e._meridiem,e._a[hn]=Ue(e._locale,e._a[hn],e._meridiem),Ae(e),Se(e)}function Ue(e,t,n){var o;return null==n?t:null==e.meridiemHour?null==e.isPM?t:(o=e.isPM(n),o&&12>t&&(t+=12),o||12!==t||(t=0),t):e.meridiemHour(t,n)}function je(e){var t,n,o,a,r;if(0===e._f.length)return b(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)(r=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],Be(t),!!m(t))&&(r+=b(t).charsLeftOver,r+=10*b(t).unusedTokens.length,b(t).score=r,(null==o||r<o)&&(o=r,n=t));f(e,n||t)}function ze(e){if(!e._d){var t=M(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Ae(e)}}function He(e){var t=new k(Se(We(e)));return t._nextDay&&(t.add(1,'d'),t._nextDay=void 0),t}function We(e){var t=e._i,o=e._f;return(e._locale=e._locale||Ce(e._l),null===t||void 0===o&&''===t)?y({nullInput:!0}):('string'==typeof t&&(e._i=t=e._locale.preparse(t)),v(t))?new k(Se(t)):(c(t)?e._d=t:n(o)?je(e):o?Be(e):Ye(e),m(e)||(e._d=null),e)}function Ye(e){var o=e._i;d(o)?e._d=new Date(t.now()):c(o)?e._d=new Date(o.valueOf()):'string'==typeof o?Le(e):n(o)?(e._a=u(o.slice(0),function(e){return parseInt(e,10)}),Ae(e)):i(o)?ze(e):l(o)?e._d=new Date(o):t.createFromInputFallback(e)}function qe(e,t,o,a,r){var d={};return(!0===o||!1===o)&&(a=o,o=void 0),(i(e)&&s(e)||n(e)&&0===e.length)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=r,d._l=o,d._i=e,d._f=t,d._strict=a,He(d)}function $e(e,t,n,o){return qe(e,t,n,o,!1)}function Ke(e,t){var o,a;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return $e();for(o=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](o))&&(o=t[a]);return o}function Ge(e){for(var t in e)if(-1===xn.call(Hn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,o=0;o<Hn.length;++o)if(e[Hn[o]]){if(n)return!1;parseFloat(e[Hn[o]])!==x(e[Hn[o]])&&(n=!0)}return!0}function Qe(e){var t=M(e),n=t.year||0,o=t.quarter||0,a=t.month||0,r=t.week||0,i=t.day||0,s=t.hour||0,d=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=Ge(t),this._milliseconds=+c+1e3*l+6e4*d+60*(60*(1e3*s)),this._days=+i+7*r,this._months=+a+3*o+12*n,this._data={},this._locale=Ce(),this._bubble()}function Je(e){return e instanceof Qe}function Ze(e){return 0>e?-1*Rt(-1*e):Rt(e)}function Xe(e,t){F(e,0,0,function(){var e=this.utcOffset(),n='+';return 0>e&&(e=-e,n='-'),n+V(~~(e/60),2)+t+V(~~e%60,2)})}function et(e,t){var n=(t||'').match(e);if(null===n)return null;var o=n[n.length-1]||[],a=(o+'').match(Wn)||['-',0,0],r=+(60*a[1])+x(a[2]);return 0===r?0:'+'===a[0]?r:-r}function tt(e,n){var o,a;return n._isUTC?(o=n.clone(),a=(v(e)||c(e)?e.valueOf():$e(e).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+a),t.updateOffset(o,!1),o):$e(e).local()}function nt(e){return 15*-Rt(e._d.getTimezoneOffset()/15)}function ot(){return!!this.isValid()&&this._isUTC&&0===this._offset}function at(e,t){var n=e,o=null,a,r,i;return Je(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(n={},t?n[t]=e:n.milliseconds=e):(o=Yn.exec(e))?(a='-'===o[1]?-1:1,n={y:0,d:x(o[gn])*a,h:x(o[hn])*a,m:x(o[bn])*a,s:x(o[yn])*a,ms:x(Ze(1e3*o[_n]))*a}):(o=qn.exec(e))?(a='-'===o[1]?-1:'+'===o[1]?1:1,n={y:rt(o[2],a),M:rt(o[3],a),w:rt(o[4],a),d:rt(o[5],a),h:rt(o[6],a),m:rt(o[7],a),s:rt(o[8],a)}):null==n?n={}:'object'==typeof n&&('from'in n||'to'in n)&&(i=st($e(n.from),$e(n.to)),n={},n.ms=i.milliseconds,n.M=i.months),r=new Qe(n),Je(e)&&p(e,'_locale')&&(r._locale=e._locale),r}function rt(e,t){var n=e&&parseFloat(e.replace(',','.'));return(isNaN(n)?0:n)*t}function it(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,'M').isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,'M'),n}function st(e,t){var n;return e.isValid()&&t.isValid()?(t=tt(t,e),e.isBefore(t)?n=it(e,t):(n=it(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function dt(e,t){return function(n,o){var a,r;return null===o||isNaN(+o)||(P(t,'moment().'+t+'(period, number) is deprecated. Please use moment().'+t+'(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'),r=n,n=o,o=r),n='string'==typeof n?+n:n,a=at(n,o),lt(this,a,e),this}}function lt(e,n,o,a){var r=n._milliseconds,i=Ze(n._days),s=Ze(n._months);e.isValid()&&(a=null==a||a,s&&oe(e,Z(e,'Month')+s*o),i&&X(e,'Date',Z(e,'Date')+i*o),r&&e._d.setTime(e._d.valueOf()+r*o),a&&t.updateOffset(e,i||s))}function ct(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(n,'months'),a,r;return 0>t-o?(a=e.clone().add(n-1,'months'),r=(t-o)/(o-a)):(a=e.clone().add(n+1,'months'),r=(t-o)/(a-o)),-(n+r)||0}function ut(e){var t;return void 0===e?this._locale._abbr:(t=Ce(e),null!=t&&(this._locale=t),this)}function pt(){return this._locale}function mt(e,t){F(0,[e,e.length],0,t)}function ft(e,t,n,o,a){var r;return null==e?ce(this,o,a).year:(r=ue(e,o,a),t>r&&(t=r),gt.call(this,e,t,n,o,a))}function gt(e,t,n,o,a){var r=le(e,t,n,o,a),i=se(r.year,0,r.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}function ht(e,t){t[_n]=x(1e3*('0.'+e))}function bt(e){return e}function yt(e,t,n,o){var a=Ce(),r=g().set(o,t);return a[n](r,e)}function _t(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||'',null!=t)return yt(e,t,n,'month');var o=[],a;for(a=0;12>a;a++)o[a]=yt(e,a,n,'month');return o}function kt(e,t,n,o){'boolean'==typeof e?(l(t)&&(n=t,t=void 0),t=t||''):(t=e,n=t,e=!1,l(t)&&(n=t,t=void 0),t=t||'');var a=Ce(),r=e?a._week.dow:0;if(null!=n)return yt(t,(n+r)%7,o,'day');var s=[],d;for(d=0;7>d;d++)s[d]=yt(t,(d+r)%7,o,'day');return s}function vt(e,t,n,o){var a=at(t,n);return e._milliseconds+=o*a._milliseconds,e._days+=o*a._days,e._months+=o*a._months,e._bubble()}function wt(e){return 0>e?a(e):o(e)}function xt(e){return 4800*e/146097}function Ct(e){return 146097*e/4800}function Tt(e){return function(){return this.as(e)}}function St(e){return function(){return this.isValid()?this._data[e]:NaN}}function Pt(e,t,n,o,a){return a.relativeTime(t||1,!!n,e,o)}function Et(e,t,n){var o=at(e).abs(),r=ko(o.as('s')),i=ko(o.as('m')),s=ko(o.as('h')),d=ko(o.as('d')),l=ko(o.as('M')),c=ko(o.as('y')),u=r<=vo.ss&&['s',r]||r<vo.s&&['ss',r]||1>=i&&['m']||i<vo.m&&['mm',i]||1>=s&&['h']||s<vo.h&&['hh',s]||1>=d&&['d']||d<vo.d&&['dd',d]||1>=l&&['M']||l<vo.M&&['MM',l]||1>=c&&['y']||['yy',c];return u[2]=t,u[3]=0<+e,u[4]=n,Pt.apply(null,u)}function At(e){return void 0===e?ko:'function'==typeof e&&(ko=e,!0)}function Ot(e){return(0<e)-(0>e)||+e}function It(){if(!this.isValid())return this.localeData().invalidDate();var e=wo(this._milliseconds)/1e3,t=wo(this._days),n=wo(this._months),o,a,r;o=w(e/60),a=w(o/60),e%=60,o%=60,r=w(n/12),n%=12;var i=r,d=n,l=t,c=a,u=o,p=e?e.toFixed(3).replace(/\.?0+$/,''):'',s=this.asSeconds();if(!s)return'P0D';var m=0>s?'-':'',f=Ot(this._months)===Ot(s)?'':'-',g=Ot(this._days)===Ot(s)?'':'-',h=Ot(this._milliseconds)===Ot(s)?'':'-';return m+'P'+(i?f+i+'Y':'')+(d?f+d+'M':'')+(l?g+l+'D':'')+(c||u||p?'T':'')+(c?h+c+'H':'')+(u?h+u+'M':'')+(p?h+p+'S':'')}var Rt=Math.round,Mt=Math.abs,Dt,Nt;Nt=Array.prototype.some?Array.prototype.some:function(e){for(var n=Object(this),t=n.length>>>0,o=0;o<t;o++)if(o in n&&e.call(this,n[o],o,n))return!0;return!1};var Vt=t.momentProperties=[],Ft=!1,Lt={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Bt=Object.keys?Object.keys:function(e){var t=[],n;for(n in e)p(e,n)&&t.push(n);return t};var Ut=/\d{1,2}/,jt={},zt={},Ht=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Wt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Yt={},qt={},$t=/\d/,Kt=/\d\d/,Gt=/\d{3}/,Qt=/\d{4}/,Jt=/[+-]?\d{6}/,Zt=/\d\d?/,Xt=/\d\d\d\d?/,en=/\d\d\d\d\d\d?/,tn=/\d{1,3}/,nn=/\d{1,4}/,on=/[+-]?\d{1,6}/,an=/\d+/,rn=/[+-]?\d+/,sn=/Z|[+-]\d\d:?\d\d/gi,dn=/Z|[+-]\d\d(?::?\d\d)?/gi,ln=/[+-]?\d+(\.\d{1,3})?/,cn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,un={},pn={},mn=0,fn=1,gn=2,hn=3,bn=4,yn=5,_n=6,kn=7,vn=8;F('Y',0,0,function(){var e=this.year();return 9999>=e?''+e:'+'+e}),F(0,['YY',2],0,function(){return this.year()%100}),F(0,['YYYY',4],0,'year'),F(0,['YYYYY',5],0,'year'),F(0,['YYYYYY',6,!0],0,'year'),I('year','y'),D('year',1),z('Y',rn),z('YY',Zt,Kt),z('YYYY',nn,Qt),z('YYYYY',on,Jt),z('YYYYYY',on,Jt),q(['YYYYY','YYYYYY'],mn),q('YYYY',function(e,n){n[mn]=2===e.length?t.parseTwoDigitYear(e):x(e)}),q('YY',function(e,n){n[mn]=t.parseTwoDigitYear(e)}),q('Y',function(e,t){t[mn]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return x(e)+(68<x(e)?1900:2e3)};var wn=J('FullYear',!0),xn;xn=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},F('M',['MM',2],'Mo',function(){return this.month()+1}),F('MMM',0,0,function(e){return this.localeData().monthsShort(this,e)}),F('MMMM',0,0,function(e){return this.localeData().months(this,e)}),I('month','M'),D('month',8),z('M',Zt),z('MM',Zt,Kt),z('MMM',function(e,t){return t.monthsShortRegex(e)}),z('MMMM',function(e,t){return t.monthsRegex(e)}),q(['M','MM'],function(e,t){t[fn]=x(e)-1}),q(['MMM','MMMM'],function(e,t,n,o){var a=n._locale.monthsParse(e,o,n._strict);null==a?b(n).invalidMonth=e:t[fn]=a});var Cn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Tn=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];F('w',['ww',2],'wo','week'),F('W',['WW',2],'Wo','isoWeek'),I('week','w'),I('isoWeek','W'),D('week',5),D('isoWeek',5),z('w',Zt),z('ww',Zt,Kt),z('W',Zt),z('WW',Zt,Kt),$(['w','ww','W','WW'],function(e,t,n,o){t[o.substr(0,1)]=x(e)});F('d',0,'do','day'),F('dd',0,0,function(e){return this.localeData().weekdaysMin(this,e)}),F('ddd',0,0,function(e){return this.localeData().weekdaysShort(this,e)}),F('dddd',0,0,function(e){return this.localeData().weekdays(this,e)}),F('e',0,0,'weekday'),F('E',0,0,'isoWeekday'),I('day','d'),I('weekday','e'),I('isoWeekday','E'),D('day',11),D('weekday',11),D('isoWeekday',11),z('d',Zt),z('e',Zt),z('E',Zt),z('dd',function(e,t){return t.weekdaysMinRegex(e)}),z('ddd',function(e,t){return t.weekdaysShortRegex(e)}),z('dddd',function(e,t){return t.weekdaysRegex(e)}),$(['dd','ddd','dddd'],function(e,t,n,o){var a=n._locale.weekdaysParse(e,o,n._strict);null==a?b(n).invalidWeekday=e:t.d=a}),$(['d','e','E'],function(e,t,n,o){t[o]=x(e)});var Sn=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];F('H',['HH',2],0,'hour'),F('h',['hh',2],0,he),F('k',['kk',2],0,function(){return this.hours()||24}),F('hmm',0,0,function(){return''+he.apply(this)+V(this.minutes(),2)}),F('hmmss',0,0,function(){return''+he.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),F('Hmm',0,0,function(){return''+this.hours()+V(this.minutes(),2)}),F('Hmmss',0,0,function(){return''+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),be('a',!0),be('A',!1),I('hour','h'),D('hour',13),z('a',ye),z('A',ye),z('H',Zt),z('h',Zt),z('k',Zt),z('HH',Zt,Kt),z('hh',Zt,Kt),z('kk',Zt,Kt),z('hmm',Xt),z('hmmss',en),z('Hmm',Xt),z('Hmmss',en),q(['H','HH'],hn),q(['k','kk'],function(e,t){var n=x(e);t[hn]=24===n?0:n}),q(['a','A'],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),q(['h','hh'],function(e,t,n){t[hn]=x(e),b(n).bigHour=!0}),q('hmm',function(e,t,n){var o=e.length-2;t[hn]=x(e.substr(0,o)),t[bn]=x(e.substr(o)),b(n).bigHour=!0}),q('hmmss',function(e,t,n){var o=e.length-4,a=e.length-2;t[hn]=x(e.substr(0,o)),t[bn]=x(e.substr(o,2)),t[yn]=x(e.substr(a)),b(n).bigHour=!0}),q('Hmm',function(e,t){var n=e.length-2;t[hn]=x(e.substr(0,n)),t[bn]=x(e.substr(n))}),q('Hmmss',function(e,t){var n=e.length-4,o=e.length-2;t[hn]=x(e.substr(0,n)),t[bn]=x(e.substr(n,2)),t[yn]=x(e.substr(o))});var Pn=/[ap]\.?m?\.?/i,En=J('Hours',!0),An={calendar:{sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},longDateFormat:{LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY h:mm A',LLLL:'dddd, MMMM D, YYYY h:mm A'},invalidDate:'Invalid date',ordinal:'%d',dayOfMonthOrdinalParse:Ut,relativeTime:{future:'in %s',past:'%s ago',s:'a few seconds',ss:'%d seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsShort:Tn,week:{dow:0,doy:6},weekdays:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],weekdaysMin:['Su','Mo','Tu','We','Th','Fr','Sa'],weekdaysShort:Sn,meridiemParse:Pn},On={},In={},Rn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Dn=/Z|[+-]\d\d(?::?\d\d)?/,Nn=[['YYYYYY-MM-DD',/[+-]\d{6}-\d\d-\d\d/],['YYYY-MM-DD',/\d{4}-\d\d-\d\d/],['GGGG-[W]WW-E',/\d{4}-W\d\d-\d/],['GGGG-[W]WW',/\d{4}-W\d\d/,!1],['YYYY-DDD',/\d{4}-\d{3}/],['YYYY-MM',/\d{4}-\d\d/,!1],['YYYYYYMMDD',/[+-]\d{10}/],['YYYYMMDD',/\d{8}/],['GGGG[W]WWE',/\d{4}W\d{3}/],['GGGG[W]WW',/\d{4}W\d{2}/,!1],['YYYYDDD',/\d{7}/]],Vn=[['HH:mm:ss.SSSS',/\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss,SSSS',/\d\d:\d\d:\d\d,\d+/],['HH:mm:ss',/\d\d:\d\d:\d\d/],['HH:mm',/\d\d:\d\d/],['HHmmss.SSSS',/\d\d\d\d\d\d\.\d+/],['HHmmss,SSSS',/\d\d\d\d\d\d,\d+/],['HHmmss',/\d\d\d\d\d\d/],['HHmm',/\d\d\d\d/],['HH',/\d\d/]],Fn=/^\/?Date\((\-?\d+)/i,Ln=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Bn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},Un;t.createFromInputFallback=S('value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',function(e){e._d=new Date(e._i+(e._useUTC?' UTC':''))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var jn=S('moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',function(){var e=$e.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()}),zn=S('moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',function(){var e=$e.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}),Hn=['year','quarter','month','week','day','hour','minute','second','millisecond'];Xe('Z',':'),Xe('ZZ',''),z('Z',dn),z('ZZ',dn),q(['Z','ZZ'],function(e,t,n){n._useUTC=!0,n._tzm=et(dn,e)});var Wn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Yn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,qn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;at.fn=Qe.prototype,at.invalid=function(){return at(NaN)};var $n=dt(1,'add'),Kn=dt(-1,'subtract');t.defaultFormat='YYYY-MM-DDTHH:mm:ssZ',t.defaultFormatUtc='YYYY-MM-DDTHH:mm:ss[Z]';var Gn=S('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(e){return void 0===e?this.localeData():this.locale(e)});F(0,['gg',2],0,function(){return this.weekYear()%100}),F(0,['GG',2],0,function(){return this.isoWeekYear()%100}),mt('gggg','weekYear'),mt('ggggg','weekYear'),mt('GGGG','isoWeekYear'),mt('GGGGG','isoWeekYear'),I('weekYear','gg'),I('isoWeekYear','GG'),D('weekYear',1),D('isoWeekYear',1),z('G',rn),z('g',rn),z('GG',Zt,Kt),z('gg',Zt,Kt),z('GGGG',nn,Qt),z('gggg',nn,Qt),z('GGGGG',on,Jt),z('ggggg',on,Jt),$(['gggg','ggggg','GGGG','GGGGG'],function(e,t,n,o){t[o.substr(0,2)]=x(e)}),$(['gg','GG'],function(e,n,o,a){n[a]=t.parseTwoDigitYear(e)}),F('Q',0,'Qo','quarter'),I('quarter','Q'),D('quarter',7),z('Q',$t),q('Q',function(e,t){t[fn]=3*(x(e)-1)}),F('D',['DD',2],'Do','date'),I('date','D'),D('date',9),z('D',Zt),z('DD',Zt,Kt),z('Do',function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),q(['D','DD'],gn),q('Do',function(e,t){t[gn]=x(e.match(Zt)[0])});var Qn=J('Date',!0);F('DDD',['DDDD',3],'DDDo','dayOfYear'),I('dayOfYear','DDD'),D('dayOfYear',4),z('DDD',tn),z('DDDD',Gt),q(['DDD','DDDD'],function(e,t,n){n._dayOfYear=x(e)}),F('m',['mm',2],0,'minute'),I('minute','m'),D('minute',14),z('m',Zt),z('mm',Zt,Kt),q(['m','mm'],bn);var Jn=J('Minutes',!1);F('s',['ss',2],0,'second'),I('second','s'),D('second',15),z('s',Zt),z('ss',Zt,Kt),q(['s','ss'],yn);var Zn=J('Seconds',!1);F('S',0,0,function(){return~~(this.millisecond()/100)}),F(0,['SS',2],0,function(){return~~(this.millisecond()/10)}),F(0,['SSS',3],0,'millisecond'),F(0,['SSSS',4],0,function(){return 10*this.millisecond()}),F(0,['SSSSS',5],0,function(){return 100*this.millisecond()}),F(0,['SSSSSS',6],0,function(){return 1e3*this.millisecond()}),F(0,['SSSSSSS',7],0,function(){return 1e4*this.millisecond()}),F(0,['SSSSSSSS',8],0,function(){return 1e5*this.millisecond()}),F(0,['SSSSSSSSS',9],0,function(){return 1e6*this.millisecond()}),I('millisecond','ms'),D('millisecond',16),z('S',tn,$t),z('SS',tn,Kt),z('SSS',tn,Gt);var Xn;for(Xn='SSSS';9>=Xn.length;Xn+='S')z(Xn,an);for(Xn='S';9>=Xn.length;Xn+='S')q(Xn,ht);var eo=J('Milliseconds',!1);F('z',0,0,'zoneAbbr'),F('zz',0,0,'zoneName');var to=k.prototype;to.add=$n,to.calendar=function(e,n){var o=e||$e(),a=tt(o,this).startOf('day'),r=t.calendarFormat(this,a)||'sameElse',i=n&&(E(n[r])?n[r].call(this,o):n[r]);return this.format(i||this.localeData().calendar(r,this,$e(o)))},to.clone=function(){return new k(this)},to.diff=function(e,t,n){var o,a,r;return this.isValid()?(o=tt(e,this),!o.isValid())?NaN:(a=6e4*(o.utcOffset()-this.utcOffset()),t=R(t),(r='year'===t?ct(this,o)/12:'month'===t?ct(this,o):'quarter'===t?ct(this,o)/3:'second'===t?(this-o)/1e3:'minute'===t?(this-o)/6e4:'hour'===t?(this-o)/36e5:'day'===t?(this-o-a)/864e5:'week'===t?(this-o-a)/6048e5:this-o,n?r:w(r))):NaN},to.endOf=function(e){return(e=R(e),void 0===e||'millisecond'===e)?this:('date'===e&&(e='day'),this.startOf(e).add(1,'isoWeek'===e?'week':e).subtract(1,'ms'))},to.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=U(this,e);return this.localeData().postformat(n)},to.from=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||$e(e).isValid())?at({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},to.fromNow=function(e){return this.from($e(),e)},to.to=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||$e(e).isValid())?at({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},to.toNow=function(e){return this.to($e(),e)},to.get=function(e){return e=R(e),E(this[e])?this[e]():this},to.invalidAt=function(){return b(this).overflow},to.isAfter=function(e,t){var n=v(e)?e:$e(e);return!!(this.isValid()&&n.isValid())&&(t=R(d(t)?'millisecond':t),'millisecond'===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},to.isBefore=function(e,t){var n=v(e)?e:$e(e);return!!(this.isValid()&&n.isValid())&&(t=R(d(t)?'millisecond':t),'millisecond'===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},to.isBetween=function(e,t,n,o){return o=o||'()',('('===o[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(')'===o[1]?this.isBefore(t,n):!this.isAfter(t,n))},to.isSame=function(e,t){var n=v(e)?e:$e(e),o;return!!(this.isValid()&&n.isValid())&&(t=R(t||'millisecond'),'millisecond'===t?this.valueOf()===n.valueOf():(o=n.valueOf(),this.clone().startOf(t).valueOf()<=o&&o<=this.clone().endOf(t).valueOf()))},to.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},to.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},to.isValid=function(){return m(this)},to.lang=Gn,to.locale=ut,to.localeData=pt,to.max=zn,to.min=jn,to.parsingFlags=function(){return f({},b(this))},to.set=function(e,t){if('object'==typeof e){e=M(e);for(var n=N(e),o=0;o<n.length;o++)this[n[o].unit](e[n[o].unit])}else if(e=R(e),E(this[e]))return this[e](t);return this},to.startOf=function(e){switch(e=R(e),e){case'year':this.month(0);case'quarter':case'month':this.date(1);case'week':case'isoWeek':case'day':case'date':this.hours(0);case'hour':this.minutes(0);case'minute':this.seconds(0);case'second':this.milliseconds(0);}return'week'===e&&this.weekday(0),'isoWeek'===e&&this.isoWeekday(1),'quarter'===e&&this.month(3*a(this.month()/3)),this},to.subtract=Kn,to.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},to.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},to.toDate=function(){return new Date(this.valueOf())},to.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||9999<n.year()?U(n,t?'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]':'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+1e3*(60*this.utcOffset())).toISOString().replace('Z',U(n,'Z')):U(n,t?'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]':'YYYY-MM-DD[T]HH:mm:ss.SSSZ')},to.inspect=function(){if(!this.isValid())return'moment.invalid(/* '+this._i+' */)';var e='moment',t='';this.isLocal()||(e=0===this.utcOffset()?'moment.utc':'moment.parseZone',t='Z');var n='['+e+'("]',o=0<=this.year()&&9999>=this.year()?'YYYY':'YYYYYY',a=t+'[")]';return this.format(n+o+'-MM-DD[T]HH:mm:ss.SSS'+a)},to.toJSON=function(){return this.isValid()?this.toISOString():null},to.toString=function(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')},to.unix=function(){return a(this.valueOf()/1e3)},to.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},to.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},to.year=wn,to.isLeapYear=function(){return Q(this.year())},to.weekYear=function(e){return ft.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},to.isoWeekYear=function(e){return ft.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},to.quarter=to.quarters=function(e){return null==e?o((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},to.month=ae,to.daysInMonth=function(){return te(this.year(),this.month())},to.week=to.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),'d')},to.isoWeek=to.isoWeeks=function(e){var t=ce(this,1,4).week;return null==e?t:this.add(7*(e-t),'d')},to.weeksInYear=function(){var e=this.localeData()._week;return ue(this.year(),e.dow,e.doy)},to.isoWeeksInYear=function(){return ue(this.year(),1,4)},to.date=Qn,to.day=to.days=function(e){if(!this.isValid())return null==e?NaN:this;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:(e=pe(e,this.localeData()),this.add(e-t,'d'))},to.weekday=function(e){if(!this.isValid())return null==e?NaN:this;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,'d')},to.isoWeekday=function(e){if(!this.isValid())return null==e?NaN:this;if(null!=e){var t=me(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},to.dayOfYear=function(e){var t=Rt((this.clone().startOf('day')-this.clone().startOf('year'))/864e5)+1;return null==e?t:this.add(e-t,'d')},to.hour=to.hours=En,to.minute=to.minutes=Jn,to.second=to.seconds=Zn,to.millisecond=to.milliseconds=eo,to.utcOffset=function(e,n,o){var a=this._offset||0,r;if(!this.isValid())return null==e?NaN:this;if(null!=e){if('string'!=typeof e)16>Mt(e)&&!o&&(e*=60);else if(e=et(dn,e),null===e)return this;return!this._isUTC&&n&&(r=nt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,'m'),a!==e&&(!n||this._changeInProgress?lt(this,at(e-a,'m'),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:nt(this)},to.utc=function(e){return this.utcOffset(0,e)},to.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(nt(this),'m')),this},to.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if('string'==typeof this._i){var e=et(sn,this._i);null==e?this.utcOffset(0,!0):this.utcOffset(e)}return this},to.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?$e(e).utcOffset():0,0==(this.utcOffset()-e)%60)},to.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},to.isLocal=function(){return!!this.isValid()&&!this._isUTC},to.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},to.isUtc=ot,to.isUTC=ot,to.zoneAbbr=function(){return this._isUTC?'UTC':''},to.zoneName=function(){return this._isUTC?'Coordinated Universal Time':''},to.dates=S('dates accessor is deprecated. Use date instead.',Qn),to.months=S('months accessor is deprecated. Use month instead',ae),to.years=S('years accessor is deprecated. Use year instead',wn),to.zone=S('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',function(e,t){return null==e?-this.utcOffset():('string'!=typeof e&&(e=-e),this.utcOffset(e,t),this)}),to.isDSTShifted=S('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),e=We(e),e._a){var t=e._isUTC?g(e._a):$e(e._a);this._isDSTShifted=this.isValid()&&0<C(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var no=O.prototype;no.calendar=function(e,t,n){var o=this._calendar[e]||this._calendar.sameElse;return E(o)?o.call(t,n):o},no.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},no.invalidDate=function(){return this._invalidDate},no.ordinal=function(e){return this._ordinal.replace('%d',e)},no.preparse=bt,no.postformat=bt,no.relativeTime=function(e,t,n,o){var a=this._relativeTime[n];return E(a)?a(e,t,n,o):a.replace(/%d/i,e)},no.pastFuture=function(e,t){var n=this._relativeTime[0<e?'future':'past'];return E(n)?n(t):n.replace(/%s/i,t)},no.set=function(e){var t,n;for(n in e)t=e[n],E(t)?this[n]=t:this['_'+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+'|'+/\d{1,2}/.source)},no.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Cn).test(t)?'format':'standalone'][e.month()]:n(this._months)?this._months:this._months.standalone},no.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Cn.test(t)?'format':'standalone'][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},no.monthsParse=function(e,t,n){var o,a,r;if(this._monthsParseExact)return ne.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;12>o;o++){if(a=g([2e3,o]),n&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp('^'+this.months(a,'').replace('.','')+'$','i'),this._shortMonthsParse[o]=new RegExp('^'+this.monthsShort(a,'').replace('.','')+'$','i')),n||this._monthsParse[o]||(r='^'+this.months(a,'')+'|^'+this.monthsShort(a,''),this._monthsParse[o]=new RegExp(r.replace('.',''),'i')),n&&'MMMM'===t&&this._longMonthsParse[o].test(e))return o;if(n&&'MMM'===t&&this._shortMonthsParse[o].test(e))return o;if(!n&&this._monthsParse[o].test(e))return o}},no.monthsRegex=function(e){return this._monthsParseExact?(p(this,'_monthsRegex')||re.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,'_monthsRegex')||(this._monthsRegex=cn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},no.monthsShortRegex=function(e){return this._monthsParseExact?(p(this,'_monthsRegex')||re.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,'_monthsShortRegex')||(this._monthsShortRegex=cn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},no.week=function(e){return ce(e,this._week.dow,this._week.doy).week},no.firstDayOfYear=function(){return this._week.doy},no.firstDayOfWeek=function(){return this._week.dow},no.weekdays=function(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?'format':'standalone'][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},no.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},no.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},no.weekdaysParse=function(e,t,n){var o,a,r;if(this._weekdaysParseExact)return fe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;7>o;o++){if(a=g([2e3,1]).day(o),n&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp('^'+this.weekdays(a,'').replace('.','.?')+'$','i'),this._shortWeekdaysParse[o]=new RegExp('^'+this.weekdaysShort(a,'').replace('.','.?')+'$','i'),this._minWeekdaysParse[o]=new RegExp('^'+this.weekdaysMin(a,'').replace('.','.?')+'$','i')),this._weekdaysParse[o]||(r='^'+this.weekdays(a,'')+'|^'+this.weekdaysShort(a,'')+'|^'+this.weekdaysMin(a,''),this._weekdaysParse[o]=new RegExp(r.replace('.',''),'i')),n&&'dddd'===t&&this._fullWeekdaysParse[o].test(e))return o;if(n&&'ddd'===t&&this._shortWeekdaysParse[o].test(e))return o;if(n&&'dd'===t&&this._minWeekdaysParse[o].test(e))return o;if(!n&&this._weekdaysParse[o].test(e))return o}},no.weekdaysRegex=function(e){return this._weekdaysParseExact?(p(this,'_weekdaysRegex')||ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,'_weekdaysRegex')||(this._weekdaysRegex=cn),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},no.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(p(this,'_weekdaysRegex')||ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,'_weekdaysShortRegex')||(this._weekdaysShortRegex=cn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},no.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(p(this,'_weekdaysRegex')||ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,'_weekdaysMinRegex')||(this._weekdaysMinRegex=cn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},no.isPM=function(e){return'p'===(e+'').toLowerCase().charAt(0)},no.meridiem=function(e,t,n){return 11<e?n?'pm':'PM':n?'am':'AM'},we('en',{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===x(e%100/10)?'th':1==t?'st':2==t?'nd':3==t?'rd':'th';return e+n}}),t.lang=S('moment.lang is deprecated. Use moment.locale instead.',we),t.langData=S('moment.langData is deprecated. Use moment.localeData instead.',Ce);var oo=Mt,ao=Tt('ms'),ro=Tt('s'),io=Tt('m'),so=Tt('h'),lo=Tt('d'),co=Tt('w'),uo=Tt('M'),po=Tt('y'),mo=St('milliseconds'),fo=St('seconds'),go=St('minutes'),ho=St('hours'),bo=St('days'),yo=St('months'),_o=St('years'),ko=Rt,vo={ss:44,s:45,m:45,h:22,d:26,M:11},wo=Mt,xo=Qe.prototype;return xo.isValid=function(){return this._isValid},xo.abs=function(){var e=this._data;return this._milliseconds=oo(this._milliseconds),this._days=oo(this._days),this._months=oo(this._months),e.milliseconds=oo(e.milliseconds),e.seconds=oo(e.seconds),e.minutes=oo(e.minutes),e.hours=oo(e.hours),e.months=oo(e.months),e.years=oo(e.years),this},xo.add=function(e,t){return vt(this,e,t,1)},xo.subtract=function(e,t){return vt(this,e,t,-1)},xo.as=function(e){if(!this.isValid())return NaN;var t=this._milliseconds,n,o;if(e=R(e),'month'===e||'year'===e)return n=this._days+t/864e5,o=this._months+xt(n),'month'===e?o:o/12;switch(n=this._days+Rt(Ct(this._months)),e){case'week':return n/7+t/6048e5;case'day':return n+t/864e5;case'hour':return 24*n+t/36e5;case'minute':return 1440*n+t/6e4;case'second':return 86400*n+t/1e3;case'millisecond':return a(864e5*n)+t;default:throw new Error('Unknown unit '+e);}},xo.asMilliseconds=ao,xo.asSeconds=ro,xo.asMinutes=io,xo.asHours=so,xo.asDays=lo,xo.asWeeks=co,xo.asMonths=uo,xo.asYears=po,xo.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*x(this._months/12):NaN},xo._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,o=this._data,a,r,i,s,d;return 0<=e&&0<=t&&0<=n||0>=e&&0>=t&&0>=n||(e+=864e5*wt(Ct(n)+t),t=0,n=0),o.milliseconds=e%1e3,a=w(e/1e3),o.seconds=a%60,r=w(a/60),o.minutes=r%60,i=w(r/60),o.hours=i%24,t+=w(i/24),d=w(xt(t)),n+=d,t-=wt(Ct(d)),s=w(n/12),n%=12,o.days=t,o.months=n,o.years=s,this},xo.clone=function(){return at(this)},xo.get=function(e){return e=R(e),this.isValid()?this[e+'s']():NaN},xo.milliseconds=mo,xo.seconds=fo,xo.minutes=go,xo.hours=ho,xo.days=bo,xo.weeks=function(){return w(this.days()/7)},xo.months=yo,xo.years=_o,xo.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Et(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},xo.toISOString=It,xo.toString=It,xo.toJSON=It,xo.locale=ut,xo.localeData=pt,xo.toIsoString=S('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',It),xo.lang=Gn,F('X',0,0,'unix'),F('x',0,0,'valueOf'),z('x',rn),z('X',ln),q('X',function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),q('x',function(e,t,n){n._d=new Date(x(e))}),t.version='2.21.0',function(e){Dt=e}($e),t.fn=to,t.min=function(){var e=[].slice.call(arguments,0);return Ke('isBefore',e)},t.max=function(){var e=[].slice.call(arguments,0);return Ke('isAfter',e)},t.now=function(){return Date.now?Date.now():+new Date},t.utc=g,t.unix=function(e){return $e(1e3*e)},t.months=function(e,t){return _t(e,t,'months')},t.isDate=c,t.locale=we,t.invalid=y,t.duration=at,t.isMoment=v,t.weekdays=function(e,t,n){return kt(e,t,n,'weekdays')},t.parseZone=function(){return $e.apply(null,arguments).parseZone()},t.localeData=Ce,t.isDuration=Je,t.monthsShort=function(e,t){return _t(e,t,'monthsShort')},t.weekdaysMin=function(e,t,n){return kt(e,t,n,'weekdaysMin')},t.defineLocale=xe,t.updateLocale=function(e,t){if(null!=t){var n=An,o,a;a=ve(e),null!=a&&(n=a._config),t=A(n,t),o=new O(t),o.parentLocale=On[e],On[e]=o,we(e)}else null!=On[e]&&(null==On[e].parentLocale?null!=On[e]&&delete On[e]:On[e]=On[e].parentLocale);return On[e]},t.locales=Te,t.weekdaysShort=function(e,t,n){return kt(e,t,n,'weekdaysShort')},t.normalizeUnits=R,t.relativeTimeRounding=At,t.relativeTimeThreshold=function(e,t){return void 0!==vo[e]&&(void 0===t?vo[e]:(vo[e]=t,'s'===e&&(vo.ss=t-1),!0))},t.calendarFormat=function(e,t){var n=e.diff(t,'days',!0);return-6>n?'sameElse':-1>n?'lastWeek':0>n?'lastDay':1>n?'sameDay':2>n?'nextDay':7>n?'nextWeek':'sameElse'},t.prototype=to,t.HTML5_FMT={DATETIME_LOCAL:'YYYY-MM-DDTHH:mm',DATETIME_LOCAL_SECONDS:'YYYY-MM-DDTHH:mm:ss',DATETIME_LOCAL_MS:'YYYY-MM-DDTHH:mm:ss.SSS',DATE:'YYYY-MM-DD',TIME:'HH:mm',TIME_SECONDS:'HH:mm:ss',TIME_MS:'HH:mm:ss.SSS',WEEK:'YYYY-[W]WW',MONTH:'YYYY-MM'},t})}).call(t,n(39)(e))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){function t(){}function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}t.maxFromBits=function(e){return Math.pow(2,e)},t.limitUI04=t.maxFromBits(4),t.limitUI06=t.maxFromBits(6),t.limitUI08=t.maxFromBits(8),t.limitUI12=t.maxFromBits(12),t.limitUI14=t.maxFromBits(14),t.limitUI16=t.maxFromBits(16),t.limitUI32=t.maxFromBits(32),t.limitUI40=t.maxFromBits(40),t.limitUI48=t.maxFromBits(48),t.randomUI04=function(){return n(0,t.limitUI04-1)},t.randomUI06=function(){return n(0,t.limitUI06-1)},t.randomUI08=function(){return n(0,t.limitUI08-1)},t.randomUI12=function(){return n(0,t.limitUI12-1)},t.randomUI14=function(){return n(0,t.limitUI14-1)},t.randomUI16=function(){return n(0,t.limitUI16-1)},t.randomUI32=function(){return n(0,t.limitUI32-1)},t.randomUI40=function(){return(0|Math.random()*1073741824)+(0|Math.random()*1024)*1073741824},t.randomUI48=function(){return(0|Math.random()*1073741824)+(0|Math.random()*262144)*1073741824},t.paddedString=function(e,t,n){e=e+'',n=n?n:'0';for(var o=t-e.length;0<o;o>>>=1,n+=n)1&o&&(e=n+e);return e},t.prototype.fromParts=function(e,n,o,a,r,i){return this.version=15&o>>12,this.hex=t.paddedString(e.toString(16),8)+'-'+t.paddedString(n.toString(16),4)+'-'+t.paddedString(o.toString(16),4)+'-'+t.paddedString(a.toString(16),2)+t.paddedString(r.toString(16),2)+'-'+t.paddedString(i.toString(16),12),this},t.prototype.toString=function(){return this.hex},t.prototype.toURN=function(){return'urn:uuid:'+this.hex},t.prototype.toBytes=function(){for(var e=this.hex.split('-'),t=[],n=0,o=0;o<e.length;o++)for(var a=0;a<e[o].length;a+=2)t[n++]=parseInt(e[o].substr(a,2),16);return t},t.prototype.equals=function(e){return!!(e instanceof UUID)&&!(this.hex!==e.hex)},t.getTimeFieldValues=function(e){var t=e-Date.UTC(1582,9,15),n=268435455&1e4*(t/4294967296);return{low:1e4*(268435455&t)%4294967296,mid:65535&n,hi:n>>>16,timestamp:t}},t._create4=function(){return new t().fromParts(t.randomUI32(),t.randomUI16(),16384|t.randomUI12(),128|t.randomUI06(),t.randomUI08(),t.randomUI48())},t._create1=function(){var e=new Date().getTime(),n=t.randomUI14(),o=1099511627776*(1|t.randomUI08())+t.randomUI40(),a=t.randomUI04(),r=0;e==r?Math.random()<1/4&&9984>a?a+=1+t.randomUI04():n++:(e<r&&n++,r=e,a=t.randomUI04());var i=t.getTimeFieldValues(r),s=i.low+a,d=4096|4095&i.hi;n&=16383;var l=128|n>>>8,c=255&n;return new t().fromParts(s,i.mid,d,l,c,o)},t.create=function(e){return e=e||4,this['_create'+e]()},t.fromTime=function(e,n){n=!!n&&n;var o=t.getTimeFieldValues(e),a=o.low,r=4096|4095&o.hi;return!1===n?new t().fromParts(a,o.mid,r,0,0,0):new t().fromParts(a,o.mid,r,128|t.limitUI06,t.limitUI08-1,t.limitUI48-1)},t.firstFromTime=function(e){return t.fromTime(e,!1)},t.lastFromTime=function(e){return t.fromTime(e,!0)},t.fromURN=function(e){var n=/^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i,o;return(o=n.exec(e))?new t().fromParts(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16),parseInt(o[4],16),parseInt(o[5],16),parseInt(o[6],16)):null},t.fromBytes=function(e){if(5>e.length)return null;for(var n='',o=0,a=[4,2,2,2,6],r=0;r<a.length;r++){for(var i=0,s;i<a[r];i++)s=e[o++].toString(16),1==s.length&&(s='0'+s),n+=s;6!==a[r]&&(n+='-')}return t.fromURN(n)},t.fromBinary=function(e){for(var n=[],o=0;o<e.length;o++)if(n[o]=e.charCodeAt(o),255<n[o]||0>n[o])throw new Error('Unexpected byte in binary data.');return t.fromBytes(n)},t.new=function(){return this.create(4)},t.newTS=function(){return this.create(1)},e.exports=t},function(){},function(){},function(e,t){'use strict';function n(){if('serviceWorker'in navigator){var e=new URL('',window.location);if(e.origin!==window.location.origin)return;window.addEventListener('load',function(){var e='./service-worker.js';r?(a(e),navigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ')})):o(e)})}}function o(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){'installed'===t.state&&(navigator.serviceWorker.controller?console.log('New content is available; please refresh.'):console.log('Content is cached for offline use.'))}}}).catch(function(e){console.error('Error during service worker registration:',e)})}function a(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get('content-type').indexOf('javascript')?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e)}).catch(function(){console.log('No internet connection found. App is running in offline mode.')})}t.a=n;var r=!!('localhost'===window.location.hostname||'[::1]'===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);